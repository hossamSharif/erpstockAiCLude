{"version":3,"file":"src_app_balance-sheet_balance-sheet_module_ts.js","mappings":"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","sources":["./src/app/balance-sheet/balance-sheet-routing.module.ts","./src/app/balance-sheet/balance-sheet.module.ts","./src/app/balance-sheet/balance-sheet.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BalanceSheetPage } from './balance-sheet.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BalanceSheetPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BalanceSheetPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BalanceSheetPageRoutingModule } from './balance-sheet-routing.module';\n\nimport { BalanceSheetPage } from './balance-sheet.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BalanceSheetPageRoutingModule\n  ],\n  declarations: [BalanceSheetPage]\n})\nexport class BalanceSheetPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ServicesService } from \"../stockService/services.service\";\nimport { Observable } from 'rxjs';\nimport {  LoadingController, ModalController, ToastController } from '@ionic/angular';\nimport { DatePipe } from '@angular/common'; \nimport { Storage } from '@ionic/storage';\nimport { NavigationExtras, Router } from '@angular/router'\n\n@Component({\n  selector: 'app-balance-sheet',\n  templateUrl: './balance-sheet.page.html',\n  styleUrls: ['./balance-sheet.page.scss'],\n})\nexport class BalanceSheetPage implements OnInit {\n  loading:boolean = false\n  showEmpty :boolean = false\n  payArray:Array<any> =[]\n  store_info : {id:any , location :any ,store_name:any , store_ref:any }\n  user_info : {id:any ,user_name:any ,store_id :any,full_name:any,password:any}\n  debitSum:any=0\n  creditSum:any=0\n  constructor(private rout : Router,private storage: Storage,private modalController: ModalController,private loadingController:LoadingController, private datePipe:DatePipe,private api:ServicesService,private toast :ToastController) { \n    this.getAppInfo()\n  }\n\n  ngOnInit() {\n\n  }\n\n\n  getAppInfo(){ \n    this.storage.get('USER_INFO').then((response) => {\n     if (response) {\n       this.user_info = response\n       //console.log(this.user_info) \n     }\n   });\n   this.storage.get('STORE_INFO').then((response) => {\n     if (response) {\n       this.store_info = response\n        //console.log(response)\n        //console.log(this.store_info) \n      this.search() \n     }\n   });\n     \n }\n\n\nsearch(){\n  this.getBalanceSheet()\n}\n\n\ngetBalanceSheet(){\n  this.loading = true\n  this.api.getBalanceSubAccount(this.store_info.id,2).subscribe(data =>{\n     //console.log('hhhhhh',data)\n     let res = data\n     if(res['message'] != 'No record Found'){\n       this.payArray = res['data'] \n     } \n      this.loading=false\n      //console.log(this.payArray) \n      this.prepareBalances()\n   }, (err) => {\n   //console.log(err);\n   this.loading=false\n },\n ()=>{\n  this.loading = false\n })  \n  \n}\n\n\nprepareBalances(){\n  for (let i = 0; i < this.payArray.length; i++) {\n    const element = this.payArray[i];\n    let debitTot = +element.fromDebitTot + +element.toDebitTot\n    let creditTot = +element.fromCreditTot + +element.toCreditTot\n    if(element.sub_type == \"debit\"){ \n      let bl = (+element.sub_balance + +debitTot) - +creditTot\n      if(bl > 0){ \n        element.debit = bl\n        element.credit = 0 \n      }else if(bl < 0){ \n        bl = bl * -1\n        element.debit = 0\n        element.credit = bl  \n      }else if(bl == 0){ \n       element.debit = bl\n       element.credit = 0  \n      }\n      \n    }else if(element.sub_type == \"credit\"){ \n      let bl = (+element.sub_balance + +creditTot) - +debitTot \n      if(bl > 0){ \n        element.debit = 0 \n        element.credit = bl\n      }else if(bl < 0){ \n        bl = bl * -1\n        element.debit = bl\n        element.credit =  0 \n      }else if(bl == 0){ \n       element.debit = 0\n       element.credit = bl  \n      } \n    }\n    \n  }\n  this.debitSum = this.payArray.reduce( (acc, obj)=> { return acc + +obj.debit; }, 0);\n  this.creditSum = this.payArray.reduce( (acc, obj)=> { return acc + +obj.credit; }, 0);\n  \n}\n\n \n}\n"],"names":[],"sourceRoot":"webpack:///"}
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9116],{39116:(be,m,l)=>{l.r(m),l.d(m,{SpendsPageModule:()=>Ze});var p=l(69808),g=l(34182),u=l(23349),Z=l(94030),f=l(70655),b=l(55506),e=l(29863),A=l(65465),x=l(90849),j=l(91472);function q(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.type_name)}function y(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-grid"),e.TgZ(1,"ion-row",2),e.TgZ(2,"ion-col",3),e.TgZ(3,"ion-card"),e.TgZ(4,"ion-grid"),e.TgZ(5,"ion-row"),e.TgZ(6,"ion-col",3),e.TgZ(7,"ion-grid"),e.TgZ(8,"ion-row",2),e.TgZ(9,"ion-col",4),e.TgZ(10,"ion-label"),e.TgZ(11,"strong"),e._uU(12,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a :"),e.qZA(),e.qZA(),e.TgZ(13,"ion-item",5),e.TgZ(14,"input",6),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().journal.j_type=s})("change",function(s){return e.CHM(t),e.oxw().jTypeChange(s)}),e.qZA(),e.TgZ(15,"datalist",7),e.YNc(16,q,1,1,"option",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"ion-col",9),e.TgZ(18,"ion-label"),e.TgZ(19,"strong"),e._uU(20,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.qZA(),e.qZA(),e.TgZ(21,"ion-item",5),e.TgZ(22,"input",10),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().journal.j_date=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.journal.j_type),e.xp6(2),e.Q6J("ngForOf",t.journalType),e.xp6(6),e.Q6J("ngModel",t.journal.j_date)}}function F(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.sub_name)}function w(i,_){1&i&&(e.TgZ(0,"ion-text",32),e._uU(1,"\u062f\u0627\u0626\u0646 "),e.qZA())}function M(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedFromAccount.credit)}}function J(i,_){1&i&&(e.TgZ(0,"ion-text",33),e._uU(1,"\u0645\u062f\u064a\u0646 "),e.qZA())}function S(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedFromAccount.debit)}}function P(i,_){1&i&&(e.TgZ(0,"ion-col",39),e.TgZ(1,"ion-label"),e.TgZ(2,"ion-text",33),e._uU(3,"\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644 \u0627\u0648 \u0627\u0644\u0645\u0648\u0631\u062f "),e.qZA(),e.qZA(),e.qZA())}function C(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.sub_name)}function N(i,_){1&i&&(e.TgZ(0,"ion-text",32),e._uU(1,"\u062f\u0627\u0626\u0646 "),e.qZA())}function v(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedFromAccount2.credit)}}function I(i,_){1&i&&(e.TgZ(0,"ion-text",33),e._uU(1,"\u0645\u062f\u064a\u0646 "),e.qZA())}function Q(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedFromAccount2.debit)}}function U(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).deleteItem("from")}),e._UZ(1,"ion-icon",41),e.qZA()}}const h=function(i,_){return{coloredMsg:i,"ion-justify-content-center":_}};function Y(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",34),e.YNc(1,P,4,0,"ion-col",35),e.TgZ(2,"ion-col",16),e.TgZ(3,"ion-item",5),e.TgZ(4,"input",36),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).selectedFromAccount2.sub_name=s})("change",function(s){return e.CHM(t),e.oxw(2).pickAccountFrom(s,2)}),e.qZA(),e.TgZ(5,"datalist",37),e.YNc(6,C,1,1,"option",8),e.qZA(),e.qZA(),e.TgZ(7,"ion-label"),e.TgZ(8,"strong"),e._uU(9," \u0627\u0644\u0631\u0635\u064a\u062f : "),e.qZA(),e.YNc(10,N,2,0,"ion-text",19),e.YNc(11,v,3,1,"ion-text",1),e.YNc(12,I,2,0,"ion-text",20),e.YNc(13,Q,3,1,"ion-text",1),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e.TgZ(15,"ion-item",5),e.TgZ(16,"ion-input",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).jdetail_from2.debit=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"ion-col",22),e.YNc(18,U,2,0,"ion-button",38),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(10,h,!0===t.coloredMsgFrom,!1===t.coloredMsgFrom)),e.xp6(1),e.Q6J("ngIf",1==t.coloredMsgFrom),e.xp6(3),e.Q6J("ngModel",t.selectedFromAccount2.sub_name),e.xp6(2),e.Q6J("ngForOf",t.sub_accountFrom),e.xp6(4),e.Q6J("ngIf","credit"==t.selectedFromAccount2.currentType),e.xp6(1),e.Q6J("ngIf","credit"==t.selectedFromAccount2.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedFromAccount2.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedFromAccount2.currentType),e.xp6(3),e.Q6J("ngModel",t.jdetail_from2.debit),e.xp6(2),e.Q6J("ngIf",0==t.showFrom3)}}function D(i,_){1&i&&(e.TgZ(0,"ion-col",39),e.TgZ(1,"ion-label"),e.TgZ(2,"ion-text",33),e._uU(3,"\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644 \u0627\u0648 \u0627\u0644\u0645\u0648\u0631\u062f "),e.qZA(),e.qZA(),e.qZA())}function k(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.sub_name)}function H(i,_){1&i&&(e.TgZ(0,"ion-text",32),e._uU(1,"\u062f\u0627\u0626\u0646 "),e.qZA())}function O(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedFromAccount3.credit)}}function E(i,_){1&i&&(e.TgZ(0,"ion-text",33),e._uU(1,"\u0645\u062f\u064a\u0646 "),e.qZA())}function L(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedFromAccount3.debit)}}function z(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",34),e.YNc(1,D,4,0,"ion-col",35),e.TgZ(2,"ion-col",16),e.TgZ(3,"ion-item",5),e.TgZ(4,"input",42),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).selectedFromAccount3.sub_name=s})("change",function(s){return e.CHM(t),e.oxw(2).pickAccountFrom(s,3)}),e.qZA(),e.TgZ(5,"datalist",43),e.YNc(6,k,1,1,"option",8),e.qZA(),e.qZA(),e.TgZ(7,"ion-label"),e.TgZ(8,"strong"),e._uU(9," \u0627\u0644\u0631\u0635\u064a\u062f : "),e.qZA(),e.YNc(10,H,2,0,"ion-text",19),e.YNc(11,O,3,1,"ion-text",1),e.YNc(12,E,2,0,"ion-text",20),e.YNc(13,L,3,1,"ion-text",1),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e.TgZ(15,"ion-item",5),e.TgZ(16,"ion-input",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).jdetail_from3.debit=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"ion-col",22),e.TgZ(18,"ion-button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteItem3("from")}),e._UZ(19,"ion-icon",41),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(9,h,!0===t.coloredMsgFrom3,!1===t.coloredMsgFrom3)),e.xp6(1),e.Q6J("ngIf",1==t.coloredMsgFrom3),e.xp6(3),e.Q6J("ngModel",t.selectedFromAccount3.sub_name),e.xp6(2),e.Q6J("ngForOf",t.sub_accountFrom),e.xp6(4),e.Q6J("ngIf","credit"==t.selectedFromAccount3.currentType),e.xp6(1),e.Q6J("ngIf","credit"==t.selectedFromAccount3.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedFromAccount3.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedFromAccount3.currentType),e.xp6(3),e.Q6J("ngModel",t.jdetail_from3.debit)}}function B(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",44),e.TgZ(1,"ion-button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addTolist("from")}),e.TgZ(2,"ion-label",31),e._uU(3,"\u0627\u0636\u0627\u0641\u0629 \u062d\u0633\u0627\u0628 +"),e.qZA(),e.qZA(),e.qZA()}}function W(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",44),e.TgZ(1,"ion-button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addTolist3("from")}),e.TgZ(2,"ion-label",31),e._uU(3,"\u0627\u0636\u0627\u0641\u0629 \u062d\u0633\u0627\u0628 +"),e.qZA(),e.qZA(),e.qZA()}}function $(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.sub_name)}function R(i,_){1&i&&(e.TgZ(0,"ion-text",32),e._uU(1,"\u062f\u0627\u0626\u0646 "),e.qZA())}function G(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedToAccount.credit)}}function K(i,_){1&i&&(e.TgZ(0,"ion-text",33),e._uU(1,"\u0645\u062f\u064a\u0646 "),e.qZA())}function V(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedToAccount.debit)}}function X(i,_){1&i&&(e.TgZ(0,"ion-col",39),e.TgZ(1,"ion-label"),e.TgZ(2,"ion-text",33),e._uU(3,"\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644 \u0627\u0648 \u0627\u0644\u0645\u0648\u0631\u062f "),e.qZA(),e.qZA(),e.qZA())}function ee(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.sub_name)}function te(i,_){1&i&&(e.TgZ(0,"ion-text",32),e._uU(1,"\u062f\u0627\u0626\u0646 "),e.qZA())}function ie(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedToAccount2.credit)}}function oe(i,_){1&i&&(e.TgZ(0,"ion-text",33),e._uU(1,"\u0645\u062f\u064a\u0646 "),e.qZA())}function ne(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedToAccount2.debit)}}function se(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).deleteItem("to")}),e._UZ(1,"ion-icon",41),e.qZA()}}function _e(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",34),e.YNc(1,X,4,0,"ion-col",35),e.TgZ(2,"ion-col",16),e.TgZ(3,"ion-item",5),e.TgZ(4,"input",46),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).selectedToAccount2.sub_name=s})("change",function(s){return e.CHM(t),e.oxw(2).pickAccountTo(s,2)}),e.qZA(),e.TgZ(5,"datalist",47),e.YNc(6,ee,1,1,"option",8),e.qZA(),e.qZA(),e.TgZ(7,"ion-label"),e.TgZ(8,"strong"),e._uU(9," \u0627\u0644\u0631\u0635\u064a\u062f : "),e.qZA(),e.YNc(10,te,2,0,"ion-text",19),e.YNc(11,ie,3,1,"ion-text",1),e.YNc(12,oe,2,0,"ion-text",20),e.YNc(13,ne,3,1,"ion-text",1),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e.TgZ(15,"ion-item",5),e.TgZ(16,"ion-input",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).jdetail_to2.credit=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"ion-col",22),e.YNc(18,se,2,0,"ion-button",38),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(10,h,1==t.coloredMsgTo,0==t.coloredMsgTo)),e.xp6(1),e.Q6J("ngIf",1==t.coloredMsgTo),e.xp6(3),e.Q6J("ngModel",t.selectedToAccount2.sub_name),e.xp6(2),e.Q6J("ngForOf",t.sub_accountTo),e.xp6(4),e.Q6J("ngIf","credit"==t.selectedToAccount2.currentType),e.xp6(1),e.Q6J("ngIf","credit"==t.selectedToAccount2.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedToAccount2.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedToAccount2.currentType),e.xp6(3),e.Q6J("ngModel",t.jdetail_to2.credit),e.xp6(2),e.Q6J("ngIf",0==t.showTo3)}}function ce(i,_){1&i&&(e.TgZ(0,"ion-col",39),e.TgZ(1,"ion-label"),e.TgZ(2,"ion-text",33),e._uU(3,"\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644 \u0627\u0648 \u0627\u0644\u0645\u0648\u0631\u062f "),e.qZA(),e.qZA(),e.qZA())}function re(i,_){1&i&&e._UZ(0,"option",11),2&i&&e.Q6J("value",_.$implicit.sub_name)}function ue(i,_){1&i&&(e.TgZ(0,"ion-text",32),e._uU(1,"\u062f\u0627\u0626\u0646 "),e.qZA())}function de(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedToAccount3.credit)}}function ae(i,_){1&i&&(e.TgZ(0,"ion-text",33),e._uU(1,"\u0645\u062f\u064a\u0646 "),e.qZA())}function le(i,_){if(1&i&&(e.TgZ(0,"ion-text"),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.selectedToAccount3.debit)}}function ge(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",34),e.YNc(1,ce,4,0,"ion-col",35),e.TgZ(2,"ion-col",16),e.TgZ(3,"ion-item",5),e.TgZ(4,"input",48),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).selectedToAccount3.sub_name=s})("change",function(s){return e.CHM(t),e.oxw(2).pickAccountTo(s,3)}),e.qZA(),e.TgZ(5,"datalist",49),e.YNc(6,re,1,1,"option",8),e.qZA(),e.qZA(),e.TgZ(7,"ion-label"),e.TgZ(8,"strong"),e._uU(9," \u0627\u0644\u0631\u0635\u064a\u062f : "),e.qZA(),e.YNc(10,ue,2,0,"ion-text",19),e.YNc(11,de,3,1,"ion-text",1),e.YNc(12,ae,2,0,"ion-text",20),e.YNc(13,le,3,1,"ion-text",1),e.qZA(),e.qZA(),e.TgZ(14,"ion-col",9),e.TgZ(15,"ion-item",5),e.TgZ(16,"ion-input",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).jdetail_to3.credit=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"ion-col",22),e.TgZ(18,"ion-button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteItem3("to")}),e._UZ(19,"ion-icon",41),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(9,h,1==t.coloredMsgTo3,0==t.coloredMsgTo3)),e.xp6(1),e.Q6J("ngIf",1==t.coloredMsgTo3),e.xp6(3),e.Q6J("ngModel",t.selectedToAccount3.sub_name),e.xp6(2),e.Q6J("ngForOf",t.sub_accountTo),e.xp6(4),e.Q6J("ngIf","credit"==t.selectedToAccount3.currentType),e.xp6(1),e.Q6J("ngIf","credit"==t.selectedToAccount3.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedToAccount3.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedToAccount3.currentType),e.xp6(3),e.Q6J("ngModel",t.jdetail_to3.credit)}}function pe(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",44),e.TgZ(1,"ion-button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addTolist("to")}),e.TgZ(2,"ion-label",31),e._uU(3,"\u0627\u0636\u0627\u0641\u0629 \u062d\u0633\u0627\u0628 +"),e.qZA(),e.qZA(),e.qZA()}}function he(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",44),e.TgZ(1,"ion-button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addTolist3("to")}),e.TgZ(2,"ion-label",31),e._uU(3,"\u0627\u0636\u0627\u0641\u0629 \u062d\u0633\u0627\u0628 +"),e.qZA(),e.qZA(),e.qZA()}}function fe(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"ion-grid"),e.TgZ(1,"ion-row",12),e.TgZ(2,"ion-col",13),e.TgZ(3,"ion-card"),e.TgZ(4,"ion-list-header",14),e.TgZ(5,"h4"),e.TgZ(6,"ion-label",15),e.TgZ(7,"strong"),e._uU(8,"\u0645\u0646 \u062d\u0633\u0627\u0628 : "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"ion-grid"),e.TgZ(10,"ion-row",12),e.TgZ(11,"ion-col",16),e.TgZ(12,"ion-item",5),e.TgZ(13,"input",17),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedFromAccount.sub_name=s})("change",function(s){return e.CHM(t),e.oxw().pickAccountFrom(s,1)}),e.qZA(),e.TgZ(14,"datalist",18),e.YNc(15,F,1,1,"option",8),e.qZA(),e.qZA(),e.TgZ(16,"ion-label"),e.TgZ(17,"strong"),e._uU(18," \u0627\u0644\u0631\u0635\u064a\u062f : "),e.qZA(),e.YNc(19,w,2,0,"ion-text",19),e.YNc(20,M,3,1,"ion-text",1),e.YNc(21,J,2,0,"ion-text",20),e.YNc(22,S,3,1,"ion-text",1),e.qZA(),e.qZA(),e.TgZ(23,"ion-col",9),e.TgZ(24,"ion-item",5),e.TgZ(25,"ion-input",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().jdetail_from.debit=s}),e.qZA(),e.qZA(),e.qZA(),e._UZ(26,"ion-col",22),e.qZA(),e.YNc(27,Y,19,13,"ion-row",23),e.YNc(28,z,20,12,"ion-row",23),e._UZ(29,"ion-item-divider"),e.YNc(30,B,4,0,"ion-item",24),e.YNc(31,W,4,0,"ion-item",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"ion-col",13),e.TgZ(33,"ion-card"),e.TgZ(34,"ion-list-header",14),e.TgZ(35,"h4"),e.TgZ(36,"ion-label",15),e.TgZ(37,"strong"),e._uU(38,"\u0627\u0644\u064a \u062d\u0633\u0627\u0628 :"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"ion-grid"),e.TgZ(40,"ion-row"),e.TgZ(41,"ion-col",16),e.TgZ(42,"ion-item",5),e.TgZ(43,"input",25),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedToAccount.sub_name=s})("change",function(s){return e.CHM(t),e.oxw().pickAccountTo(s,1)}),e.qZA(),e.TgZ(44,"datalist",26),e.YNc(45,$,1,1,"option",8),e.qZA(),e.qZA(),e.TgZ(46,"ion-label"),e.TgZ(47,"strong"),e._uU(48," \u0627\u0644\u0631\u0635\u064a\u062f : "),e.qZA(),e.YNc(49,R,2,0,"ion-text",19),e.YNc(50,G,3,1,"ion-text",1),e.YNc(51,K,2,0,"ion-text",20),e.YNc(52,V,3,1,"ion-text",1),e.qZA(),e.qZA(),e.TgZ(53,"ion-col",9),e.TgZ(54,"ion-item",5),e.TgZ(55,"ion-input",21),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().jdetail_to.credit=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(56,_e,19,13,"ion-row",23),e.YNc(57,ge,20,12,"ion-row",23),e._UZ(58,"ion-item-divider"),e.YNc(59,pe,4,0,"ion-item",24),e.YNc(60,he,4,0,"ion-item",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"ion-row"),e.TgZ(62,"ion-grid"),e.TgZ(63,"ion-row"),e.TgZ(64,"ion-col",3),e.TgZ(65,"ion-card"),e.TgZ(66,"ion-item"),e.TgZ(67,"h4"),e.TgZ(68,"ion-label",15),e.TgZ(69,"strong"),e._uU(70," \u0627\u0644\u0628\u064a\u0627\u0646"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"ion-button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().presentModalSales("sales","\u0648\u062f \u0627\u0644\u0645\u062d\u062c\u0648\u0628")}),e._UZ(72,"ion-icon",28),e._uU(73," \u0631\u0628\u0637 \u0627\u0644\u0642\u064a\u062f \u0628\u0641\u0627\u062a\u0648\u0631\u0629 "),e.qZA(),e.qZA(),e.TgZ(74,"ion-item",5),e.TgZ(75,"ion-input",29),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().journal.j_details=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"ion-row",12),e.TgZ(77,"ion-col",9),e.TgZ(78,"ion-button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e.TgZ(79,"ion-label",31),e._uU(80," \u062d\u0641\u0640\u0640\u0638"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(13),e.Q6J("ngModel",t.selectedFromAccount.sub_name),e.xp6(2),e.Q6J("ngForOf",t.sub_accountFrom),e.xp6(4),e.Q6J("ngIf","credit"==t.selectedFromAccount.currentType),e.xp6(1),e.Q6J("ngIf","credit"==t.selectedFromAccount.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedFromAccount.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedFromAccount.currentType),e.xp6(3),e.Q6J("ngModel",t.jdetail_from.debit),e.xp6(2),e.Q6J("ngIf",1==t.showFrom),e.xp6(1),e.Q6J("ngIf",1==t.showFrom3),e.xp6(2),e.Q6J("ngIf",0==t.showFrom&&0==t.showFrom3),e.xp6(1),e.Q6J("ngIf",0==t.showFrom3&&1==t.showFrom),e.xp6(12),e.Q6J("ngModel",t.selectedToAccount.sub_name),e.xp6(2),e.Q6J("ngForOf",t.sub_accountTo),e.xp6(4),e.Q6J("ngIf","credit"==t.selectedToAccount.currentType),e.xp6(1),e.Q6J("ngIf","credit"==t.selectedToAccount.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedToAccount.currentType),e.xp6(1),e.Q6J("ngIf","debit"==t.selectedToAccount.currentType),e.xp6(3),e.Q6J("ngModel",t.jdetail_to.credit),e.xp6(1),e.Q6J("ngIf",1==t.showTo),e.xp6(1),e.Q6J("ngIf",1==t.showTo3),e.xp6(2),e.Q6J("ngIf",0==t.showTo&&0==t.showTo3),e.xp6(1),e.Q6J("ngIf",0==t.showTo3&&1==t.showTo),e.xp6(15),e.Q6J("ngModel",t.journal.j_details)}}const Te=[{path:"",component:(()=>{class i{constructor(t,o,s,c,n,r,d,a){this.modalController=t,this.alertController=o,this.authenticationService=s,this.storage=c,this.loadingController=n,this.datePipe=r,this.api=d,this.toast=a,this.sub_accountFrom=[],this.sub_accountTo=[],this.randomsNumber=[],this.jdetail_fromArr=[],this.journalType=[],this.journalTypeDetails=[],this.jdetail_toArr=[],this.selectedFromAccountArr=[],this.selectedToAccountArr=[],this.showFrom=!1,this.showTo=!1,this.showFrom3=!1,this.showTo3=!1,this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1,this.getAppInfo()}ngOnInit(){}getAppInfo(){this.storage.get("USER_INFO").then(t=>{t&&(this.user_info=t)}),this.storage.get("STORE_INFO").then(t=>{t&&(this.store_info=t,this.getAllAccounts(),this.getJournalType(),this.prepareInvo())})}coleredMsgFromFunc(){1==this.showFrom&&""==this.selectedFromAccount2.sub_name?this.coloredMsgFrom=!0:1==this.showFrom3&&""==this.selectedFromAccount3.sub_name&&(this.coloredMsgFrom3=!0),1==this.showTo&&""==this.selectedToAccount2.sub_name?this.coloredMsgTo=!0:1==this.showTo3&&""==this.selectedToAccount3.sub_name&&(this.coloredMsgTo3=!0),setTimeout(()=>{this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1},1e4)}jTypeChange(t){this.selectedToAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedToAccount2={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedToAccount3={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.selectedFromAccount2={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.selectedFromAccount3={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.showFrom=!1,this.showFrom3=!1,this.showTo=!1,this.showTo3=!1,this.journal.j_details="";let o=this.journalType.filter(r=>r.type_name==t.target.value),s=this.journalTypeDetails.filter(r=>r.jType_id==o[0].id);this.selectedJtype=o[0],this.journal.j_details=this.selectedJtype.type_desc,2==+o[0].from_count?(this.showFrom=!0,this.showFrom3=!1):3==+o[0].from_count&&(this.showFrom3=!0,this.showFrom=!0),2==+o[0].to_count?(this.showTo=!0,this.showTo3=!1):3==+o[0].to_count&&(this.showTo=!0,this.showTo3=!0);let c=[],n=[];for(let r=0;r<s.length;r++){const d=s[r];"debit"==d.type_ac?c.push(d):"credit"==d.type_ac&&n.push(d)}if(c)for(let r=0;r<c.length;r++){const d=c[r];let a=this.sub_accountFrom.filter(T=>T.id==d.ac_id);0==r?this.pickAccountFrom("ev",1,a[0].sub_name):1==r?this.pickAccountFrom("ev",2,a[0].sub_name):2==r&&this.pickAccountFrom("ev",3,a[0].sub_name)}if(n)for(let r=0;r<n.length;r++){const d=n[r];let a=this.sub_accountTo.filter(T=>T.id==d.ac_id);0==r?this.pickAccountTo("ev",1,a[0].sub_name):1==r?this.pickAccountTo("ev",2,a[0].sub_name):2==r&&this.pickAccountTo("ev",3,a[0].sub_name)}this.payInvo.rec_detailes=o[0].default_details,this.payInvo.rec_pay=o[0].default_val,this.coleredMsgFromFunc()}addTolist(t){"from"==t?this.showFrom=!0:"to"==t&&(this.showTo=!0)}addTolist3(t){"from"==t?this.showFrom3=!0:"to"==t&&(this.showTo3=!0)}deleteItem(t){"from"==t?(this.jdetail_from2={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.selectedFromAccount2={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.showFrom=!1):"to"==t&&(this.jdetail_to2={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.selectedToAccount2={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.showTo=!1)}deleteItem3(t){"from"==t?(this.jdetail_from3={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.selectedFromAccount3={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.showFrom3=!1):"to"==t&&(this.jdetail_to3={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.selectedToAccount3={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.showTo3=!1)}generateRandom(t){let o=new Date,s=o.getMonth().toString()+o.getDay().toString()+o.getHours().toString()+o.getMinutes().toString()+o.getSeconds().toString()+o.getMilliseconds().toString();"invo"==t?(this.payInvo.rec_ref=this.store_info.store_ref+"INV"+s,this.journal.invo_ref=this.payInvo.rec_ref):(this.journal.j_ref=this.store_info.store_ref+"JO"+s,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_to.j_ref=this.journal.j_ref)}pickAccountFrom(t,o,s){let c;c=s||t.target.value;let d,n=this.sub_accountTo.filter(a=>a.sub_name==c);n[0].debit>0?d="debit":n[0].credit>0&&(d="credit"),1==o?this.selectedFromAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:d,debit:+n[0].debit,credit:+n[0].credit}:2==o?this.selectedFromAccount2={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:d,debit:+n[0].debit,credit:+n[0].credit}:3==o&&(this.selectedFromAccount3={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:d,debit:+n[0].debit,credit:+n[0].credit})}pickAccountTo(t,o,s){let c;c=s||t.target.value;let r,d,n=this.sub_accountTo.filter(a=>a.sub_name==c);n[0].debit>0?d="debit":n[0].credit>0&&(d="credit"),1==o?this.selectedToAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:d,debit:+n[0].debit,credit:+n[0].credit}:2==o?this.selectedToAccount2={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:r,currentType:d,debit:+n[0].debit,credit:+n[0].credit}:3==o&&(this.selectedToAccount3={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:r,currentType:d,debit:+n[0].debit,credit:+n[0].credit})}prepareInvo(){this.selectedToAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.selectedToAccount2={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.selectedToAccount3={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,debit:"",credit:"",currentType:""},this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount2={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount3={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.payInvo={rec_id:void 0,rec_ref:0,store_id:this.store_info.id,rec_date:"",user_id:"",ac_id:0,rec_detailes:"",rec_pay:0,rec_type:""},this.journal={j_id:void 0,j_ref:"",j_details:"",j_type:"",invo_ref:"",j_desc:"",j_date:"",store_id:this.store_info.id,user_id:"",j_pay:"",standard_details:""},this.jdetail_from={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.jdetail_from2={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.jdetail_from3={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.jdetail_to={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.jdetail_to2={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.jdetail_to3={id:"NULL",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:this.store_info.id},this.jdetail_fromArr=[],this.jdetail_toArr=[];let t=new Date;this.payInvo.rec_date=this.datePipe.transform(t,"yyyy-MM-dd"),this.journal.j_date=this.datePipe.transform(t,"yyyy-MM-dd"),this.generateRandom("invo"),this.generateRandom("journal"),this.payInvo.store_id=this.store_info.id,this.payInvo.user_id=this.user_info.id,this.journal.invo_ref=this.payInvo.rec_ref,this.journal.store_id=this.store_info.id,this.journal.user_id=this.user_info.id,this.journal.store_id=this.store_info.id,this.journal.user_id=this.user_info.id,this.jdetail_from.store_id=this.store_info.id,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_to.j_ref=this.journal.j_ref,this.jdetail_to.store_id=this.store_info.id,this.getAllAccounts()}getAllAccounts(){this.api.getAllAccounts(this.store_info.id,2).subscribe(t=>{let o=t;this.sub_accountFrom=o.data,this.sub_accountTo=o.data,this.prepareCurrentBalnces()},t=>{})}prepareCurrentBalnces(){for(let t=0;t<this.sub_accountFrom.length;t++){const o=this.sub_accountFrom[t];let s=+o.fromDebitTot+ +o.toDebitTot,c=+o.fromCreditTot+ +o.toCreditTot;if("debit"==o.sub_type){let n=+o.sub_balance+ +s-+c;n>0?(o.debit=n,o.credit=0):n<0?(n*=-1,o.debit=0,o.credit=n):0==n&&(o.debit=n,o.credit=0)}else if("credit"==o.sub_type){let n=+o.sub_balance+ +c-+s;n>0?(o.debit=0,o.credit=n):n<0?(n*=-1,o.debit=n,o.credit=0):0==n&&(o.debit=0,o.credit=n)}}this.sub_accountTo=this.sub_accountFrom}getJournalType(){this.api.getJournalType(this.store_info.id).subscribe(t=>{this.journalType=t.data,this.getJournalTypeDetails()},t=>{})}getJournalTypeDetails(){this.api.getJournalTypeDetails(this.store_info.id).subscribe(t=>{this.journalTypeDetails=t.data},t=>{})}payChange(t){this.jdetail_from.debit=t.target.value,this.jdetail_to.credit=t.target.value}validate(){let t=+this.jdetail_from.debit+ +this.jdetail_from2.debit+ +this.jdetail_from3.debit,o=+this.jdetail_to.credit+ +this.jdetail_to2.credit+ +this.jdetail_to3.credit;return 0==+t&&0==o?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0628\u0627\u0644\u063a","danger"),!1):+t>0&&o>0&&+t!=o?(this.presentToast("\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0645\u0628\u0627\u0644\u063a \u0641\u064a \u0627\u0644\u0637\u0631\u0641 \u0627\u0644\u0623\u064a\u0645\u0646 \u0644\u0627 \u064a\u0633\u0627\u0648\u064a \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0641\u064a \u0627\u0644\u0623\u064a\u0633\u0631","danger"),!1):""==this.jdetail_from.ac_id||""==this.jdetail_to.ac_id?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628","danger"),!1):""==this.payInvo.rec_detailes?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u064a\u0627\u0646","danger"),!1):(this.journal.j_pay=t,!0)}setStandard(){let t="",o="",s="",c="";1==this.showFrom&&null!=this.selectedFromAccount2.sub_name?t=" , "+this.selectedFromAccount2.sub_name:1==this.showFrom3&&null!=this.selectedFromAccount3.sub_name&&(o=" , "+this.selectedFromAccount3.sub_name),1==this.showTo&&null!=this.selectedToAccount2.sub_name?s=" , "+this.selectedToAccount2.sub_name:1==this.showTo3&&null!=this.selectedToAccount3.sub_name&&(c=" , "+this.selectedToAccount3.sub_name),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+this.selectedFromAccount.sub_name+t+o+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+this.selectedToAccount.sub_name+s+c}prepare4save(){this.payInvo.rec_date=this.journal.j_date,this.payInvo.rec_date=this.datePipe.transform(this.payInvo.rec_date,"yyyy-MM-dd"),this.setStandard(),this.journal.j_desc=this.selectedJtype.type_desc,this.jdetail_from.j_type=this.journal.j_type,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_to.j_type=this.journal.j_type,this.jdetail_to.j_ref=this.journal.j_ref,this.jdetail_from.ac_id=this.selectedFromAccount.id,this.jdetail_to.ac_id=this.selectedToAccount.id,this.jdetail_fromArr.push(this.jdetail_from),this.jdetail_toArr.push(this.jdetail_to),this.jdetail_from2.debit>0&&this.selectedFromAccount2.id&&(this.jdetail_from2.j_type=this.journal.j_type,this.jdetail_from2.ac_id=this.selectedFromAccount2.id,this.jdetail_from2.j_ref=this.journal.j_ref,this.jdetail_fromArr.push(this.jdetail_from2)),this.jdetail_from3.debit>0&&this.selectedFromAccount3.id&&(this.jdetail_from3.j_type=this.journal.j_type,this.jdetail_from3.ac_id=this.selectedFromAccount3.id,this.jdetail_from3.j_ref=this.journal.j_ref,this.jdetail_fromArr.push(this.jdetail_from3)),this.jdetail_to2.credit>0&&this.selectedToAccount2.id&&(this.jdetail_to2.j_type=this.journal.j_type,this.jdetail_to2.j_ref=this.journal.j_ref,this.jdetail_to2.ac_id=this.selectedToAccount2.id,this.jdetail_toArr.push(this.jdetail_to2)),this.jdetail_to3.credit>0&&this.selectedToAccount3.id&&(this.jdetail_to3.j_type=this.journal.j_type,this.jdetail_to3.j_ref=this.journal.j_ref,this.jdetail_to3.ac_id=this.selectedToAccount3.id,this.jdetail_toArr.push(this.jdetail_to3))}save(){this.prepare4save(),1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.saveJournal())}presentModalSales(t,o,s){return(0,f.mG)(this,void 0,void 0,function*(){8==this.selectedToAccount.ac_id&&(t="sales",""==this.selectedFromAccount2.sub_name&&1==this.showFrom?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","warning"):""!=this.selectedFromAccount2.sub_name&&1==this.showFrom&&(o=this.selectedFromAccount2.sub_name,s=this.selectedFromAccount2.id)),9==this.selectedFromAccount.ac_id&&(t="purch",""==this.selectedToAccount2.sub_name&&1==this.showTo?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0648\u0631\u062f","warning"):""!=this.selectedToAccount2.sub_name&&1==this.showTo&&(o=this.selectedToAccount2.sub_name,s=this.selectedToAccount2.id));const c=yield this.modalController.create({component:b._,componentProps:{type:t,sub_name:o,cust_id:s}});return c.onDidDismiss().then(n=>{null!==n&&this.doAfterDissmiss(n)}),yield c.present()})}doAfterDissmiss(t){("sales"==t.role||"purch"==t.role)&&(this.journal.j_details=this.journal.j_details+", "+t.data[1]+" , \u0631\u0642\u0645 :  "+t.data[0].pay_id+" \u0628\u062a\u0627\u0631\u064a\u062e "+t.data[0].pay_date+", \u0625\u062c\u0645\u0627\u0644\u064a : "+(+t.data[0].tot_pr-+t.data[0].discount))}saveInvo(){this.api.saveExpenseInvo(this.payInvo).subscribe(t=>{this.saveJournal()},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveJournal(){this.api.saveJournal(this.journal).subscribe(t=>{this.jdetail_from.j_id=t.message,this.jdetail_to.j_id=t.message,this.jdetail_from2.debit>0&&this.selectedFromAccount2.id&&(this.jdetail_from2.j_id=t.message),this.jdetail_from3.debit>0&&this.selectedFromAccount3.id&&(this.jdetail_from3.j_id=t.message),this.jdetail_to2.credit>0&&this.selectedToAccount2.id&&(this.jdetail_to2.j_id=t.message),this.jdetail_to3.credit>0&&this.selectedToAccount3.id&&(this.jdetail_to3.j_id=t.message),this.saveJournalFrom()},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveJournalFrom(){this.api.saveJournalFrom(this.jdetail_fromArr).subscribe(t=>{this.saveJournalTo()},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveJournalTo(){this.api.saveJournalTo(this.jdetail_toArr).subscribe(t=>{this.prepareInvo(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success")},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentLoadingWithOptions(t){return(0,f.mG)(this,void 0,void 0,function*(){const o=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:t,translucent:!0,backdropDismiss:!1});yield o.present(),yield o.onDidDismiss()})}presentToast(t,o){return(0,f.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:2e3,color:o,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.IN),e.Y36(u.Br),e.Y36(A.u),e.Y36(x.K),e.Y36(u.HT),e.Y36(p.uU),e.Y36(j.r),e.Y36(u.yF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-spends"]],decls:9,vars:2,consts:[["slot","start"],[4,"ngIf"],["dir","rtl"],["size","12"],["size","4","offset","4"],[1,"custInput"],["placeholder","\u0627\u062e\u062a\u0631  \u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f ","list","j_typeId","id","j_typeIds",1,"bnone",3,"ngModel","ngModelChange","change"],["id","j_typeId",2,"height","auto","max-height","20px"],[3,"value",4,"ngFor","ngForOf"],["size","4"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],[3,"value"],[1,"ion-justify-content-center"],["size","6"],["color","light"],[1,"ion-padding"],["size","6","offset","1"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsfrom","id","accountfrom",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsfrom",2,"height","auto","max-height","20px"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0645\u0628\u0644\u063a",3,"ngModel","ngModelChange"],["size","1",1,"ion-padding-top"],["class","ion-justify-content-center",3,"ngClass",4,"ngIf"],["lines","none",4,"ngIf"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsto","id","accountto",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsto",2,"height","auto","max-height","20px"],["slot","end","fill","clear","color","success",3,"click"],["name","link-outline"],[3,"ngModel","ngModelChange"],["expand","block","routerDirection","root","color","success",3,"click"],[1,"ion-text-center"],["color","danger"],["color","success"],[1,"ion-justify-content-center",3,"ngClass"],["size","12","class","ion-text-center",4,"ngIf"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsfrom2","id","accountfrom2",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsfrom2",2,"height","auto","max-height","20px"],["size","small","fill","clear",3,"click",4,"ngIf"],["size","12",1,"ion-text-center"],["size","small","fill","clear",3,"click"],["name","trash","color","danger"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsfrom3","id","accountfrom3",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsfrom3",2,"height","auto","max-height","20px"],["lines","none"],["slot","end","size","small","color","success",3,"click"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsto2","id","accountto2",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsto2",2,"height","auto","max-height","20px"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsto3","id","accountto3",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsto3",2,"height","auto","max-height","20px"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",0),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," \u0627\u0644\u0642\u064a\u0648\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a\u0629"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content"),e.YNc(7,y,23,3,"ion-grid",1),e.YNc(8,fe,81,23,"ion-grid",1),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",o.user_info&&o.store_info),e.xp6(1),e.Q6J("ngIf",o.user_info&&o.store_info))},directives:[u.Gu,u.sr,u.Sm,u.fG,u.wd,u.W2,p.O5,u.jY,u.Nd,u.wI,u.PM,u.Q$,u.Ie,g.Fj,g.JJ,g.On,p.sg,g.YN,g.Kr,u.yh,u.pK,u.j9,u.rH,u.YG,u.gu,u.yW,p.mk],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.coloredMsg[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;box-shadow:10px 10px 5px 5px #ff8c00;border-color:var(--ion-color-warning)}"]}),i})()}];let me=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(Te)],Z.Bz]}),i})(),Ze=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.ez,g.u5,u.Pc,me]]}),i})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[443],{30443:(it,Z,u)=>{u.r(Z),u.d(Z,{CashPageModule:()=>tt});var h=u(69808),d=u(34182),c=u(23349),T=u(94030),p=u(70655),m=u(55506),t=u(29863),f=u(65465),A=u(90849),x=u(91472);function b(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",2),t.TgZ(2,"ion-col",3),t.TgZ(3,"ion-card"),t.TgZ(4,"ion-grid"),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",3),t.TgZ(7,"ion-grid"),t.TgZ(8,"ion-row",2),t.TgZ(9,"ion-col",4),t.TgZ(10,"ion-label",5),t.TgZ(11,"strong"),t._uU(12,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f "),t.qZA(),t.qZA(),t.TgZ(13,"ion-radio-group",6),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).jType=o})("ionChange",function(o){return t.CHM(e),t.oxw(2).radioChange(o)}),t.TgZ(14,"ion-grid",7),t.TgZ(15,"ion-row",8),t.TgZ(16,"ion-col",7),t.TgZ(17,"ion-item",9),t._UZ(18,"ion-radio",10),t.TgZ(19,"ion-label"),t._uU(20," \u0633\u0646\u062f \u062f\u0641\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"ion-col",7),t.TgZ(22,"ion-item",9),t._UZ(23,"ion-radio",11),t.TgZ(24,"ion-label"),t._uU(25," \u0633\u0646\u062f \u0642\u0628\u0636"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"ion-col",12),t.TgZ(27,"ion-label"),t.TgZ(28,"strong"),t._uU(29,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.TgZ(30,"ion-item",8),t.TgZ(31,"input",13),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).journal.j_date=o}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(13),t.Q6J("ngModel",e.jType),t.xp6(18),t.Q6J("ngModel",e.journal.j_date)}}function q(n,r){1&n&&t._UZ(0,"option",35),2&n&&t.Q6J("value",r.$implicit.sub_name)}function C(n,r){1&n&&(t.TgZ(0,"ion-text",36),t._uU(1,"\u062f\u0627\u0626\u0646 "),t.qZA())}function j(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t.TgZ(1,"b"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(e.selectedFromAccount.credit)}}function y(n,r){1&n&&(t.TgZ(0,"ion-text",37),t._uU(1,"\u0645\u062f\u064a\u0646 "),t.qZA())}function M(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t.TgZ(1,"b"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(e.selectedFromAccount.debit)}}function w(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.debit)}}function F(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-input",41),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw(2).$implicit.debit=o})("ionBlur",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngModel",e.debit)}}function P(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,w,2,1,"ion-text",1),t.YNc(2,F,2,1,"ion-item",1),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.showMe!=e),t.xp6(1),t.Q6J("ngIf",i.showMe==e)}}function J(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.credit)}}function v(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-input",41),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw(2).$implicit.credit=o})("ionBlur",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngModel",e.credit)}}function I(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,J,2,1,"ion-text",1),t.YNc(2,v,2,1,"ion-item",1),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.showMe!=e),t.xp6(1),t.Q6J("ngIf",i.showMe==e)}}function U(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",38),t.NdJ("dblclick",function(){const _=t.CHM(e).index;return t.oxw(3).qtyClick(_)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,P,3,2,"td",1),t.YNc(6,I,3,2,"td",1),t.TgZ(7,"td"),t.TgZ(8,"ion-button",39),t.NdJ("click",function(){const _=t.CHM(e).index;return t.oxw(3).deleteItem(_)}),t._UZ(9,"ion-icon",40),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=r.index,o=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.sub_name),t.xp6(1),t.Q6J("ngIf",1==o.jType),t.xp6(1),t.Q6J("ngIf",2==o.jType)}}function N(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.TgZ(2,"ion-col",14),t.TgZ(3,"ion-card"),t.TgZ(4,"ion-list-header",15),t.TgZ(5,"h4"),t.TgZ(6,"ion-label",5),t.TgZ(7,"strong"),t._uU(8," \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a : "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"ion-grid"),t.TgZ(10,"ion-row"),t.TgZ(11,"ion-col",3),t.TgZ(12,"ion-card"),t.TgZ(13,"ion-grid"),t.TgZ(14,"ion-row"),t.TgZ(15,"ion-col",16),t.TgZ(16,"ion-item",8),t.TgZ(17,"input",17),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).selectedFromAccount.sub_name=o})("change",function(o){return t.CHM(e),t.oxw(2).pickAccount(o,1)}),t.qZA(),t.TgZ(18,"datalist",18),t.YNc(19,q,1,1,"option",19),t.qZA(),t.qZA(),t.TgZ(20,"ion-label"),t.TgZ(21,"strong"),t._uU(22," \u0627\u0644\u0631\u0635\u064a\u062f : "),t.qZA(),t.YNc(23,C,2,0,"ion-text",20),t.YNc(24,j,3,1,"ion-text",1),t.YNc(25,y,2,0,"ion-text",21),t.YNc(26,M,3,1,"ion-text",1),t.qZA(),t.qZA(),t.TgZ(27,"ion-col",22),t.TgZ(28,"ion-item",8),t.TgZ(29,"ion-input",23),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).pay=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"ion-col",24),t.TgZ(31,"ion-button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addTolist()}),t.TgZ(32,"ion-label",26),t._uU(33," +"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-row"),t.TgZ(35,"ion-col",3),t.TgZ(36,"ion-card"),t.TgZ(37,"table",27),t.TgZ(38,"tr"),t.TgZ(39,"th"),t._uU(40,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"\u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(43,"th"),t._uU(44," \u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t._UZ(45,"th"),t.qZA(),t.YNc(46,U,10,4,"tr",28),t.TgZ(47,"tr"),t.TgZ(48,"th"),t._uU(49,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"),t.qZA(),t._UZ(50,"th"),t.TgZ(51,"th"),t._uU(52),t.qZA(),t._UZ(53,"th"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"ion-col",29),t.TgZ(55,"ion-card"),t.TgZ(56,"ion-item",15),t.TgZ(57,"h4"),t.TgZ(58,"ion-label"),t.TgZ(59,"strong"),t._uU(60," \u0627\u0644\u0628\u064a\u0627\u0646"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"ion-button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).presentModalSales("sales","\u0648\u062f \u0627\u0644\u0645\u062d\u062c\u0648\u0628")}),t._UZ(62,"ion-icon",31),t._uU(63," \u0631\u0628\u0637 \u0627\u0644\u0642\u064a\u062f \u0628\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(64,"ion-item",8),t.TgZ(65,"ion-textarea",32),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).journal.j_details=o}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"ion-row",33),t.TgZ(67,"ion-col",34),t.TgZ(68,"ion-button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).save()}),t.TgZ(69,"ion-label",26),t._uU(70," \u062d\u0641\u0640\u0640\u0638"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(17),t.Q6J("ngModel",e.selectedFromAccount.sub_name),t.xp6(2),t.Q6J("ngForOf",e.sub_accountFrom),t.xp6(4),t.Q6J("ngIf","credit"==e.selectedFromAccount.currentType),t.xp6(1),t.Q6J("ngIf","credit"==e.selectedFromAccount.currentType),t.xp6(1),t.Q6J("ngIf","debit"==e.selectedItem.currentType),t.xp6(1),t.Q6J("ngIf","debit"==e.selectedFromAccount.currentType),t.xp6(3),t.Q6J("ngModel",e.pay),t.xp6(17),t.Q6J("ngForOf",e.itemList),t.xp6(6),t.hij(" ",e.journal.j_pay,""),t.xp6(13),t.Q6J("ngModel",e.journal.j_details)}}function Q(n,r){if(1&n&&(t.TgZ(0,"ion-content"),t.YNc(1,b,32,2,"ion-grid",1),t.YNc(2,N,71,10,"ion-grid",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info),t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info)}}function k(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",2),t.TgZ(2,"ion-col",3),t.TgZ(3,"ion-card"),t.TgZ(4,"ion-grid"),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",3),t.TgZ(7,"ion-grid"),t.TgZ(8,"ion-row",2),t.TgZ(9,"ion-col",4),t.TgZ(10,"ion-label",5),t.TgZ(11,"strong"),t._uU(12,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f "),t.qZA(),t.qZA(),t.TgZ(13,"ion-radio-group",6),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).jType=o})("ionChange",function(o){return t.CHM(e),t.oxw(2).radioChange(o)}),t.TgZ(14,"ion-grid",7),t.TgZ(15,"ion-row",8),t.TgZ(16,"ion-col",7),t.TgZ(17,"ion-item",9),t._UZ(18,"ion-radio",10),t.TgZ(19,"ion-label"),t._uU(20," \u0633\u0646\u062f \u062f\u0641\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"ion-col",7),t.TgZ(22,"ion-item",9),t._UZ(23,"ion-radio",11),t.TgZ(24,"ion-label"),t._uU(25," \u0633\u0646\u062f \u0642\u0628\u0636"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"ion-col",12),t.TgZ(27,"ion-label"),t.TgZ(28,"strong"),t._uU(29,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.TgZ(30,"ion-item",8),t.TgZ(31,"input",13),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).journal.j_date=o}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(13),t.Q6J("ngModel",e.jType),t.xp6(18),t.Q6J("ngModel",e.journal.j_date)}}function Y(n,r){1&n&&t._UZ(0,"option",35),2&n&&t.Q6J("value",r.$implicit.sub_name)}function H(n,r){1&n&&(t.TgZ(0,"ion-text",36),t._uU(1,"\u062f\u0627\u0626\u0646 "),t.qZA())}function O(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t.TgZ(1,"b"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(e.selectedFromAccount.credit)}}function D(n,r){1&n&&(t.TgZ(0,"ion-text",37),t._uU(1,"\u0645\u062f\u064a\u0646 "),t.qZA())}function L(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t.TgZ(1,"b"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(e.selectedFromAccount.debit)}}function E(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.debit)}}function B(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-input",41),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw(2).$implicit.debit=o})("ionBlur",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngModel",e.debit)}}function S(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,E,2,1,"ion-text",1),t.YNc(2,B,2,1,"ion-item",1),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.showMe!=e),t.xp6(1),t.Q6J("ngIf",i.showMe==e)}}function $(n,r){if(1&n&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.credit)}}function z(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-input",41),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw(2).$implicit.credit=o})("ionBlur",function(){t.CHM(e);const o=t.oxw(2).index;return t.oxw(3).editCell(o)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngModel",e.credit)}}function R(n,r){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,$,2,1,"ion-text",1),t.YNc(2,z,2,1,"ion-item",1),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.showMe!=e),t.xp6(1),t.Q6J("ngIf",i.showMe==e)}}function G(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",38),t.NdJ("dblclick",function(){const _=t.CHM(e).index;return t.oxw(3).qtyClick(_)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,S,3,2,"td",1),t.YNc(6,R,3,2,"td",1),t.TgZ(7,"td"),t.TgZ(8,"ion-button",39),t.NdJ("click",function(){const _=t.CHM(e).index;return t.oxw(3).deleteItem(_)}),t._UZ(9,"ion-icon",40),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=r.index,o=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.sub_name),t.xp6(1),t.Q6J("ngIf",1==o.jType),t.xp6(1),t.Q6J("ngIf",2==o.jType)}}function W(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.TgZ(2,"ion-col",14),t.TgZ(3,"ion-card"),t.TgZ(4,"ion-list-header",15),t.TgZ(5,"h4"),t.TgZ(6,"ion-label",5),t.TgZ(7,"strong"),t._uU(8," \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a : "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"ion-grid"),t.TgZ(10,"ion-row"),t.TgZ(11,"ion-col",3),t.TgZ(12,"ion-card"),t.TgZ(13,"ion-grid"),t.TgZ(14,"ion-row"),t.TgZ(15,"ion-col",16),t.TgZ(16,"ion-item",8),t.TgZ(17,"input",17),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).selectedFromAccount.sub_name=o})("change",function(o){return t.CHM(e),t.oxw(2).pickAccount(o,1)}),t.qZA(),t.TgZ(18,"datalist",18),t.YNc(19,Y,1,1,"option",19),t.qZA(),t.qZA(),t.TgZ(20,"ion-label"),t.TgZ(21,"strong"),t._uU(22," \u0627\u0644\u0631\u0635\u064a\u062f : "),t.qZA(),t.YNc(23,H,2,0,"ion-text",20),t.YNc(24,O,3,1,"ion-text",1),t.YNc(25,D,2,0,"ion-text",21),t.YNc(26,L,3,1,"ion-text",1),t.qZA(),t.qZA(),t.TgZ(27,"ion-col",22),t.TgZ(28,"ion-item",8),t.TgZ(29,"ion-input",23),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).pay=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"ion-col",24),t.TgZ(31,"ion-button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addTolist()}),t.TgZ(32,"ion-label",26),t._uU(33," +"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-row"),t.TgZ(35,"ion-col",3),t.TgZ(36,"ion-card"),t.TgZ(37,"table",27),t.TgZ(38,"tr"),t.TgZ(39,"th"),t._uU(40,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"\u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(43,"th"),t._uU(44," \u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t._UZ(45,"th"),t.qZA(),t.YNc(46,G,10,4,"tr",28),t.TgZ(47,"tr"),t.TgZ(48,"th"),t._uU(49,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"),t.qZA(),t._UZ(50,"th"),t.TgZ(51,"th"),t._uU(52),t.qZA(),t._UZ(53,"th"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"ion-col",29),t.TgZ(55,"ion-card"),t.TgZ(56,"ion-item",15),t.TgZ(57,"h4"),t.TgZ(58,"ion-label"),t.TgZ(59,"strong"),t._uU(60," \u0627\u0644\u0628\u064a\u0627\u0646"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"ion-button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).presentModalSales("sales","\u0648\u062f \u0627\u0644\u0645\u062d\u062c\u0648\u0628")}),t._UZ(62,"ion-icon",31),t._uU(63," \u0631\u0628\u0637 \u0627\u0644\u0642\u064a\u062f \u0628\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(64,"ion-item",8),t.TgZ(65,"ion-textarea",32),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).journal.j_details=o}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"ion-row",33),t.TgZ(67,"ion-col",34),t.TgZ(68,"ion-button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).save()}),t.TgZ(69,"ion-label",26),t._uU(70," \u062d\u0641\u0640\u0640\u0638"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(17),t.Q6J("ngModel",e.selectedFromAccount.sub_name),t.xp6(2),t.Q6J("ngForOf",e.sub_accountFrom),t.xp6(4),t.Q6J("ngIf","credit"==e.selectedFromAccount.currentType),t.xp6(1),t.Q6J("ngIf","credit"==e.selectedFromAccount.currentType),t.xp6(1),t.Q6J("ngIf","debit"==e.selectedItem.currentType),t.xp6(1),t.Q6J("ngIf","debit"==e.selectedFromAccount.currentType),t.xp6(3),t.Q6J("ngModel",e.pay),t.xp6(17),t.Q6J("ngForOf",e.itemList),t.xp6(6),t.hij(" ",e.journal.j_pay,""),t.xp6(13),t.Q6J("ngModel",e.journal.j_details)}}function K(n,r){if(1&n&&(t.TgZ(0,"ion-content"),t.YNc(1,k,32,2,"ion-grid",1),t.YNc(2,W,71,10,"ion-grid",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info),t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info)}}const V=[{path:"",component:(()=>{class n{constructor(e,i,o,_,s,l,a,g,et){this.platform=e,this.modalController=i,this.alertController=o,this.authenticationService=_,this.storage=s,this.loadingController=l,this.datePipe=a,this.api=g,this.toast=et,this.sub_accountFrom=[],this.itemList=[],this.sub_accountTo=[],this.randomsNumber=[],this.jdetail_fromArr=[],this.journalType=[],this.journalTypeDetails=[],this.pay=0,this.jdetail_toArr=[],this.selectedFromAccountArr=[],this.selectedToAccountArr=[],this.showMe=null,this.showFrom=!1,this.showTo=!1,this.showFrom3=!1,this.showTo3=!1,this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1,this.device="",this.checkPlatform(),this.getAppInfo()}ngOnInit(){}checkPlatform(){this.platform.is("desktop")?this.device="desktop":this.platform.is("mobile")&&(this.device="mobile")}getAppInfo(){this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getAllAccounts(),this.getJournalType(),this.prepareInvo())})}coleredMsgFromFunc(){1==this.showFrom&&""==this.selectedFromAccount2.sub_name?this.coloredMsgFrom=!0:1==this.showFrom3&&""==this.selectedFromAccount3.sub_name&&(this.coloredMsgFrom3=!0),1==this.showTo&&""==this.selectedToAccount2.sub_name?this.coloredMsgTo=!0:1==this.showTo3&&""==this.selectedToAccount3.sub_name&&(this.coloredMsgTo3=!0),setTimeout(()=>{this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1},1e4)}radioChange(e){}pickAccount(e,i,o){let _;_=o||e.target.value;let a,s=this.sub_accountTo.filter(g=>g.sub_name==_);s[0].debit>0?a="debit":s[0].credit>0&&(a="credit"),this.selectedFromAccount={id:s[0].id,ac_id:s[0].ac_id,sub_name:s[0].sub_name,sub_type:s[0].sub_type,sub_code:s[0].sub_code,store_id:s[0].store_id,sub_balance:s[0].sub_balance,currentType:a,debit:+s[0].debit,credit:+s[0].credit},this.selectedItem={id:"NULL",ac_id:this.selectedFromAccount.id,sub_name:this.selectedFromAccount.sub_name,sub_type:this.selectedFromAccount.sub_type,sub_code:this.selectedFromAccount.sub_code,store_id:this.selectedFromAccount.store_id,sub_balance:this.selectedFromAccount.sub_balance,currentType:this.selectedFromAccount.currentType,debit:this.selectedFromAccount.debit,credit:this.selectedFromAccount.credit}}addTolist(){if(""==this.selectedItem.sub_name||""==this.selectedItem.id)this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger");else if(0==+this.pay)this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0628\u0644\u063a ","danger");else{let e=[];if(this.itemList.length>0&&(e=this.itemList.filter(i=>i.ac_id==this.selectedItem.ac_id)),0==e.length){let i=0,o=0;1==this.jType?i=+this.pay:2==this.jType&&(o=+this.pay),this.itemList.push({id:"NULL",j_id:this.journal.j_id,ac_id:this.selectedItem.id,j_ref:this.journal.j_ref,j_desc:this.selectedItem.sub_type,j_type:"",credit:o,debit:i,store_id:this.store_info.id,sub_code:this.selectedItem.sub_code,sub_name:this.selectedItem.sub_name})}this.getTotal(),this.pay=0,this.selectedItem={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""}}}deleteItem(e){this.itemList.splice(e,1),this.pay=0,this.getTotal()}generateRandom(e){let i=new Date,o=i.getMonth().toString()+i.getDay().toString()+i.getHours().toString()+i.getMinutes().toString()+i.getSeconds().toString()+i.getMilliseconds().toString();"invo"==e?(this.payInvo.rec_ref=this.store_info.store_ref+"INV"+o,this.journal.invo_ref=this.payInvo.rec_ref):(this.journal.j_ref=this.store_info.store_ref+"JO"+o,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_to.j_ref=this.journal.j_ref)}hideMe(e){this.showMe=null}editCell(e){1==this.jType?+this.itemList[e].debit>0?(this.hideMe(e),this.getTotal()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062f\u062e\u0627\u0644 ","danger"):2==this.jType&&(+this.itemList[e].credit>0?(this.hideMe(e),this.getTotal()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062f\u062e\u0627\u0644 ","danger"))}getTotal(){if(1==this.jType){let e=this.itemList.reduce((i,o)=>i+ +o.debit,0);this.journal.j_pay=e}else if(2==this.jType){let e=this.itemList.reduce((i,o)=>i+ +o.credit,0);this.journal.j_pay=e}}qtyClick(e){this.showMe=e}pickAccountTo(e,i,o){let _;_=o||e.target.value;let l,a,s=this.sub_accountTo.filter(g=>g.sub_name==_);s[0].debit>0?a="debit":s[0].credit>0&&(a="credit"),1==i?this.selectedToAccount={id:s[0].id,ac_id:s[0].ac_id,sub_name:s[0].sub_name,sub_type:s[0].sub_type,sub_code:s[0].sub_code,store_id:s[0].store_id,sub_balance:s[0].sub_balance,currentType:a,debit:+s[0].debit,credit:+s[0].credit}:2==i?this.selectedToAccount2={id:s[0].id,ac_id:s[0].ac_id,sub_name:s[0].sub_name,sub_type:s[0].sub_type,sub_code:s[0].sub_code,store_id:s[0].store_id,sub_balance:l,currentType:a,debit:+s[0].debit,credit:+s[0].credit}:3==i&&(this.selectedToAccount3={id:s[0].id,ac_id:s[0].ac_id,sub_name:s[0].sub_name,sub_type:s[0].sub_type,sub_code:s[0].sub_code,store_id:s[0].store_id,sub_balance:l,currentType:a,debit:+s[0].debit,credit:+s[0].credit})}prepareInvo(){this.jType=1,this.selectedItem={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.payInvo={rec_id:void 0,rec_ref:0,store_id:this.store_info.id,rec_date:"",user_id:"",ac_id:0,rec_detailes:"",rec_pay:0,rec_type:""},this.journal={j_id:void 0,j_ref:"",j_details:"",j_type:"",invo_ref:"",j_desc:"",j_date:"",store_id:this.store_info.id,user_id:"",j_pay:"",standard_details:""},this.jdetail_fromArr=[],this.jdetail_toArr=[];let e=new Date;this.payInvo.rec_date=this.datePipe.transform(e,"yyyy-MM-dd"),this.journal.j_date=this.datePipe.transform(e,"yyyy-MM-dd"),this.generateRandom("invo"),this.generateRandom("journal"),this.payInvo.store_id=this.store_info.id,this.payInvo.user_id=this.user_info.id,this.journal.invo_ref=this.payInvo.rec_ref,this.journal.store_id=this.store_info.id,this.journal.user_id=this.user_info.id,this.journal.store_id=this.store_info.id,this.journal.user_id=this.user_info.id,this.jdetail_from.store_id=this.store_info.id,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_to.j_ref=this.journal.j_ref,this.jdetail_to.store_id=this.store_info.id,this.getAllAccounts()}getAllAccounts(){this.api.getAllAccounts(this.store_info.id,1).subscribe(e=>{let i=e;this.sub_accountFrom=i.data,this.sub_accountTo=i.data,this.prepareCurrentBalnces()},e=>{})}prepareCurrentBalnces(){for(let e=0;e<this.sub_accountFrom.length;e++){const i=this.sub_accountFrom[e];let o=+i.fromDebitTot+ +i.toDebitTot,_=+i.fromCreditTot+ +i.toCreditTot;if("debit"==i.sub_type){let s=+i.sub_balance+ +o-+_;s>0?(i.debit=s,i.credit=0):s<0?(s*=-1,i.debit=0,i.credit=s):0==s&&(i.debit=s,i.credit=0)}else if("credit"==i.sub_type){let s=+i.sub_balance+ +_-+o;s>0?(i.debit=0,i.credit=s):s<0?(s*=-1,i.debit=s,i.credit=0):0==s&&(i.debit=0,i.credit=s)}}this.sub_accountTo=this.sub_accountFrom}getJournalType(){this.api.getJournalType(this.store_info.id).subscribe(e=>{this.journalType=e.data,this.getJournalTypeDetails()},e=>{})}getJournalTypeDetails(){this.api.getJournalTypeDetails(this.store_info.id).subscribe(e=>{this.journalTypeDetails=e.data},e=>{})}payChange(e){this.jdetail_from.debit=e.target.value,this.jdetail_to.credit=e.target.value}validate(){return 0==+this.journal.j_pay?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0645\u0639\u0627\u0645\u0644\u0627\u062a ","danger"),!1):""==this.journal.j_details&&void this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u064a\u0627\u0646 ","danger")}setStandard(){let e="",i="",o="",_="";1==this.showFrom&&null!=this.selectedFromAccount2.sub_name?e=" , "+this.selectedFromAccount2.sub_name:1==this.showFrom3&&null!=this.selectedFromAccount3.sub_name&&(i=" , "+this.selectedFromAccount3.sub_name),1==this.showTo&&null!=this.selectedToAccount2.sub_name?o=" , "+this.selectedToAccount2.sub_name:1==this.showTo3&&null!=this.selectedToAccount3.sub_name&&(_=" , "+this.selectedToAccount3.sub_name),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+this.selectedFromAccount.sub_name+e+i+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+this.selectedToAccount.sub_name+o+_}prepare4save(){if(this.payInvo.rec_date=this.journal.j_date,this.payInvo.rec_date=this.datePipe.transform(this.payInvo.rec_date,"yyyy-MM-dd"),1==this.jType){this.jdetail_from={id:"NULL",j_id:this.journal.j_id,ac_id:46,j_ref:this.journal.j_ref,j_desc:"",j_type:"",credit:this.journal.j_pay,debit:0,store_id:this.store_info.id},this.jdetail_fromArr.push(this.jdetail_from);for(let i=0;i<this.itemList.length;i++)this.jdetail_toArr.push(this.itemList[i])}else if(2==this.jType){this.jdetail_to={id:"NULL",j_id:this.journal.j_id,ac_id:46,j_ref:this.journal.j_ref,j_desc:"",j_type:"",credit:this.journal.j_pay,debit:0,store_id:this.store_info.id},this.jdetail_toArr.push(this.jdetail_to);for(let i=0;i<this.itemList.length;i++)this.jdetail_fromArr.push(this.itemList[i])}}save(){this.prepare4save(),1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.saveJournal())}presentModalSales(e,i,o){return(0,p.mG)(this,void 0,void 0,function*(){8==this.selectedToAccount.ac_id&&(e="sales",""==this.selectedFromAccount2.sub_name&&1==this.showFrom?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","warning"):""!=this.selectedFromAccount2.sub_name&&1==this.showFrom&&(i=this.selectedFromAccount2.sub_name,o=this.selectedFromAccount2.id)),9==this.selectedFromAccount.ac_id&&(e="purch",""==this.selectedToAccount2.sub_name&&1==this.showTo?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0648\u0631\u062f","warning"):""!=this.selectedToAccount2.sub_name&&1==this.showTo&&(i=this.selectedToAccount2.sub_name,o=this.selectedToAccount2.id));const _=yield this.modalController.create({component:m._,componentProps:{type:e,sub_name:i,cust_id:o}});return _.onDidDismiss().then(s=>{null!==s&&this.doAfterDissmiss(s)}),yield _.present()})}doAfterDissmiss(e){("sales"==e.role||"purch"==e.role)&&(this.journal.j_details=this.journal.j_details+", "+e.data[1]+" , \u0631\u0642\u0645 :  "+e.data[0].pay_id+" \u0628\u062a\u0627\u0631\u064a\u062e "+e.data[0].pay_date+", \u0625\u062c\u0645\u0627\u0644\u064a : "+(+e.data[0].tot_pr-+e.data[0].discount))}saveInvo(){this.api.saveExpenseInvo(this.payInvo).subscribe(e=>{this.saveJournal()},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveJournal(){this.api.saveJournal(this.journal).subscribe(e=>{this.jdetail_from.j_id=e.message,this.jdetail_to.j_id=e.message,this.saveJournalFrom()},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveJournalFrom(){this.api.saveJournalFrom(this.jdetail_fromArr).subscribe(e=>{this.saveJournalTo()},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveJournalTo(){this.api.saveJournalTo(this.jdetail_toArr).subscribe(e=>{this.prepareInvo(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentLoadingWithOptions(e){return(0,p.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:e,translucent:!0,backdropDismiss:!1});yield i.present(),yield i.onDidDismiss()})}presentToast(e,i){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:i,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.t4),t.Y36(c.IN),t.Y36(c.Br),t.Y36(f.u),t.Y36(A.K),t.Y36(c.HT),t.Y36(h.uU),t.Y36(x.r),t.Y36(c.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cash"]],decls:8,vars:2,consts:[["slot","start"],[4,"ngIf"],["dir","rtl"],["size","12"],["size","4","offset","4"],[1,"ion-padding"],[3,"ngModel","ngModelChange","ionChange"],[1,"ion-no-padding","ion-no-margin"],[1,"custInput"],["lines","none"],["value","1",1,"ion-margin-end"],["value","2",1,"ion-margin-end"],["size","3"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],["size","7"],["color","light"],["size","5","offset","1"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628 ","list","accountsfrom","id","accountfrom",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsfrom",2,"height","auto","max-height","20px"],[3,"value",4,"ngFor","ngForOf"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["size","3","offset","1"],["placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0645\u0628\u0644\u063a",3,"ngModel","ngModelChange"],["size","2"],["expand","block","routerDirection","root","color","success",3,"click"],[1,"ion-text-center"],[1,"table"],[3,"dblclick",4,"ngFor","ngForOf"],["size","5"],["slot","end","fill","clear","color","success",3,"click"],["name","link-outline"],["rows","12","cols","20",3,"ngModel","ngModelChange"],[1,"ion-justify-content-center"],["size","4"],[3,"value"],["color","danger"],["color","success"],[3,"dblclick"],["fill","clear","size","small",3,"click"],["name","trash","color","danger"],[3,"ngModel","keyup.enter","ngModelChange","ionBlur"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," \u0627\u0644\u062e\u0632\u064a\u0646\u0629 "),t.qZA(),t.qZA(),t.qZA(),t.YNc(6,Q,3,2,"ion-content",1),t.YNc(7,K,3,2,"ion-content",1)),2&e&&(t.xp6(6),t.Q6J("ngIf","desktop"==i.device),t.xp6(1),t.Q6J("ngIf","mobile"==i.device))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.wd,h.O5,c.W2,c.jY,c.Nd,c.wI,c.PM,c.Q$,c.se,c.QI,d.JJ,d.On,c.Ie,c.B7,c.U5,d.Fj,c.yh,h.sg,c.pK,c.j9,c.YG,c.gu,c.g2,d.YN,d.Kr,c.yW],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.coloredMsg[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;box-shadow:10px 10px 5px 5px #ff8c00;border-color:var(--ion-color-warning)}.table[_ngcontent-%COMP%]{text-align:center;width:100%;margin:12px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px;font-size:16px;font-weight:700;color:#000}"]}),n})()}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[T.Bz.forChild(V)],T.Bz]}),n})(),tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.ez,d.u5,c.Pc,X]]}),n})()}}]);
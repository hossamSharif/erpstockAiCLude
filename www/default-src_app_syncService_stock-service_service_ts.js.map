{"version":3,"file":"default-src_app_syncService_stock-service_service_ts.js","mappings":"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","sources":["./src/app/syncService/stock-service.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject , Observable, TimeInterval } from 'rxjs';\nimport { HttpClient, HttpHeaders , HttpParams } from '@angular/common/http';\nimport { Storage } from '@ionic/storage'; \nimport * as momentObj from 'moment';\nimport * as momentTz from 'moment-timezone';\n \n@Injectable({\n  providedIn: 'root'\n})\nexport class StockServiceService {\n\n  api :any =  'https://erp.hosamdev.com/myapi/api/'\n  user_info : {id:any ,user_name:any ,store_id :any,full_name:any,password:any} \n  year : {id:any ,yearDesc:any ,yearStart :any,yearEnd:any}\n  store_info : {id:any , location :any ,store_name:any , store_ref:any }\n  LogHistoryArr:Array<any>=[]\n  LogHistoryLocalTempArr:Array<any>=[]\n  LogHistoryLocalArr:Array<any>=[]\n  lastSync :any  \n  intrev :any ; \n  purchase:Array<any> =[] \n  sales:Array<any> =[] \n  sub_accountSales:Array<any> =[]\n  sub_accountPurch:Array<any> =[]\n  itemsLocal:Array<any> =[]\n  tswia_details:Array<any> =[]\n  items :Array<any> =[]\n  public itemsResources: BehaviorSubject<Array<any>> = new BehaviorSubject([]);\n  public notiftemp: BehaviorSubject<Array<any>> = new BehaviorSubject([]);\n  \n  currentItem = this.itemsResources.asObservable()\n  currentNotif = this.notiftemp.asObservable()\n\n  constructor(private storage: Storage,public http: HttpClient) {\n   \n    // this.setConfig()\n   }\n   \n   changeItems(items: Array<any>){\n    this.itemsResources.next(items)\n   }\n   \n   changeNotif(notif: Array<any>){\n    //console.log([this.LogHistoryLocalTempArr , this.items , this.sub_accountSales ])  \n    this.notiftemp.next(notif)\n   }\n\n  async setConfig(){\n    await this.storage.create(); \n    this.storage.get('LogHistoryLocal').then((response) => {\n      //console.log('LogHistoryLocal',this.LogHistoryLocalArr)  \n      if (response) {\n\n        this.LogHistoryLocalArr = response\n        this.LogHistoryLocalArr = this.LogHistoryLocalArr.sort((a, b) => (+a.id > +b.id) ? -1 : 1);\n\n      }else{ \n        this.storage.set('LogHistoryLocal',this.LogHistoryLocalArr).then((response) => {\n          \n        })\n      }\n    });\n\n    // this.storage.get('LogHistoryLocalTemp').then((response) => {\n    //   //console.log('LogHistoryLocalTemp',this.LogHistoryLocalTempArr)  \n    //   if (response) {\n    //     this.LogHistoryLocalTempArr = response\n    //   }else{\n    //     this.storage.set('LogHistoryLocalTemp',this.LogHistoryLocalTempArr).then((response) => {\n          \n    //     })\n    //   }\n    // });\n\n  \n   \n    this.storage.get('year').then((response) => {\n      if (response) {\n        this.year = response  \n      }\n    });\n    this.storage.get('lastSync').then((response) => {\n      if (response) {\n        this.lastSync = response \n        //console.log('lastSync',this.lastSync) \n      }else{\n        this.lastSync = '2023-01-01 00:00:00'\n        this.storage.set('lastSync',this.lastSync).then((response) => {\n         //console.log('lastSync',this.lastSync)  \n        })\n      }\n    });\n    \n    this.storage.get('USER_INFO').then((response) => {\n      if (response) {\n        this.user_info = response\n        //console.log(this.user_info) \n      }\n    });\n    this.storage.get('STORE_INFO').then((response) => {\n      if (response) {\n        this.store_info = response\n         //console.log(response)  \n      }\n    });  \n    this.storage.get('sub_accountPurch').then((response) => {\n      if (response) {\n        this.sub_accountPurch = response\n         //console.log(this.sub_accountPurch)  \n      }\n    });\n    this.storage.get('sub_accountSales').then((response) => {\n      if (response) {\n        this.sub_accountSales = response\n         //console.log(this.sub_accountPurch)  \n      }\n    });\n     this.syncFunctNew()\n    }\n \n    getLogHistory(store_id , yearId ,datee){ \n      let params = new HttpParams() \n      params=params.append('store_id' , +store_id)\n      params=params.append('yearId' , +yearId)\n      params=params.append('from' , datee)\n      return this.http.get(this.api+'logHistory/readByStore.php',{params: params})\n    }\n\n    stockItems(store_id , yearId){ \n      let params = new HttpParams() \n      params=params.append('store_id' , store_id) \n      params=params.append('yearId' , yearId)\n  \n      return this.http.get(this.api+'items/readStock.php',{params: params})\n    }\n\n    getSalesAccounts(store_id ,yearId){ \n      let ac_id = 1\n      let params = new HttpParams() \n      params=params.append('store_id' , store_id)\n      params= params.append('ac_id' , ac_id) \n      params= params.append('yearId' , yearId) \n      return this.http.get(this.api+'sub_accounts/readByStore.php',{params: params})\n    }\n  \n\n\n    syncFunct(){ \n        //console.log('LogHistoryLocalTempArr',this.LogHistoryLocalTempArr) \n       setInterval(() => { \n          this.storage.get('lastSync').then((response) => {\n            if(response){\n            this.lastSync = response\n            //console.log('this.lastSync syncFunct' , this.lastSync)\n            this.getLogHistory(this.store_info.id ,this.year.id , momentObj(this.lastSync).locale('en').format('YYYY-MM-DD HH:mm:ss')).subscribe(data =>{\n             //console.log('getLogHistory' , data) \n             let res = data\n             if (data['message'] != 'No record Found') {\n               this.LogHistoryArr = res['data']\n               this.LogHistoryLocalTempArr = this.LogHistoryArr\n             }\n            // //  check if log already exist in  LogHistoryLocalTempArr\n            // //console.log('beforre this.LogHistoryLocalArr',this.LogHistoryLocalTempArr)\n            // for (let index = 0; index < this.LogHistoryLocalTempArr.length; index++) {\n            //   const element = this.LogHistoryLocalTempArr[index];\n            //   let flt = this.LogHistoryLocalArr.filter(x=>x.logRef == element.logRef && +x.logStatus == 1)\n            //   if(flt.length > 0){\n            //     this.LogHistoryLocalTempArr = this.LogHistoryLocalTempArr.filter(x=>x.logRef != element.logRef)\n            //    }\n            //  }\n\n\n             //console.log('after this.LogHistoryLocalArr',this.LogHistoryLocalTempArr)\n              if( this.LogHistoryLocalTempArr.length > 0){\n                // this.prepareSync()\n               } else {\n                  //console.log('no upadates')\n               }\n\n             //old logic\n\n            // // compare logHistory with local logHistory\n            // //flt locallogHistory by status = 1\n            // if(this.LogHistoryLocalArr.length > 0){\n            //  //console.log('beforre this.LogHistoryLocalArr',this.LogHistoryLocalArr)\n            //   this.LogHistoryLocalArr = this.LogHistoryLocalArr.filter(x=>+x.logStatus == 0)\n            //   //console.log('flt this.LogHistoryLocalArr',this.LogHistoryLocalArr)\n            // }\n            // push new  log localy\n            // if( this.LogHistoryArr.length > 0){\n            //   for (let index = 0; index < this.LogHistoryArr.length; index++) {\n            //     const element = this.LogHistoryArr[index];\n            //    //console.log('before flt = this',this.LogHistoryLocalArr) \n            //    let flt = this.LogHistoryLocalArr.filter(x=>x.logRef == element.logRef)\n            //    //console.log('after flt = this.LogHistoryLocalArr',flt)\n            //     if(flt.length == 0){\n            //       this.LogHistoryLocalArr.push(element)\n            //     }\n            //   }\n            // }\n            // this.LogHistoryLocalArr = this.LogHistoryLocalArr.filter(x=>+x.logStatus == 0)\n            // //console.log('this.LogHistoryLocalArr.length > 0',this.LogHistoryLocalArr)\n            // if( this.LogHistoryLocalArr.length > 0){\n            //   this.prepareSync()\n            //  } else {\n            //     //console.log('no upadates')\n            //  } \n          },\n          (err)=>{\n    \n          },()=>{\n           \n          }\n          )\n            }\n           \n          })\n       \n         }, 60000);\n       // clearInterval(this.id); \n    }\n\n    prepareStep1(){\n      for (let index = 0; index < this.LogHistoryLocalTempArr.length; index++) {\n        const element = this.LogHistoryLocalTempArr[index];\n        // customers\n        if (element.typee.includes('customer') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('sub_accountSales').then((response) => {\n            if (response) {\n              subArr = response\n              if (element.typee == 'insert customer') {\n                element.desc = \"قام \" + element.full_name + \" - بإضافة عميل جديد\" + JSON.parse(element.logToken).sub_name\n                subArr.push(JSON.parse(element.logToken))\n              } else if (element.typee == 'update customer') {\n                element.desc = \"قام \" + element.full_name + \" - بتعديل البيانات الشخصية للعميل  \" + JSON.parse(element.logToken).sub_name\n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.id == JSON.parse(element.logToken).id) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete customer') {\n                element.desc = \"قام \" + element.full_name + \" - بحذف العميل \" + JSON.parse(element.logToken).sub_name\n                subArr = subArr.filter(x => x.id != JSON.parse(element.logToken).id)\n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n  \n              // set to storage\n              this.storage.set('sub_accountSales', subArr).then((response) => {\n                //console.log('sub_accountSales ', response)\n              });\n  \n            }\n          });\n        }\n  \n        // supplier\n        if (element.typee.includes('supplier') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('sub_accountPurch').then((response) => {\n            if (response) {\n              subArr = response\n              if (element.typee == 'insert supplier') {\n                element.desc = \"قام \" + element.full_name + \" - بإضافة مورد جديد\" + JSON.parse(element.logToken).sub_name\n                subArr.push(JSON.parse(element.logToken))\n              } else if (element.typee == 'update supplier') {\n                element.desc = \"قام \" + element.full_name + \" - بتعديل البيانات الشخصية للمورد  \" + JSON.parse(element.logToken).sub_name\n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.id == JSON.parse(element.logToken).id) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete supplier') {\n                element.desc = \"قام \" + element.full_name + \" - بحذف المورد \" + JSON.parse(element.logToken).sub_name\n                subArr = subArr.filter(x => x.id != JSON.parse(element.logToken).id)\n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              this.storage.set('sub_accountPurch', subArr).then((response) => {\n                //console.log('sub_accountPurch ', response)\n              });\n            }\n          });\n        }\n  \n        // firstq\n        if (element.typee.includes('firstq') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('firstq').then((response) => {\n            if (response) {\n              subArr = response\n              if (element.typee == 'insert firstq') {\n                element.desc = \"قام \" + element.full_name + \" - بإضافة كمية افتتاحية لصنف جديد\" + JSON.parse(element.logToken).item_name\n                subArr.push(JSON.parse(element.logToken))\n              } else if (element.typee == 'update firstq') {\n                element.desc = \"قام \" + element.full_name + \" - بتعديل الكمية افتتاحية الصنف  \" + JSON.parse(element.logToken).item_name\n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.item_id == JSON.parse(element.logToken).item_id) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete firstq') {\n                element.desc = \"قام \" + element.full_name + \" - بحذف الكمية افتتاحية الصنف \" + JSON.parse(element.logToken).item_name\n                subArr = subArr.filter(x => x.item_id != JSON.parse(element.logToken).item_id)\n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              this.storage.set('firstq', subArr).then((response) => {\n                //console.log('firstq set', response)\n              });\n            }\n          });\n        }\n  \n        // item\n        if (element.typee.includes('item') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('itemsLocal').then((response) => {\n            if (response) {\n              subArr = response\n              //console.log('subArr = response ', subArr)\n              if (element.typee == 'insert item') {\n                element.desc = \"قام \" + element.full_name + \" - بإضافة صنف جديد\" + JSON.parse(element.logToken).item_name\n                subArr.push(JSON.parse(element.logToken))\n                //console.log('new item pushed ', subArr ,' item pushed ',JSON.parse(element.logToken))\n              } else if (element.typee == 'update item') {\n                element.desc = \"قام \" + element.full_name + \" - بتعديل بيانات الصنف  \" + JSON.parse(element.logToken).item_name\n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.id == JSON.parse(element.logToken).id) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete item') {\n                element.desc = \"قام \" + element.full_name + \" - بحذف الصنف \" + JSON.parse(element.logToken).item_name\n                subArr = subArr.filter(x => x.id != JSON.parse(element.logToken).id)\n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              //console.log('// set to storage',subArr )\n              this.storage.set('itemsLocal', subArr).then((response) => {\n                //console.log('itemsLocal to storage', response)\n              });\n            }\n          });\n        }\n   \n        // sales\n        if (element.typee.includes('sales') == true) {\n          //console.log('sales includ case 1')\n          let subArr: Array<any> = []\n          this.storage.get('sales').then((response) => {\n            if (response) {\n              subArr = response\n              //console.log('element' ,element.logToken)\n              let parseData = JSON.parse(element.logToken)\n              //console.log(parseData) \n              let id =  parseData[0].payInvo.cust_id\n              let fltsub_name = this.sub_accountSales.filter(x => +x.id == +id)\n              //console.log(this.sub_accountSales ,'fltsub_name' ,fltsub_name , JSON.parse(element.logToken)[0].cust_id)\n             \n              if (element.typee == 'insert sales') {\n                element.desc = \"قام \" + element.full_name + \" - بإضافة فاتورة مبيعات\" + fltsub_name[0].sub_name + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).tot_pr\n                subArr.push(JSON.parse(element.logToken))\n              } else if (element.typee == 'update sales') {\n                element.desc = \"قام \" + element.full_name + \" - بتعديل  فاتورة مبيعات  \" + fltsub_name[0].sub_name + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).tot_pr\n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.pay_ref == JSON.parse(element.logToken).pay_ref) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete sales') {\n                element.desc = \"قام \" + element.full_name + \" -بحذف فاتورة مبيعات  \" + fltsub_name[0].sub_name + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).tot_pr\n                subArr = subArr.filter(x => x.pay_ref != JSON.parse(element.logToken).pay_ref)\n              \n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              //console.log('sales subArr 1' ,subArr)\n              this.storage.set('sales', subArr).then((response) => {\n                //console.log('sales ', response)\n              });\n            }\n          });\n        }\n  \n        // purchase\n        if (element.typee.includes('purchase') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('purchase').then((response) => {\n            if (response) {\n              subArr = response\n              let fltsub_name = this.sub_accountPurch.filter(x => x.id == JSON.parse(element.logToken).cust_id)\n              if (element.typee == 'insert purchase') {\n                element.desc = \"قام \" + element.full_name + \" - بإضافة فاتورة مشتريات\" + fltsub_name[0].sub_name  + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).tot_pr\n                subArr.push(JSON.parse(element.logToken))\n  \n              } else if (element.typee == 'update purchase') {\n                element.desc = \"قام \" + element.full_name + \" - بتعديل  فاتورة مشتريات  \" +  fltsub_name[0].sub_name + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).tot_pr\n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.pay_ref == JSON.parse(element.logToken).pay_ref) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete purchase') {\n                element.desc = \"قام \" + element.full_name + \" -بحذف فاتورة مشتريات  \" +  fltsub_name[0].sub_name + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).tot_pr\n                subArr = subArr.filter(x => x.pay_ref != JSON.parse(element.logToken).pay_ref)\n  \n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              this.storage.set('purchase', subArr).then((response) => {\n                //console.log('purchase ', response)\n              });\n            }\n          });\n        }\n  \n        // journal\n        if (element.typee.includes('journal') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('journal').then((response) => {\n            if (response) {\n              subArr = response\n              let sub_name = this.sub_accountPurch.filter(x => x.id == JSON.parse(element.logToken).cust_id)\n              if (element.typee == 'insert journal') {\n                element.desc = \"قام \" + element.full_name + \" بإضافة  \" + JSON.parse(element.logToken).j_type + \" بتاريخ : \" + JSON.parse(element.logToken).j_date + \" - بقيمة: \" + JSON.parse(element.logToken).j_pay + \" \" + JSON.parse(element.logToken).standard_details\n                subArr.push(JSON.parse(element.logToken))\n  \n              } else if (element.typee == 'update journal') {\n                element.desc = \"قام \" + element.full_name + \" بتعديل  \" + JSON.parse(element.logToken).j_type + \" بتاريخ : \" + JSON.parse(element.logToken).j_date + \" - بقيمة: \" + JSON.parse(element.logToken).j_pay + \" \" + JSON.parse(element.logToken).standard_details\n  \n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.j_ref == JSON.parse(element.logToken).j_ref) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete purchase') {\n                element.desc = \"قام \" + element.full_name + \" بحذف  \" + JSON.parse(element.logToken).j_type + \" بتاريخ : \" + JSON.parse(element.logToken).j_date + \" - بقيمة: \" + JSON.parse(element.logToken).j_pay + \" \" + JSON.parse(element.logToken).standard_details\n                subArr = subArr.filter(x => x.j_ref != JSON.parse(element.logToken).j_ref)\n  \n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              this.storage.set('journal', subArr).then((response) => {\n                //console.log('journal ', response)\n              });\n            }\n          });\n        }\n  \n        // tswia\n        if (element.typee.includes('tswia') == true) {\n          let subArr: Array<any> = []\n          this.storage.get('tswia').then((response) => {\n            if (response) {\n              subArr = response\n              if (element.typee == 'insert tswia') {\n                element.desc = \"قام \" + element.full_name + \" بإضافة سجل تسوية جردية  \" + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي التسوية : \" + JSON.parse(element.logToken).tot_pr\n  \n                subArr.push(JSON.parse(element.logToken))\n  \n              } else if (element.typee == 'update tswia') {\n                element.desc = \"قام \" + element.full_name + \" بتعديل سجل تسوية جردية  \" + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي التسوية : \" + JSON.parse(element.logToken).tot_pr\n  \n                for (let r = 0; r < subArr.length; r++) {\n                  const elem = subArr[r];\n                  if (elem.pay_ref == JSON.parse(element.logToken).pay_ref) {\n                    subArr[r] = JSON.parse(element.logToken)\n                  }\n                }\n              } else if (element.typee == 'delete tswia') {\n                element.desc = \"قام \" + element.full_name + \" بحذف  \" + \" بتعديل سجل تسوية جردية  \" + \" بتاريخ : \" + JSON.parse(element.logToken).pay_date + \" - اجمالي التسوية : \" + JSON.parse(element.logToken).tot_pr\n              }\n              //  change logStatus to 1 to be egnoring when  run syncFunct()\n              element.logStatus = 1\n              // set to storage\n              this.storage.set('tswia', subArr).then((response) => {\n                //console.log('tswia ', response)\n              });\n            }\n          });\n        }\n      }\n    }\n\n\n    // async prepareSync() {\n    //   await this.prepareStep1() \n    //   //prepare items to get current QTY\n    //   this.prepareItemsLocal()\n    //   //prepare customer and supplier \n    // }\n\n\n\n  //    async  prepareItemsLocal(){ \n  //       let firstQuantityArr :Array<any> = []\n  //       let salesQuantityArr  :Array<any> = [] \n  //       let tswiaQuantityArr :Array<any> = []\n  //       let perchQuantityArr :Array<any> = []\n  \n  // // quantity\n  //     //console.log('.storage.get(firstq')\n  \n  //     await  this.storage.get('firstq').then((response) => {\n  //         if (response) {\n  //           firstQuantityArr = response  \n  //         }\n  //       });\n  //       //console.log('.storage.get(salse')\n\n  //       await  this.storage.get('sales').then((response) => {\n  //         if (response) {\n  //           salesQuantityArr = response  \n  //           //console.log('salesQuantityArr',salesQuantityArr )\n  //         }\n  //       });\n  //       //console.log('.storage.get(purch')\n\n  //       await  this.storage.get('purchase').then((response) => {\n  //         if (response) {\n  //           perchQuantityArr = response  \n  //         }\n  //       });\n  //       //console.log('.storage.get(tswia')\n\n  //       await this.storage.get('tswia').then((response) => {\n  //         if (response) {\n  //           tswiaQuantityArr = response  \n  //         }\n  //       });\n\n        \n  //       //console.log('//for loop to prepare ' , this.itemsLocal)\n  //       await  this.storage.get('itemsLocal').then((response) => {\n  //         if (response) {\n  //           let arr = response \n  //           arr.forEach(element => { \n  //             // firstQuantityArr \n  //             let fltfirst = firstQuantityArr.filter(x=>+x.item_id == +element.id)\n  //             //console.log('fltfirst',fltfirst)\n  //             if(fltfirst.length == 0){\n  //               element.firstQuantity = 0 \n  //             }else{ \n  //               element.firstQuantity = fltfirst[0].quantity  \n  //             }\n            \n  //             // salesQuantityArr \n  //             let itemListSalse :Array<any>=[]\n  //             for (let index = 0; index < salesQuantityArr.length; index++) {\n  //               const el = salesQuantityArr[index];\n              \n  //               let f = []\n  //                 f = el['itemList'].filter(x=>x.item_id == element.id)\n  //               if(f.length>0){\n  //               f.forEach(elmh => {\n  //                 itemListSalse.push(elmh)\n  //               });\n  //               }\n  //             }  \n\n  //             if(itemListSalse.length>0){\n  //             element.salesQuantity =  itemListSalse.reduce( (acc, obj)=> { return acc + +obj.quantity; }, 0);\n  //             }else{\n  //               element.salesQuantity =0\n  //             }\n  //             // perchQuantityArr \n  //             let itemListPurch :Array<any>=[]\n  //             for (let index = 0; index < perchQuantityArr.length; index++) {\n  //               const elp = perchQuantityArr[index];\n  //               let f = []\n  //                 f = elp['itemList'].filter(x=>x.item_id == element.id)\n                \n  //               if(f.length>0){\n  //               f.forEach(elmh => {\n  //                 itemListPurch.push(elmh)\n  //               });\n  //               }\n  //             }  \n\n  //             if(itemListPurch.length>0){\n  //             element.perchQuantity =  itemListPurch.reduce( (acc, obj)=> { return acc + +obj.quantity; }, 0);\n  //             }else{\n  //               element.perchQuantity = 0\n  //             }\n  \n  //             // tswiaQuantityArr  \n  //             //  tswia_details.availQty - tswia_details.qtyReal\n  //             let itemListTswia :Array<any>=[]\n  //             for (let index = 0; index < tswiaQuantityArr.length; index++) {\n  //               const elp = tswiaQuantityArr[index];\n  //               let f = elp.itemList.filter(x=>x.item_id == element.id)\n  //               if(f.length>0){\n  //               f.forEach(elmh => {\n  //               // tswia_details.availQty - tswia_details.qtyReal\n  //                 elmh.qty = +elmh.availQty - +elmh.qtyReal\n  //                 itemListTswia.push(elmh)\n  //               });\n  //               }\n  //             }  \n\n  //             if(itemListTswia.length>0){\n  //             element.tswiaQuantity =  itemListTswia.reduce( (acc, obj)=> { return acc + +obj.qty; }, 0);\n  //             }else{\n  //               element.tswiaQuantity = 0\n  //             }\n  \n\n\n  //             // get tots\n  //             if(+element.tswiaQuantity > 0){\n  //               element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n      \n  //             }else if(+element.tswiaQuantity < 0){\n  //               element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n  //             }\n      \n  //             element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n          \n  //           // lastSoldDate \n  //           // IFNULL((SELECT MAX(pay.pay_date) FROM pay_details INNER JOIN pay ON pay_details.pay_ref = pay.pay_ref WHERE  pay_details.item_id = items.id AND pay_details.store_id = :store_id ), 0) AS lastSoldDate,\n  //           let fltMax = salesQuantityArr.filter(x=>x.itemList.item_id == element.id )\n  //           element.lastSoldDate= fltMax.reduce((acc, shot) => acc = acc > shot.pay_date ? acc : shot.pay_date, 0);\n  //           // IFNULL((SELECT MAX(pay_details.quantity) FROM pay_details INNER JOIN pay ON pay_details.pay_ref = pay.pay_ref WHERE  pay_details.item_id = items.id AND pay_details.store_id = :store_id And pay.pay_date = lastSoldDate), 0) AS lastSoldQty\n  //           // lastSoldQty\n  //           element.lastSoldQty = fltMax.reduce((acc, shot) => acc = acc > shot.itemList.quantity ? acc : shot.itemList.quantity, 0);\n              \n  //           });\n            \n  //               //save itemLocal  \n  //               //console.log('//save itemLocal ' ,arr)\n  //               this.storage.set('itemsLocal',arr).then((response) => {\n  //                   //push changes to app using behaviorSubj\n  //                   this.changeItems(arr)  \n  //               })\n\n  //               this.changeNotif(this.LogHistoryLocalTempArr) \n  //               //save loghistory local\n  //               this.LogHistoryLocalTempArr = [] \n  //               this.storage.set(\"LogHistoryLocalTemp\",this.LogHistoryLocalTempArr).then((response) => {\n  //                 // this.LogHistoryLocalTempArr.forEach(element => {\n  //                 //   this.LogHistoryLocalArr.push(element)\n  //                 // });\n                  \n  //                 //   this.storage.set(\"LogHistoryLocal\",this.LogHistoryLocalArr).then((response) => {\n  //                 //     this.LogHistoryLocalTempArr = [] \n  //                 // })\n  //               })\n                \n  //               // this.lastSync = now => save to local\n  //               let dt = new Date()\n  //               this.lastSync= momentObj(dt).locale('en').format('YYYY-MM-DD HH:mm:ss')\n  //               this.storage.set(\"lastSync\",this.lastSync).then((response) => {\n\n  //               })\n\n  //         } \n          \n  //       });\n      \n  \n  //    }\n\n \n\n    //new logic\n\n \n    syncFunctNew(){ \n      this.LogHistoryLocalTempArr =[]\n      //console.log('LogHistoryLocalTempArr',this.LogHistoryLocalTempArr) \n       this.intrev =   setInterval(() => { \n        this.storage.get('lastSync').then((response) => {\n          if(response){\n          this.lastSync = response\n          //console.log('this.lastSync syncFunct' , this.lastSync)\n          this.getLogHistory(this.store_info.id ,this.year.id , momentObj(this.lastSync).locale('en').format('YYYY-MM-DD HH:mm:ss')).subscribe(data =>{\n           //console.log('getLogHistory' , data) \n           let res = data\n           if (data['message'] != 'No record Found') {\n            this.LogHistoryLocalTempArr =  res['data']   \n           }\n           //console.log(this.LogHistoryLocalArr ,'befor this.LogHistoryLocalArr',this.LogHistoryLocalTempArr)\n           let flt :Array<any> = []\n           for (let index = 0; index < this.LogHistoryLocalTempArr.length; index++) {\n            const element = this.LogHistoryLocalTempArr[index];\n            if (this.LogHistoryLocalArr.some(e => +e.id === +element.id) == false) {\n              //console.log('found in arr' ,element)\n             flt.push(element)\n            } \n           }\n           this.LogHistoryLocalTempArr = flt\n            //console.log('after this.LogHistoryLocalArr',this.LogHistoryLocalTempArr)\n            if( this.LogHistoryLocalTempArr.length > 0){\n              this.prepareStep1New()\n             } else {\n              //console.log('no upadates')\n             }\n        },\n        (err)=>{\n  \n        },()=>{\n         \n        }\n        )\n          }\n         \n        })\n     \n       }, 60000);\n     // clearInterval(this.id);\n    \n  \n   }\n\n    prepareStep1New() {\n      for (let index = 0; index < this.LogHistoryLocalTempArr.length; index++) {\n        const element = this.LogHistoryLocalTempArr[index];\n        // customers\n          if (element.typee.includes('customer') == true) {\n          if (element.typee == 'insert customer') {\n            element.desc = \"قام \" + element.full_name + \" - بإضافة عميل جديد\" + JSON.parse(element.logToken).sub_name\n\n          } else if (element.typee == 'update customer') {\n            element.desc = \"قام \" + element.full_name + \" - بتعديل البيانات الشخصية للعميل  \" + JSON.parse(element.logToken).sub_name\n\n          } else if (element.typee == 'delete customer') {\n            element.desc = \"قام \" + element.full_name + \" - بحذف العميل \" + JSON.parse(element.logToken).sub_name\n\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          // element.logStatus = 1\n        }\n\n        // supplier\n        if (element.typee.includes('supplier') == true) {\n\n\n          if (element.typee == 'insert supplier') {\n            element.desc = \"قام \" + element.full_name + \" - بإضافة مورد جديد\" + JSON.parse(element.logToken).sub_name\n\n          } else if (element.typee == 'update supplier') {\n            element.desc = \"قام \" + element.full_name + \" - بتعديل البيانات الشخصية للمورد  \" + JSON.parse(element.logToken).sub_name\n\n          } else if (element.typee == 'delete supplier') {\n            element.desc = \"قام \" + element.full_name + \" - بحذف المورد \" + JSON.parse(element.logToken).sub_name\n\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          // element.logStatus = 1\n\n\n        }\n\n        // firstq\n        if (element.typee.includes('firstq') == true) {\n          if (element.typee == 'insert firstq') {\n            element.desc = \"قام \" + element.full_name + \" - بإضافة كمية افتتاحية لصنف جديد\" + JSON.parse(element.logToken).item_name\n          } else if (element.typee == 'update firstq') {\n            element.desc = \"قام \" + element.full_name + \" - بتعديل الكمية افتتاحية الصنف  \" + JSON.parse(element.logToken).item_name\n\n          } else if (element.typee == 'delete firstq') {\n            element.desc = \"قام \" + element.full_name + \" - بحذف الكمية افتتاحية الصنف \" + JSON.parse(element.logToken).item_name\n\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          // element.logStatus = 1\n\n        }\n\n        // item\n        if (element.typee.includes('item') == true) {\n\n          if (element.typee == 'insert item') {\n            element.desc = \"قام \" + element.full_name + \" - بإضافة صنف جديد\" + JSON.parse(element.logToken).item_name\n\n          } else if (element.typee == 'update item') {\n            element.desc = \"قام \" + element.full_name + \" - بتعديل بيانات الصنف  \" + JSON.parse(element.logToken).item_name\n\n          } else if (element.typee == 'delete item') {\n            element.desc = \"قام \" + element.full_name + \" - بحذف الصنف \" + JSON.parse(element.logToken).item_name\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          // element.logStatus = 1 \n\n\n          //push notif \n          //\n\n        }\n\n        // sales\n        if (element.typee.includes('sales') == true) {\n          let parseData = JSON.parse(element.logToken)\n          //console.log(parseData)\n          let id = parseData.payInvo.cust_id\n          let fltsub_name = this.sub_accountSales.filter(x => +x.id == +id)\n          //console.log(this.sub_accountSales, 'fltsub_name', fltsub_name, JSON.parse(element.logToken).payInvo.cust_id)\n            let sn :any \n          if(fltsub_name.length== 0 ){\n            sn = \"undefined\" \n          }else{\n            sn = fltsub_name[0].sub_name\n          }\n          if (element.typee == 'insert sales') {\n            element.desc = \"قام \" + element.full_name + \" - بإضافة فاتورة مبيعات \" + sn + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).payInvo.tot_pr\n\n          } else if (element.typee == 'update sales') {\n            element.desc = \"قام \" + element.full_name + \" - بتعديل  فاتورة مبيعات  \" + sn + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).payInvo.tot_pr\n\n          } else if (element.typee == 'delete sales') {\n            element.desc = \"قام \" + element.full_name + \" -بحذف فاتورة مبيعات  \" +  sn + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).payInvo.tot_pr\n\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          // element.logStatus = 1 \n\n        }\n\n        // purchase\n        if (element.typee.includes('purchase') == true) {\n          let parseData = JSON.parse(element.logToken)\n          //console.log(parseData)\n          let id = parseData.payInvo.cust_id\n          let fltsub_name = this.sub_accountPurch.filter(x => +x.id == +id)\n\n          let sn :any \n          if(fltsub_name.length== 0 ){\n            sn = \"undefined\" \n          }else{\n            sn = fltsub_name[0].sub_name\n          }\n          if (element.typee == 'insert purchase') {\n            element.desc = \"قام \" + element.full_name + \" - بإضافة فاتورة مشتريات\"  + sn + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).payInvo.tot_pr\n          } else if (element.typee == 'update purchase') {\n            element.desc = \"قام \" + element.full_name + \" - بتعديل  فاتورة مشتريات  \" + sn + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).payInvo.tot_pr\n          } else if (element.typee == 'delete purchase') {\n            element.desc = \"قام \" + element.full_name + \" -بحذف فاتورة مشتريات  \" + sn + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي الفاتورة : \" + JSON.parse(element.logToken).payInvo.tot_pr\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          // element.logStatus = 1\n        }\n\n        // journal\n        if (element.typee.includes('journal') == true) {\n\n          if (element.typee == 'insert journal') {\n            element.desc = \"قام \" + element.full_name + \" بإضافة  \" + JSON.parse(element.logToken).j_type + \" بتاريخ : \" + JSON.parse(element.logToken).j_date + \" - بقيمة: \" + JSON.parse(element.logToken).j_pay + \" \" + JSON.parse(element.logToken).standard_details\n\n\n          } else if (element.typee == 'update journal') {\n            element.desc = \"قام \" + element.full_name + \" بتعديل  \" + JSON.parse(element.logToken).j_type + \" بتاريخ : \" + JSON.parse(element.logToken).j_date + \" - بقيمة: \" + JSON.parse(element.logToken).j_pay + \" \" + JSON.parse(element.logToken).standard_details\n\n\n          } else if (element.typee == 'delete purchase') {\n            element.desc = \"قام \" + element.full_name + \" بحذف  \" + JSON.parse(element.logToken).j_type + \" بتاريخ : \" + JSON.parse(element.logToken).j_date + \" - بقيمة: \" + JSON.parse(element.logToken).j_pay + \" \" + JSON.parse(element.logToken).standard_details\n\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          //  element.logStatus = 1\n          // set to storage    \n        }\n\n        // tswia\n        if (element.typee.includes('tswia') == true) {\n\n          if (element.typee == 'insert tswia') {\n            element.desc = \"قام \" + element.full_name + \" بإضافة سجل تسوية جردية  \" + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي التسوية : \" + JSON.parse(element.logToken).payInvo.tot_pr\n\n\n          } else if (element.typee == 'update tswia') {\n            element.desc = \"قام \" + element.full_name + \" بتعديل سجل تسوية جردية  \" + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي التسوية : \" + JSON.parse(element.logToken).payInvo.tot_pr\n\n\n          } else if (element.typee == 'delete tswia') {\n            element.desc = \"قام \" + element.full_name + \" بحذف  \" + \" بتعديل سجل تسوية جردية  \" + \" بتاريخ : \" + JSON.parse(element.logToken).payInvo.pay_date + \" - اجمالي التسوية : \" + JSON.parse(element.logToken).payInvo.tot_pr\n          }\n          //  change logStatus to 1 to be egnoring when  run syncFunct()\n          //element.logStatus = 1\n          // set to storage\n\n        }\n\n\n      }\n      \n      //  \n      if(this.LogHistoryLocalTempArr.length> 0){\n        //console.log('notifArr') \n        let items = 0 \n        let both = 0\n        for (let index = 0; index < this.LogHistoryLocalTempArr.length; index++) {\n          const element = this.LogHistoryLocalTempArr[index];\n          if(element.typee.includes('sales') == true || element.typee.includes('journal') == true){\n            both = both + 1 \n          }else if(element.typee.includes('sales') == false && element.typee.includes('journal') == false){\n            items = items + 1  \n          } \n        }\n        //\n        if(items > 0){\n          this.getStockItems('sync item') \n        }else if( both > 0){\n          this.bothItemAndAccount('sync both')\n        }     \n      } else {\n        //console.log('no updates') \n      }    \n    }\n\n\n  getStockItems(status?) { \n      //console.log('this.year.id',this.year.id) \n        this.stockItems(this.store_info.id,this.year.id).subscribe(data => {\n          //console.log(data)\n          let res = data\n          this.items = res['data']\n          this.items.forEach(element => {\n            if(+element.tswiaQuantity > 0){\n              element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n  \n            }else if(+element.tswiaQuantity < 0){\n              element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n            } \n            element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n          });\n          this.storage.set('itemsLocal' , this.items).then((response) => {\n\n          });\n          if(status == 'sync item'){  \n            this.afterSync()  \n          }\n        }, (err) => { \n          //console.log(err);\n        },\n        () => {\n\n        }     \n        )\n  } \n \n      getSubBalance(){ \n        this.sub_accountSales.forEach(element => {\n          element.sub_balance = 0\n          let debitTot = +element.changeeTot + +element.fromDebitTot\n          let creditTot = +element.purchChangeeTot + +element.toCreditTot\n          if (debitTot == creditTot) {\n            element.sub_balance = 0 \n           }else if(debitTot > creditTot ){ \n             element.sub_balance = (+debitTot - +creditTot).toFixed(2) \n           }else if(creditTot > debitTot ){\n             element.sub_balance = (+creditTot - +debitTot).toFixed(2)  \n           }\n        });   \n       }\n\n    getSalesAccount(status?){ \n      this.getSalesAccounts(this.store_info.id , this.year.id).subscribe(data =>{\n         let res = data\n         this.sub_accountSales = res ['data']\n         //console.log(this.sub_accountSales)\n         this.getSubBalance() \n         if(status == 'sync both'){\n          this.storage.set('sub_accountSales' , this.sub_accountSales).then((response) => {\n            if (response) { \n               \n            }\n           }); \n         }\n         \n       }, (err) => {\n       //console.log(err);\n     }) \n     \n    } \n\n    async bothItemAndAccount(status){\n      await this.getStockItems()\n      await this.getSalesAccount(status) \n      await this.afterSync()  \n    }\n\n    afterSync(){\n      //get items from local incase getStock nt performed because \n      this.storage.get('itemsLocal' ).then((response) => {\n        this.items= response \n      });\n\n\n      for (let index = 0; index < this.LogHistoryLocalTempArr.length; index++) {\n        const element = this.LogHistoryLocalTempArr[index];  \n          this.LogHistoryLocalArr.push(element) \n       }\n       \n       let dt = new Date()\n       this.lastSync = momentObj(dt).locale('en').format('YYYY-MM-DD HH:mm:ss')\n       this.storage.set(\"lastSync\", this.lastSync).then((response) => { \n\n       })\n\n\n       this.LogHistoryLocalArr = this.LogHistoryLocalArr.sort((a, b) => (+a.id > +b.id) ? -1 : 1);\n       this.storage.set('LogHistoryLocal',this.LogHistoryLocalArr).then((response) => {\n        //console.log('finish',this.LogHistoryLocalArr) \n        //console.log('finish2',[this.LogHistoryLocalTempArr , this.items , this.sub_accountSales ]) \n         this.changeNotif([this.LogHistoryLocalTempArr , this.items , this.sub_accountSales ]) \n\n       })  \n     }\n    \n \n  }"],"names":[],"sourceRoot":"webpack:///"}
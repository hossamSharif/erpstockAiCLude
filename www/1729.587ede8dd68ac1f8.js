"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1729],{31729:(At,Z,l)=>{l.r(Z),l.d(Z,{PurchaseMobPageModule:()=>mt});var p=l(69808),g=l(34182),c=l(23349),y=l(94030),_=l(70655),A=l(4441),T=l(3671),b=l(79208),M=l(36387),x=l(5022),m=l(15439),t=l(29863),P=l(17158),I=l(65465),q=l(90849),v=l(91472),C=l(742);const w=["dstP"],L=["qtyIdP"],Q=["dstPop2"],N=["popInput2"],H=["popover2"],J=["popoverNotif3"];function k(o,a){if(1&o&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.notifArr.length)}}function O(o,a){1&o&&(t.TgZ(0,"ion-text",8),t._uU(1,"\u0645\u062a\u0635\u0644"),t.qZA())}function S(o,a){1&o&&(t.TgZ(0,"ion-text",8),t._uU(1,"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644"),t.qZA())}function F(o,a){if(1&o&&(t.TgZ(0,"ion-item"),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row"),t.TgZ(3,"ion-col",28),t._uU(4),t.qZA(),t.TgZ(5,"ion-col",29),t.TgZ(6,"ion-text",30),t._uU(7),t.ALo(8,"dateAgo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=a.$implicit;t.xp6(4),t.hij(" ",e.desc," "),t.xp6(3),t.Oqu(t.lcZ(8,2,e.datee))}}function U(o,a){if(1&o&&(t.TgZ(0,"ion-list",22),t.YNc(1,F,9,4,"ion-item",27),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.LogHistoryLocalArr)}}function Y(o,a){if(1&o&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",24),t._uU(2," \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a "),t.qZA(),t.qZA(),t.TgZ(3,"ion-content",25),t.YNc(4,U,2,1,"ion-list",26),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.LogHistoryLocalArr.length>0)}}function D(o,a){1&o&&t._UZ(0,"option",43),2&o&&t.Q6J("value",a.$implicit.sub_name)}function R(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",31),t.TgZ(1,"ion-item",38),t.TgZ(2,"input",40),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).selectedAccount.sub_name=s})("change",function(s){return t.CHM(e),t.oxw(2).pickAccount(s)}),t.qZA(),t.TgZ(3,"datalist",41),t.YNc(4,D,1,1,"option",42),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.selectedAccount.sub_name),t.xp6(2),t.Q6J("ngForOf",e.sub_account)}}function E(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",31),t.TgZ(1,"ion-item",38),t.TgZ(2,"ion-input",44),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).sub_nameNew=s}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.sub_nameNew)}}function z(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",25),t.TgZ(2,"ion-col",31),t.TgZ(3,"ion-card",32),t.TgZ(4,"ion-grid",32),t.TgZ(5,"ion-row",25),t.TgZ(6,"ion-col",31),t.TgZ(7,"ion-radio-group",14),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().radioVal=s})("ionChange",function(s){return t.CHM(e),t.oxw().radioChange(s)}),t.TgZ(8,"ion-grid",32),t.TgZ(9,"ion-row"),t.TgZ(10,"ion-col",32),t.TgZ(11,"ion-item",33),t._UZ(12,"ion-radio",34),t.TgZ(13,"ion-label"),t._uU(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"ion-col",32),t.TgZ(16,"ion-item",33),t._UZ(17,"ion-radio",34),t.TgZ(18,"ion-label"),t._uU(19,"\u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,R,5,2,"ion-col",35),t.YNc(21,E,3,1,"ion-col",35),t.qZA(),t.TgZ(22,"ion-col",36),t.TgZ(23,"ion-item",33),t.TgZ(24,"ion-label"),t._uU(25," \u0627\u0644\u062a\u0627\u0631\u064a\u062e "),t.qZA(),t.qZA(),t.TgZ(26,"ion-item",33),t.TgZ(27,"input",37),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.pay_date=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"ion-col",31),t.TgZ(29,"ion-item",33),t.TgZ(30,"ion-label"),t._uU(31," \u062a\u0639\u0644\u064a\u0642 "),t.qZA(),t.qZA(),t.TgZ(32,"ion-item",38),t.TgZ(33,"ion-input",39),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.payComment=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.radioVal),t.xp6(5),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(3),t.Q6J("ngIf",0==e.radioVal),t.xp6(1),t.Q6J("ngIf",1==e.radioVal),t.xp6(6),t.Q6J("ngModel",e.payInvo.pay_date),t.xp6(6),t.Q6J("ngModel",e.payInvo.payComment)}}function G(o,a){1&o&&(t.TgZ(0,"ion-col",63),t.TgZ(1,"ion-item",38),t._UZ(2,"ion-input",64),t._UZ(3,"ion-spinner"),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("disabled",!0))}function V(o,a){1&o&&(t.TgZ(0,"ion-text"),t._uU(1,"(\u0639\u0631\u0628\u064a)"),t.qZA())}function B(o,a){1&o&&(t.TgZ(0,"ion-text"),t._uU(1,"(ENG)"),t.qZA())}function $(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",73),t.TgZ(1,"ion-button",74),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).presentModal2("null","save")}),t._uU(2," \u0635\u0646\u0641 \u062c\u062f\u064a\u062f "),t._UZ(3,"ion-icon",75),t.qZA(),t.qZA()}}function j(o,a){1&o&&(t.TgZ(0,"ion-label"),t._UZ(1,"ion-spinner",76),t.qZA())}function W(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-input",77,78),t.NdJ("click",function(s){return t.CHM(e),t.oxw(3).presentPopover(s)})("ngModelChange",function(s){return t.CHM(e),t.oxw(3).selectedItem.item_name=s}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("ngModel",e.selectedItem.item_name)}}function K(o,a){1&o&&(t.TgZ(0,"ion-list",22),t.TgZ(1,"ion-label"),t._UZ(2,"ion-spinner",76),t.qZA(),t.qZA())}const X=function(o,a){return{red:o,darko:a}};function tt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",83),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(5).selectFromPop(n)}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit;t.Q6J("ngClass",t.WLB(2,X,0==e.quantity,e.quantity>0)),t.xp6(1),t.hij(" ",e.item_name," ")}}function et(o,a){if(1&o&&(t.TgZ(0,"ion-list"),t.YNc(1,tt,2,5,"ion-item",82),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.searchResult)}}function it(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",25),t.TgZ(2,"ion-item"),t.TgZ(3,"ion-input",14,79),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(3).searchTerm=s})("ionChange",function(s){return t.CHM(e),t.oxw(3).searchItem(s)}),t.qZA(),t.TgZ(5,"ion-button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clear()}),t._UZ(6,"ion-icon",80),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"ion-content",81),t.YNc(8,K,3,0,"ion-list",26),t.YNc(9,et,2,1,"ion-list",4),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(3),t.Q6J("ngModel",e.searchTerm),t.xp6(5),t.Q6J("ngIf",0==e.searchResult.length&&""==e.searchTerm),t.xp6(1),t.Q6J("ngIf",e.searchResult.length>0)}}function st(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",65),t.TgZ(1,"ion-grid",66),t.TgZ(2,"ion-row"),t.TgZ(3,"ion-col",67),t.TgZ(4,"ion-label"),t.TgZ(5,"strong"),t._uU(6,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.YNc(7,V,2,0,"ion-text",4),t.YNc(8,B,2,0,"ion-text",4),t.qZA(),t.qZA(),t.YNc(9,$,4,0,"ion-col",68),t.qZA(),t.TgZ(10,"ion-row"),t.TgZ(11,"ion-item",38),t.YNc(12,j,2,0,"ion-label",4),t.YNc(13,W,2,1,"ion-input",69),t.TgZ(14,"ion-button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).refresh("item")}),t._UZ(15,"ion-icon",71),t.qZA(),t.qZA(),t.TgZ(16,"ion-popover",12,72),t.NdJ("didDismiss",function(){return t.CHM(e),t.oxw(2).didDissmis()}),t.YNc(18,it,10,3,"ng-template"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(7),t.Q6J("ngIf",0==e.searchLang),t.xp6(1),t.Q6J("ngIf",1==e.searchLang),t.xp6(1),t.Q6J("ngIf",0==e.offline),t.xp6(3),t.Q6J("ngIf",1==e.getItemLoader),t.xp6(1),t.Q6J("ngIf",0==e.getItemLoader),t.xp6(3),t.Q6J("isOpen",e.isOpen)}}function nt(o,a){if(1&o&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.quantity)}}function ot(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-input",87),t.NdJ("keyup.enter",function(){t.CHM(e);const s=t.oxw().index;return t.oxw(2).editCell(s)})("ngModelChange",function(s){return t.CHM(e),t.oxw().$implicit.quantity=s})("ionBlur",function(){t.CHM(e);const s=t.oxw().index;return t.oxw(2).editCell(s)}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.quantity)}}function rt(o,a){if(1&o&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.perch_price)}}function at(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-input",87),t.NdJ("keyup.enter",function(){t.CHM(e);const s=t.oxw().index;return t.oxw(2).editCell(s)})("ngModelChange",function(s){return t.CHM(e),t.oxw().$implicit.perch_price=s})("ionBlur",function(){t.CHM(e);const s=t.oxw().index;return t.oxw(2).editCell(s)}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.perch_price)}}function ct(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",84),t.NdJ("dblclick",function(){const n=t.CHM(e).index;return t.oxw(2).qtyClick(n)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,nt,2,1,"ion-text",4),t.YNc(5,ot,2,1,"ion-item",4),t.qZA(),t.TgZ(6,"td"),t.YNc(7,rt,2,1,"ion-text",4),t.YNc(8,at,2,1,"ion-item",4),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"ion-button",85),t.NdJ("click",function(){const n=t.CHM(e).index;return t.oxw(2).deleteItem(n)}),t._UZ(11,"ion-icon",86),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit,i=a.index,s=t.oxw(2);t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.Q6J("ngIf",s.showMe!=i),t.xp6(1),t.Q6J("ngIf",s.showMe==i),t.xp6(2),t.Q6J("ngIf",s.showMe!=i),t.xp6(1),t.Q6J("ngIf",s.showMe==i)}}function ut(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-grid",45),t.TgZ(1,"ion-row",25),t.TgZ(2,"ion-col",46),t.TgZ(3,"ion-grid"),t.TgZ(4,"ion-row"),t.TgZ(5,"ion-col",31),t.TgZ(6,"ion-card"),t.TgZ(7,"ion-grid"),t.TgZ(8,"ion-row"),t.YNc(9,G,4,1,"ion-col",47),t.YNc(10,st,19,6,"ion-col",48),t.TgZ(11,"ion-col",49),t.TgZ(12,"ion-label",50),t.TgZ(13,"strong"),t._uU(14,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.qZA(),t.TgZ(15,"ion-item",38),t.TgZ(16,"ion-input",51,52),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().chechPrice("check")})("ngModelChange",function(s){return t.CHM(e),t.oxw().selectedItem.qty=s})("ionChange",function(s){return t.CHM(e),t.oxw().qtyhange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"ion-col",53),t.TgZ(19,"ion-label",50),t.TgZ(20,"strong"),t._uU(21,"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621"),t.qZA(),t.qZA(),t.TgZ(22,"ion-item",38),t.TgZ(23,"ion-input",51),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().chechPrice("check")})("ngModelChange",function(s){return t.CHM(e),t.oxw().selectedItem.perch_price=s})("ionChange",function(s){return t.CHM(e),t.oxw().perchPricehange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"ion-col",53),t.TgZ(25,"ion-label",50),t.TgZ(26,"strong"),t._uU(27,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639"),t.qZA(),t.qZA(),t.TgZ(28,"ion-item",38),t.TgZ(29,"ion-input",51),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().chechPrice("check")})("ngModelChange",function(s){return t.CHM(e),t.oxw().selectedItem.pay_price=s})("ionChange",function(s){return t.CHM(e),t.oxw().payPricehange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"ion-col",54),t.TgZ(31,"ion-label",50),t.TgZ(32,"strong"),t._uU(33,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"),t.qZA(),t.qZA(),t.TgZ(34,"ion-item",38),t.TgZ(35,"ion-input",55),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().selectedItem.tot=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"ion-row",19),t.TgZ(37,"ion-col",56),t.TgZ(38,"ion-button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().chechPrice("check")}),t.TgZ(39,"ion-label",22),t._uU(40,"\u0625\u0636\u0627\u0641\u0629 "),t.qZA(),t._UZ(41,"ion-icon",57),t.qZA(),t.qZA(),t.TgZ(42,"ion-col",58),t.TgZ(43,"ion-button",59),t.NdJ("click",function(){return t.CHM(e),t.oxw().chechPrice("uncheck")}),t.TgZ(44,"ion-label",22),t._uU(45," \u062a\u0639\u062f\u064a\u0644 \u0648\u0625\u0636\u0627\u0641\u0629"),t.qZA(),t._UZ(46,"ion-icon",60),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"ion-row"),t.TgZ(48,"ion-col",31),t.TgZ(49,"ion-card"),t.TgZ(50,"table",61),t.TgZ(51,"tr"),t.TgZ(52,"th"),t._uU(53,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(56,"th"),t._uU(57,"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621"),t.qZA(),t.TgZ(58,"th"),t._uU(59,"\u062d\u0630\u0641"),t.qZA(),t.qZA(),t.YNc(60,ct,12,5,"tr",62),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("ngIf",1==e.loadingItems),t.xp6(1),t.Q6J("ngIf",0==e.loadingItems),t.xp6(6),t.Q6J("ngModel",e.selectedItem.qty),t.xp6(7),t.Q6J("ngModel",e.selectedItem.perch_price),t.xp6(6),t.Q6J("ngModel",e.selectedItem.pay_price),t.xp6(6),t.Q6J("readonly",!0)("ngModel",e.selectedItem.tot),t.xp6(25),t.Q6J("ngForOf",e.itemList)}}function lt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-col",46),t.TgZ(2,"ion-card"),t.TgZ(3,"ion-grid"),t.TgZ(4,"ion-row",19),t.TgZ(5,"ion-col",28),t.TgZ(6,"ion-label",50),t.TgZ(7,"strong"),t._uU(8,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t.qZA(),t.TgZ(9,"ion-item",38),t.TgZ(10,"ion-input",88),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.tot_pr=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"ion-col",28),t.TgZ(12,"ion-label",50),t.TgZ(13,"strong"),t._uU(14,"\u0627\u0644\u062e\u0635\u0645 %"),t.qZA(),t.qZA(),t.TgZ(15,"ion-label",89),t.TgZ(16,"strong"),t._uU(17,"\u0627\u0644\u062e\u0635\u0645"),t.qZA(),t.qZA(),t.TgZ(18,"ion-item",38),t.TgZ(19,"ion-input",14),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().discountPerc=s})("ionChange",function(s){return t.CHM(e),t.oxw().discountPerChange(s)}),t.qZA(),t.TgZ(20,"ion-input",90),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.discount=s})("ionBlur",function(s){return t.CHM(e),t.oxw().discountChange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"ion-col",28),t.TgZ(22,"ion-label",50),t.TgZ(23,"strong"),t._uU(24," \u0627\u0644\u0645\u062f\u0641\u0648\u0639 \u0646\u0642\u062f\u0627"),t.qZA(),t.qZA(),t.TgZ(25,"ion-item",38),t.TgZ(26,"ion-input",14),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.pay=s})("ionChange",function(s){return t.CHM(e),t.oxw().payChange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-col",28),t.TgZ(28,"ion-label",50),t.TgZ(29,"strong"),t._uU(30,"\u0627\u0644\u0645\u062a\u0628\u0642\u064a"),t.qZA(),t.qZA(),t.TgZ(31,"ion-item",38),t.TgZ(32,"ion-input",88),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.changee=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"ion-col",28),t.TgZ(34,"ion-label",50),t.TgZ(35,"strong"),t._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0633\u062f\u0627\u062f"),t.qZA(),t.qZA(),t.TgZ(37,"ion-item",38),t.TgZ(38,"ion-item",33),t.TgZ(39,"input",91),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().payInvo.nextPay=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(10),t.Q6J("ngModel",e.payInvo.tot_pr)("readonly",!0),t.xp6(9),t.Q6J("ngModel",e.discountPerc),t.xp6(1),t.Q6J("ngModel",e.payInvo.discount),t.xp6(6),t.Q6J("ngModel",e.payInvo.pay),t.xp6(6),t.Q6J("ngModel",e.payInvo.changee)("readonly",!0),t.xp6(7),t.Q6J("ngModel",e.payInvo.nextPay)}}function ht(o,a){if(1&o&&(t.TgZ(0,"ion-col",92),t.TgZ(1,"ion-label",50),t.TgZ(2,"strong"),t._uU(3,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"ion-label",50),t.TgZ(6,"strong"),t._uU(7),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.payInvo.tot_pr," ")}}const _t=function(o,a){return{warn:o,dark:a}},gt=[{path:"",component:(()=>{class o{constructor(e,i,s,n,r,h,u,f,ft,yt,Zt){this.behavApi=e,this.route=i,this.renderer=s,this.modalController=n,this.alertController=r,this.authenticationService=h,this.storage=u,this.loadingController=f,this.datePipe=ft,this.api=yt,this.toast=Zt,this.isOpenNotif=!1,this.newNotif=!1,this.sub_account=[],this.sub_accountLocalPurch=[],this.items=[],this.isOpen=!1,this.notifArr=[],this.LogHistoryLocalArr=[],this.logHistoryArr=[],this.showNotif=!1,this.sub_accountPurch=[],this.loadingItems=!1,this.color="dark",this.itemsLocal=[],this.itemList=[],this.purchLocal=[],this.purchase=[],this.randomsNumber=[],this.sub_nameNew="",this.discountPerc=0,this.radioVal=0,this.printMode=!1,this.offline=!1,this.printArr=[],this.showMe=null,this.getItemLoader=!1,this.searchLang=0,this.searchTerm="",this.aliasTerm="",this.searchResult=[],this.aliasResult=[],this.status="new",this.segmentVal="first",this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_name:"",cat_id:"",phone:"",address:""},this.selectedItem={id:void 0,dateCreated:"",pay_ref:"",item_desc:"",item_name:"",item_unit:"",parcode:0,pay_price:0,perch_price:0,qty:0,tot:0,aliasEn:""},this.route.queryParams.subscribe(d=>{d&&d.payInvo&&(this.status="initial",this.payInvo=JSON.parse(d.payInvo),this.user_info=JSON.parse(d.user_info),this.store_info=JSON.parse(d.store_info),this.itemList=JSON.parse(d.itemList),this.prepareOffline(),this.getAppInfoCase2())}),this.printArr.push({payInvo:"",itemList:"",selectedAccount:"",sub_nameNew:""})}refresh(e){"account"==e?this.getSalesAccount():this.getStockItems()}segmentChange(e){}presentAlertConfirm(){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f!",mode:"ios",message:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0637\u0628\u0627\u0639\u0629 \u0641\u0627\u062a\u0648\u0631\u0629 \u061f ",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:i=>{this.prepareInvo()}},{text:"\u0645\u0648\u0627\u0641\u0642",id:"confirm-button",handler:()=>{this.presentModal(this.printArr,"perch")}}]})).present()})}priceChangeAlertConfirm(){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f!",mode:"ios",message:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u0639\u062f\u064a\u0644 \u0627\u0633\u0639\u0627\u0631 \u0627\u0644\u0628\u064a\u0639 \u0648\u0627\u0644\u0634\u0631\u0627\u0621",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:i=>{this.addTolist()}},{text:"\u0645\u0648\u0627\u0641\u0642",id:"confirm-button",handler:()=>{this.updateItemDetail()}}]})).present()})}updateItemDetail(){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.logHistoryArr.push({id:null,logRef:this.generateRandom2("update item"),userId:this.user_info.id,typee:"update item",datee:m(new Date).locale("en").format("YYYY-MM-DD HH:mm:ss"),logStatus:0,logToken:JSON.stringify(this.selectedItem),yearId:this.year.id,store_id:this.store_info.id}),this.api.updateItem(this.selectedItem).subscribe(e=>{"Post Not Updated"!=e.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d","success"),this.performSync2()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}Print(e){this.printMode=!0;var i=window.open("","PRINT","height=400,width=600");return i.document.write("<html><head>"),i.document.write('<style type="text/css">'),i.document.write(".flr{ display: block; float: right; } .show{ } .hide{width:0px;height:0px} .w45 {width:45%} .w50 {width:50%} .w100 {width:100%} td, th {border: 1px solid #dddddd;text-align: center;padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} .table{text-align: center;width: 100%; margin: 12px;}.ion-margin{ margin: 10px; } .ion-margin-top{ margin-top: 10px; } .rtl {  direction: rtl; } .ion-text-center{ text-align: center; } .ion-text-end{ text-align: left; } .ion-text-start{ text-align: right; }"),i.document.write("</style></head><body>"),i.document.write(document.getElementById(e).innerHTML),i.document.write("</body></html>"),i.document.close(),i.focus(),i.print(),i.close(),this.printMode=!1,!0}ngOnInit(){this.prepareOffline(),"new"==this.status?this.getAppInfo():"initial"==this.status&&this.getAppInfoCase2(),this.getItemLocalOff()}getItemLocalOff(){this.storage.get("itemsLocal").then(e=>{e&&(this.itemsLocal=e,this.items=this.itemsLocal,this.items.forEach(i=>{+i.tswiaQuantity>0?i.salesQuantity=+i.salesQuantity+ +i.tswiaQuantity:+i.tswiaQuantity<0&&(i.perchQuantity=+i.perchQuantity+Math.abs(+i.tswiaQuantity)),i.quantity=+i.perchQuantity+ +i.firstQuantity-+i.salesQuantity}),this.searchResult=this.items)})}getOffliemode(){this.storage.get("offline").then(e=>{this.offline=e,this.color=1==this.offline?"dark":"primary"})}changeMode(){1==this.offline?(this.offline=!1,this.color="primary"):0==this.offline&&(this.offline=!0,this.color="dark"),this.storage.set("offline",this.offline).then(e=>{})}getAppInfo(){this.getOffliemode(),this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getSalesAccount(),this.prepareInvo())}),this.storage.get("LogHistoryLocal").then(e=>{e&&(this.LogHistoryLocalArr=e)}),this.storage.get("searchLang").then(e=>{e&&(this.searchLang=e)})}getAppInfoCase2(){this.getOffliemode(),this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e,this.payInvo.yearId=this.year.id,this.itemList.forEach(i=>{i.yearId=this.year.id}))}),this.storage.get("LogHistoryLocal").then(e=>{e&&(this.LogHistoryLocalArr=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getSalesAccount())}),this.storage.get("searchLang").then(e=>{e&&(this.searchLang=e)})}prepareOffline(){this.storage.get("itemsLocal").then(e=>{e&&(this.itemsLocal=e,this.items=this.itemsLocal)}),this.storage.get("purchLocal").then(e=>{e&&(this.purchLocal=e)}),this.storage.get("purchase").then(e=>{e&&(this.purchase=e)}),this.storage.get("sub_accountLocalPurch").then(e=>{e&&(this.sub_accountLocalPurch=e)}),this.storage.get("sub_accountPurch").then(e=>{e&&(this.sub_accountPurch=e)})}radioChange(e){}presentPopover(e){this.popover2.event=e,this.isOpen=!0,this.clear(),this.searchResult=this.items,setTimeout(()=>{this.setFocusOnInput("popInput2")},2e3)}presentPopoverNotif(e){this.notifArr=[],this.showNotif=!1,this.popoverNotif3.event=e,this.isOpenNotif=!0}didDissmisNotif(){this.isOpenNotif=!1}didDissmis(){this.isOpen=!1,this.setFocusOnInput("qtyIdP")}searchItem(e){this.searchResult=[],this.aliasTerm=e.target.value;const i=new b.g,s=new M.V,n=new x.C;let r;r=0==this.searchLang?i.transform(this.items,e.target.value):n.transform(this.items,e.target.value);const h=s.transform(this.items,this.aliasTerm);r.length>0&&r.forEach(u=>{this.searchResult.push(u)}),h.length>0&&h.forEach(u=>{this.searchResult.push(u)})}clear(e){e?this.selectedItem={id:void 0,dateCreated:"",pay_ref:this.payInvo.pay_ref,item_desc:"",item_name:"",item_unit:"",parcode:0,pay_price:0,perch_price:0,qty:0,tot:0,aliasEn:""}:this.searchTerm=""}prepareInvo(){this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_name:"",cat_id:"",phone:"",address:""},this.sub_nameNew="",this.radioVal=0,this.payInvo={pay_id:void 0,pay_ref:0,store_id:"",tot_pr:0,pay:0,pay_date:"",pay_time:"",user_id:"",cust_id:null,pay_method:"",discount:0,changee:0,sub_name:"",payComment:"",nextPay:null,yearId:""},this.discountPerc=0;let e=new Date;this.payInvo.pay_date=this.datePipe.transform(e,"yyyy-MM-dd"),this.payInvo.pay_time=this.datePipe.transform(e,"HH:mm:ss"),this.generateRandom(),this.payInvo.store_id=this.store_info.id,this.payInvo.yearId=this.year.id,this.payInvo.user_id=this.user_info.id,this.itemList=[],this.getSalesAccount(),this.setFocusOnInput("dstP")}setFocusOnInput(e){"dstP"==e?this.nameField.nativeElement.focus():"dstPop2"==e?(this.dstPop2.setFocus(),this.isOpen=!0,this.clear(),this.searchResult=this.items,setTimeout(()=>{this.popInput2.setFocus()},1500)):"qtyIdP"==e?this.qtyIdP.setFocus():"popInput2"==e&&this.popInput2.setFocus()}getStockItems(e){this.storage.get("year").then(i=>{i&&(this.year=i,0==this.offline?(this.loadingItems=!0,this.api.stockItems(1,this.year.id).subscribe(s=>{this.items=s.data,this.items.forEach(r=>{+r.tswiaQuantity>0?r.salesQuantity=+r.salesQuantity+ +r.tswiaQuantity:+r.tswiaQuantity<0&&(r.perchQuantity=+r.perchQuantity+Math.abs(+r.tswiaQuantity)),r.quantity=+r.perchQuantity+ +r.firstQuantity-+r.salesQuantity}),this.searchResult=this.items,e&&this.pickDetail(e,"afterSave"),this.storage.set("itemsLocal",this.items).then(r=>{})},s=>{},()=>{this.loadingItems=!1})):(this.items=this.itemsLocal,this.items.forEach(s=>{s.quantity=+s.perchQuantity+ +s.firstQuantity-+s.salesQuantity}),this.searchResult=this.items))})}sumStockItems(e){0==this.offline?this.api.stockItems(1,this.year.id).subscribe(i=>{let n=i.data;for(let r=0;r<this.items.length;r++){const h=this.items[r];let u=n.filter(f=>f.id==h.id);u.length>0&&(h.perchQuantity=+h.perchQuantity+ +u[0].perchQuantity,h.salesQuantity=+h.salesQuantity+ +u[0].salesQuantity)}this.items.forEach(r=>{+r.tswiaQuantity>0?r.salesQuantity=+r.salesQuantity+ +r.tswiaQuantity:+r.tswiaQuantity<0&&(r.perchQuantity=+r.perchQuantity+Math.abs(+r.tswiaQuantity)),r.quantity=+r.perchQuantity+ +r.firstQuantity-+r.salesQuantity}),this.searchResult=this.items,e&&this.pickDetail(e,"afterSave")},i=>{},()=>{}):(this.items=this.itemsLocal,this.items.forEach(i=>{i.quantity=+i.perchQuantity+ +i.firstQuantity-+i.salesQuantity}),this.searchResult=this.items)}getStockItemsAfterUpdate(){let e=[];e=this.items.filter(1==this.searchLang?r=>r.item_desc==this.selectedItem.item_desc:r=>r.item_name==this.selectedItem.item_name),this.selectedItem={id:e[0].id,dateCreated:e[0].dateCreated,pay_ref:this.payInvo.pay_ref,item_desc:e[0].item_desc,item_name:e[0].item_name,item_unit:e[0].item_unit,parcode:e[0].parcode,pay_price:+this.selectedItem.pay_price,perch_price:+this.selectedItem.perch_price,qty:+this.selectedItem.qty,tot:e[0].perch_price,aliasEn:e[0].aliasEn},this.addTolist(),0==this.offline?(this.getItemLoader=!0,this.api.stockItems(1,this.year.id).subscribe(r=>{this.items=r.data,this.items.forEach(u=>{+u.tswiaQuantity>0?u.salesQuantity=+u.salesQuantity+ +u.tswiaQuantity:+u.tswiaQuantity<0&&(u.perchQuantity=+u.perchQuantity+Math.abs(+u.tswiaQuantity)),u.quantity=+u.perchQuantity+ +u.firstQuantity-+u.salesQuantity}),this.searchResult=this.items,this.getItemLoader=!1,this.storage.set("itemsLocal",this.items).then(u=>{this.storage.get("itemsLocal").then(f=>{u&&(this.itemsLocal=f,this.searchResult=[],this.items=this.itemsLocal,this.searchResult=this.items)})})},r=>{this.getItemLoader=!1},()=>{})):(this.items=this.itemsLocal,this.items.forEach(r=>{r.quantity=+r.perchQuantity+ +r.firstQuantity-+r.salesQuantity}),this.searchResult=this.items)}sumStockItemsAfterUpdate(){0==this.offline?(this.getItemLoader=!0,this.api.stockItems(1,this.year.id).subscribe(e=>{let s=e.data;for(let n=0;n<this.items.length;n++){const r=this.items[n];let h=s.filter(u=>u.id==r.id);h.length>0&&(r.perchQuantity=+r.perchQuantity+ +h[0].perchQuantity,r.salesQuantity=+r.salesQuantity+ +h[0].salesQuantity)}this.items.forEach(n=>{+n.tswiaQuantity>0?n.salesQuantity=+n.salesQuantity+ +n.tswiaQuantity:+n.tswiaQuantity<0&&(n.perchQuantity=+n.perchQuantity+Math.abs(+n.tswiaQuantity)),n.quantity=+n.perchQuantity+ +n.firstQuantity-+n.salesQuantity}),this.searchResult=this.items,this.getItemLoader=!1,this.storage.set("itemsLocal",this.items).then(n=>{this.storage.get("itemsLocal").then(r=>{n&&(this.itemsLocal=r,this.searchResult=[],this.items=this.itemsLocal,this.searchResult=this.items)})})},e=>{this.getItemLoader=!1},()=>{})):(this.items=this.itemsLocal,this.items.forEach(e=>{e.quantity=+e.perchQuantity+ +e.firstQuantity-+e.salesQuantity}),this.searchResult=this.items)}afterSync(e){e.forEach(i=>{if(0==this.LogHistoryLocalArr.some(s=>s.logRef===i.logRef))this.LogHistoryLocalArr.push(i);else{let s=this.LogHistoryLocalArr.findIndex(n=>n.logRef===i.logRef);-1!=s&&(this.LogHistoryLocalArr[s]=i)}}),this.storage.set("LogHistoryLocal",this.LogHistoryLocalArr).then(i=>{})}qtyClick(e){this.showMe=e}hideMe(e){this.showMe=null}editCell(e){+this.itemList[e].quantity>0&&+this.itemList[e].perch_price>0?(this.itemList[e].tot=+this.itemList[e].quantity*+this.itemList[e].perch_price,this.discountPerc=0,this.payInvo.discount=0,this.hideMe(e),this.getTotal()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062f\u062e\u0627\u0644 ","danger")}ionViewDidEnter(){setTimeout(()=>{this.subiscribtionNotif=this.behavApi.currentNotif.subscribe(e=>{this.notifArr=0==e.length?[]:e[0],this.notifArr.length>0?(this.showNotif=!0,this.itemsLocal=e[1],this.items=this.itemsLocal,this.searchResult=this.items,this.storage.get("LogHistoryLocal").then(i=>{i&&(this.LogHistoryLocalArr=i)})):this.showNotif=!1})},1e4)}presentModal2(e,i){return(0,_.mG)(this,void 0,void 0,function*(){const s=yield this.modalController.create({component:T.X,componentProps:{item:this.selectedItem,status:i}});return s.onDidDismiss().then(n=>{null!==n&&this.doAfterDissmiss(n)}),yield s.present()})}getItems(e){0==this.offline?this.api.getItems().subscribe(i=>{this.items=i.data,this.searchResult=this.items,e&&this.pickDetail(e,"afterSave")},i=>{}):(this.items=this.itemsLocal,this.searchResult=this.items)}getSalesAccount(){0==this.offline?this.api.getPerchAccounts(this.store_info.id,this.year.id).subscribe(e=>{this.sub_account=e.data,this.addSubaccountLocal()},e=>{}):this.MixSubaccountSalesOffline()}addSubaccountLocal(){if(this.sub_account){if(this.sub_accountLocalPurch)for(let e=0;e<this.sub_accountLocalPurch.length;e++)this.sub_account.push(this.sub_accountLocalPurch[e])}else this.sub_accountLocalPurch&&(this.sub_account=this.sub_accountLocalPurch)}MixSubaccountSalesOffline(){if(this.sub_account=[],this.sub_accountLocalPurch)for(let e=0;e<this.sub_accountLocalPurch.length;e++)this.sub_account.push(this.sub_accountLocalPurch[e]);if(this.sub_accountPurch)for(let e=0;e<this.sub_accountPurch.length;e++)this.sub_account.push(this.sub_accountPurch[e])}generateRandom(){let e=new Date,i=e.getMonth().toString()+e.getDay().toString()+e.getHours().toString()+e.getMinutes().toString()+e.getSeconds().toString()+e.getMilliseconds().toString();this.payInvo.pay_ref=this.store_info.store_ref+i}selectFromPop(e){this.selectedItem={id:e.id,dateCreated:e.dateCreated,pay_ref:this.payInvo.pay_ref,item_desc:e.item_desc,item_name:e.item_name,item_unit:e.item_unit,parcode:e.parcode,pay_price:e.pay_price,perch_price:e.perch_price,qty:"",tot:e.perch_price,aliasEn:e.aliasEn},this.searchTerm=e.item_name,this.didDissmis()}pickDetail(e,i){let s;i?(s=e,this.searchLang=0):s=e.target.value;let n=[];n=this.items.filter(1==this.searchLang?r=>r.item_desc==s:r=>r.item_name==s),this.selectedItem={id:n[0].id,dateCreated:n[0].dateCreated,pay_ref:this.payInvo.pay_ref,item_desc:n[0].item_desc,item_name:n[0].item_name,item_unit:n[0].item_unit,parcode:n[0].parcode,pay_price:n[0].pay_price,perch_price:n[0].perch_price,qty:0,tot:n[0].perch_price,aliasEn:n[0].aliasEn},this.setFocusOnInput("qtyIdP")}qtyhange(e){this.selectedItem.tot=(this.selectedItem.qty*+this.selectedItem.perch_price).toFixed(2)}payPricehange(e){+this.selectedItem.perch_price>=+this.selectedItem.pay_price&&+this.selectedItem.perch_price>0&&+this.selectedItem.pay_price>0&&this.presentToast("\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \u0627\u0639\u0644\u064a \u0645\u0646 \u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 ","warning"),this.selectedItem.tot=(this.selectedItem.qty*+this.selectedItem.perch_price).toFixed(2)}perchPricehange(e){this.selectedItem.perch_price>=this.selectedItem.pay_price&&this.selectedItem.perch_price>0&&this.selectedItem.pay_price>0&&this.presentToast("\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \u0627\u0639\u0644\u064a \u0645\u0646 \u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 ","warning"),this.selectedItem.tot=(this.selectedItem.qty*+this.selectedItem.perch_price).toFixed(2)}payChange(e){this.payInvo.changee=+(this.payInvo.tot_pr-+this.payInvo.discount)-e.target.value}discountChange(e){this.discountPerc=+this.payInvo.discount/+this.payInvo.tot_pr*100,this.payInvo.changee=+(this.payInvo.tot_pr-e.target.value)-this.payInvo.pay}discountPerChange(e){this.payInvo.discount=(+this.payInvo.tot_pr*+this.discountPerc/100).toFixed(2),this.payInvo.changee=+(this.payInvo.tot_pr-this.payInvo.discount)-this.payInvo.pay}deleteItem(e){this.itemList.splice(e,1),this.payInvo.pay=0,this.payInvo.discount=0,this.getTotal()}presentToast(e,i){return(0,_.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:i,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}getTotal(){let e=this.itemList.reduce((i,s)=>i+ +s.tot,0);this.payInvo.tot_pr=e-+this.payInvo.discount,this.payInvo.changee=+(e-+this.payInvo.discount)-this.payInvo.pay,this.payInvo.tot_pr=this.payInvo.tot_pr.toFixed(2),this.payInvo.changee=this.payInvo.changee.toFixed(2)}chechPrice(e){""==this.selectedItem.item_name||""==this.selectedItem.id||0==+this.selectedItem.qty?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0635\u0646\u0641 \u0648\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0645\u064a\u0629","danger"):"check"==e?+this.selectedItem.perch_price>=+this.selectedItem.pay_price?this.priceChangeAlertConfirm():this.addTolist():"uncheck"==e&&this.updateItemDetail()}addTolist(){if(""==this.selectedItem.item_name||""==this.selectedItem.id||0==+this.selectedItem.qty)this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0635\u0646\u0641 \u0648\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0645\u064a\u0629","danger");else{let e=[];if(this.itemList.length>0&&(e=this.itemList.filter(i=>i.item_name==this.selectedItem.item_name&&i.perch_price==this.selectedItem.perch_price)),0==e.length){let i=new Date,s=this.datePipe.transform(i,"dd-MM-YYYY");this.itemList.push({id:"NULL",pay_ref:this.selectedItem.pay_ref,item_name:this.selectedItem.item_name,pay_price:this.selectedItem.pay_price,quantity:+this.selectedItem.qty,tot:this.selectedItem.tot,store_id:+this.store_info.id,yearId:+this.year.id,item_id:+this.selectedItem.id,dateCreated:s,perch_price:this.selectedItem.perch_price})}else{this.selectedItem.qty=+e[0].quantity+ +this.selectedItem.qty;let i=this.itemList.map(s=>s.item_name).indexOf(this.selectedItem.item_name);this.itemList[i].quantity=+this.selectedItem.qty,this.itemList[i].tot=(+this.selectedItem.qty*+this.selectedItem.perch_price).toFixed(2)}this.selectedItem={id:void 0,dateCreated:"",pay_ref:this.payInvo.pay_ref,item_desc:"",item_name:"",item_unit:"",parcode:0,pay_price:0,perch_price:0,qty:0,tot:0,aliasEn:""},this.getTotal()}}validate(){let e=[];return this.sub_account&&(e=this.sub_account.filter(i=>i.sub_name==this.sub_nameNew)),0==this.itemList.length||""==this.payInvo.pay_ref?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0635\u0646\u0627\u0641 \u0627\u0644\u064a \u0627\u0644\u0642\u0627\u0626\u0645\u0629","danger"),!1):1==this.radioVal&&""==this.sub_nameNew?(this.presentToast("s\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","danger"),!1):0==this.radioVal&&""==this.selectedAccount.sub_name?(this.presentToast("w\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","danger"),!1):null==this.payInvo.cust_id&&0==this.radioVal&&""==this.selectedAccount.sub_name||0==+this.payInvo.cust_id&&0==this.radioVal?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","danger"),!1):""==this.payInvo.pay_date||null==this.payInvo.pay_date?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u062a\u0627\u0631\u064a\u062e ","danger"),!1):this.payInvo.changee<0?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u0633\u062a\u0644\u0645 \u0648\u0627\u0644\u062e\u0635\u0645  ","danger"),!1):!(1==this.radioVal&&e.length>0&&(this.presentToast("\u0627\u0644\u0639\u0645\u064a\u0644 \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 , \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631\u0629 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621","danger"),1))}save(){let e=this.payInvo.pay_date;this.payInvo.sub_name=this.selectedAccount.sub_name,this.payInvo.pay_date=this.datePipe.transform(e,"yyyy-MM-dd"),1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),0==this.radioVal&&null!=this.selectedAccount.id?1==this.offline?this.saveInvoLocal():this.saveInvo():0==this.radioVal&&null==this.selectedAccount.id&&""!=this.selectedAccount.sub_name?1==this.offline?this.saveInvoLocal():this.saveSubAccount():1==this.radioVal&&(1==this.offline?this.saveSubAccountlocal():this.saveSubAccount()))}pickAccount(e){let i=this.sub_account.filter(s=>s.sub_name==e.target.value);i.length>0?(this.selectedAccount={id:i[0].id,ac_id:i[0].ac_id,sub_name:i[0].sub_name,sub_type:i[0].sub_type,sub_code:i[0].sub_code,store_id:i[0].store_id,sub_balance:i[0].sub_balance,cat_id:i[0].cat_id,cat_name:i[0].cat_name,phone:i[0].phone,address:i[0].address},this.payInvo.cust_id=this.selectedAccount.id,this.payInvo.sub_name=this.selectedAccount.sub_name):(this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger"),this.selectedItem.item_name="")}preparenewaccount(){this.selectedAccount.sub_name.length>0&&null==this.selectedAccount.id||(this.selectedAccount.sub_name=this.sub_nameNew,this.payInvo.sub_name=this.selectedAccount.sub_name),this.selectedAccount.id=null,this.selectedAccount.ac_id=2,this.selectedAccount.sub_type="credit",this.selectedAccount.sub_code=null,this.selectedAccount.sub_balance="0",this.selectedAccount.cat_id=2,this.selectedAccount.cat_name="\u0627\u0644\u0645\u0648\u0631\u062f\u064a\u0646",this.selectedAccount.store_id=this.store_info.id}saveSubAccount(){this.preparenewaccount(),this.api.saveSubAccount(this.selectedAccount).subscribe(e=>{"Post Not Created"!=e.message?(this.payInvo.cust_id=e.message,0==this.radioVal&&null==this.selectedAccount.id&&0==this.offline&&(this.sub_accountLocalPurch=this.sub_accountLocalPurch.filter(i=>i.sub_name!=this.selectedAccount.sub_name),this.storage.set("sub_accountLocalPurch",this.sub_accountLocalPurch).then(i=>{this.selectedAccount.id=this.payInvo.cust_id,this.sub_accountPurch.push(this.selectedAccount),this.storage.set("sub_accountPurch",this.sub_accountPurch).then(s=>{})})),this.logHistoryArr.push({id:null,logRef:this.generateRandom2("insert supplier"),userId:this.user_info.id,typee:"insert supplier",datee:m(new Date).locale("en").format("YYYY-MM-DD HH:mm:ss"),logStatus:0,logToken:JSON.stringify(this.selectedAccount),yearId:this.year.id,store_id:this.store_info.id}),this.saveInvo()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0645\u0648\u0631\u062f , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0645\u0648\u0631\u062f , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}saveSubAccountlocal(){this.preparenewaccount(),this.sub_account||(this.sub_account=[]),this.sub_account.push(this.selectedAccount),this.sub_accountLocalPurch.push(this.selectedAccount),this.storage.set("sub_accountLocalPurch",this.sub_accountLocalPurch).then(e=>{this.saveInvoLocal()})}saveInvoLocal(){this.purchLocal.push({payInvo:this.payInvo,itemList:this.itemList}),this.storage.set("purchLocal",this.purchLocal).then(e=>{this.printArr=[],this.printArr.push({payInvo:this.payInvo,itemList:this.itemList,selectedAccount:this.selectedAccount,sub_nameNew:this.sub_nameNew}),this.presentAlertConfirm(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success")})}saveInvo(){this.api.savePerchInvo(this.payInvo).subscribe(e=>{this.saveitemList()},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveitemList(){this.api.savePerchitemList(this.itemList).subscribe(e=>{this.printArr=[],this.printArr.push({payInvo:this.payInvo,itemList:this.itemList,selectedAccount:this.selectedAccount,sub_nameNew:this.sub_nameNew}),this.purchase=this.purchase.filter(s=>s.payInvo.pay_ref!=this.payInvo.pay_ref),this.purchase.push({payInvo:this.payInvo,itemList:this.itemList}),this.storage.set("purchase",this.purchase).then(s=>{});let i=[];i.push({payInvo:this.payInvo,itemList:this.itemList}),this.logHistoryArr.push({id:null,logRef:this.generateRandom2("insert purchase"),userId:this.user_info.id,typee:"insert purchase",datee:m(new Date).locale("en").format("YYYY-MM-DD HH:mm:ss"),logStatus:0,logToken:JSON.stringify(i[0]),yearId:this.year.id,store_id:this.store_info.id}),this.performSync()},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}generateRandom2(e){let i=new Date,s=i.getMonth().toString()+i.getDay().toString()+i.getHours().toString()+i.getMinutes().toString()+i.getSeconds().toString()+i.getMilliseconds().toString()+e;return this.store_info.store_ref+s}saveLogHistory(){let e,i,s;this.logHistoryArr.length>1?(s=this.logHistoryArr[1],i=this.logHistoryArr[0],e="new account"):(s=this.logHistoryArr[0],e=void 0),this.api.saveLogHistoryMultiSales(s,i,e).subscribe(n=>{"Post Not Created"!=n.message?(this.logHistoryArr=[],this.presentAlertConfirm(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success")):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},n=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveLogHistoryForInsertItem(){let e,i;this.logHistoryArr.length>1&&(i=this.logHistoryArr[1],e=this.logHistoryArr[0]),this.api.saveLogHistoryMulti(i,e,"insert").subscribe(s=>{"Post Not Created"!=s.message?this.logHistoryArr=[]:this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},s=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveLogHistoryForUpdateItem(){this.api.saveLogHistoryMulti(this.logHistoryArr[0],void 0,"update").subscribe(n=>{"Post Not Created"!=n.message?this.logHistoryArr=[]:this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},n=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentModal(e,i){return(0,_.mG)(this,void 0,void 0,function*(){const s=yield this.modalController.create({component:A.n,componentProps:{printArr:this.printArr,page:i}});return s.onDidDismiss().then(n=>{null!==n&&this.prepareInvo()}),yield s.present()})}presentLoadingWithOptions(e){return(0,_.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:e,translucent:!0,backdropDismiss:!1});yield i.present(),yield i.onDidDismiss()})}doAfterDissmiss(e){"save"==e.role&&this.saveItem(e.data)}saveItem(e){this.logHistoryArr.push({id:null,logRef:this.generateRandom2("insert item"),userId:this.user_info.id,typee:"insert item",datee:m(new Date).locale("en").format("YYYY-MM-DD HH:mm:ss"),logStatus:0,logToken:JSON.stringify(e[0]),yearId:this.year.id,store_id:this.store_info.id}),this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.saveitemMulti(e[0]).subscribe(i=>{"Post Not Created"!=i.message?(this.firstq={id:null,item_id:i.message,store_id:this.store_info.id,quantity:e[1].quantity,pay_price:e[0].pay_price,perch_price:e[0].perch_price,fq_year:"2022",item_name:e[0].item_name},this.saveFierstQty(e[0].item_name)):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},i=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}saveFierstQty(e){return(0,_.mG)(this,void 0,void 0,function*(){this.api.saveFirstQty(this.firstq).subscribe(i=>{this.logHistoryArr.push({id:null,logRef:this.generateRandom2("insert firstq"),userId:this.user_info.id,typee:"insert firstq",datee:m(new Date).locale("en").format("YYYY-MM-DD HH:mm:ss"),logStatus:0,logToken:JSON.stringify(this.firstq),yearId:this.year.id,store_id:this.store_info.id}),this.performSyncItem()},i=>{this.presentToast("1\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()},()=>{this.loadingController.dismiss()})})}performSync(){return(0,_.mG)(this,void 0,void 0,function*(){yield this.saveLogHistory(),yield this.getStockItems()})}ionViewDidLeave(){this.subiscribtionNotif.unsubscribe()}performSyncItem(e){return(0,_.mG)(this,void 0,void 0,function*(){yield this.saveLogHistoryForInsertItem(),e?yield this.getStockItems(e):yield this.getStockItems()})}performSync2(){return(0,_.mG)(this,void 0,void 0,function*(){yield this.saveLogHistoryForUpdateItem(),yield this.getStockItemsAfterUpdate()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P.h),t.Y36(y.gz),t.Y36(t.Qsj),t.Y36(c.IN),t.Y36(c.Br),t.Y36(I.u),t.Y36(q.K),t.Y36(c.HT),t.Y36(p.uU),t.Y36(v.r),t.Y36(c.yF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-purchase-mob"]],viewQuery:function(e,i){if(1&e&&(t.Gf(w,5),t.Gf(L,5),t.Gf(Q,5),t.Gf(N,5),t.Gf(H,5),t.Gf(J,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.nameField=s.first),t.iGM(s=t.CRH())&&(i.qtyIdP=s.first),t.iGM(s=t.CRH())&&(i.dstPop2=s.first),t.iGM(s=t.CRH())&&(i.popInput2=s.first),t.iGM(s=t.CRH())&&(i.popover2=s.first),t.iGM(s=t.CRH())&&(i.popoverNotif3=s.first)}},decls:49,vars:14,consts:[["slot","start"],["slot","end"],[1,"poRel"],[1,"posAb","noti"],[4,"ngIf"],[3,"click"],["name","notifications-outline",1,"dark",3,"ngClass"],["fill","clear",3,"click"],["color","dark"],["fill","clear","slot","end",1,"ion-margin",3,"click"],["name","wifi-outline",2,"font-size","20px",3,"color"],["color","dark",4,"ngIf"],[3,"isOpen","didDismiss"],["popoverNotif3",""],[3,"ngModel","ngModelChange","ionChange"],["value","first"],["value","second"],["value","third"],["class","ion-margin-top",4,"ngIf"],[1,"ion-justify-content-center"],["size","6"],["expand","block","routerDirection","root","color","success",3,"click"],[1,"ion-text-center"],["size","6","class","ion-text-center",4,"ngIf"],["dir","rtl",1,"ion-text-center"],["dir","rtl"],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["size","9"],["size","3"],["color","primary"],["size","12"],[1,"ion-no-padding","ion-no-margin"],["lines","none"],[1,"ion-margin-end",3,"value"],["size","12",4,"ngIf"],["size","12",1,"ion-text-end"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],[1,"custInput"],["placeholder","\u0623\u0643\u062a\u0628 \u062a\u0639\u0644\u064a\u0642\u0627",3,"ngModel","ngModelChange"],["placeholder","\u0627\u062e\u062a\u0631  \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","list","accountsp","id","accountp",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsp",2,"height","auto","max-height","20px"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","ngModelChange"],[1,"ion-margin-top"],["size","12",1,"ion-no-padding"],["size","8",4,"ngIf"],["size","8","class","ion-no-margin ion-no-padding",4,"ngIf"],["size","4",1,"ion-margin-top"],[1,"ion-padding"],[3,"ngModel","keyup.enter","ngModelChange","ionChange"],["qtyIdP",""],["size","6",1,"ion-margin-top"],["size","12",1,"ion-margin-top"],[3,"readonly","ngModel","ngModelChange"],["size","5",1,"ion-padding"],["name","add-circle","color","light"],["size","7",1,"ion-padding"],["expand","block","routerDirection","root","color","light",3,"click"],["name","create-outline","color","primary"],[1,"table"],[3,"dblclick",4,"ngFor","ngForOf"],["size","8"],[3,"disabled"],["size","8",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding"],["size","6",1,"custPadding","ion-no-margin","ion-no-padding"],["size","5","class","ion-no-margin ion-no-padding ion-text-end",4,"ngIf"],[3,"ngModel","click","ngModelChange",4,"ngIf"],["fill","clear","slot","end",3,"click"],["name","refresh","color","success"],["popover2",""],["size","5",1,"ion-no-margin","ion-no-padding","ion-text-end"],["size","small","fill","clear",3,"click"],["name","add-circle-outline","color","success","slot","end"],["name","lines-sharp"],[3,"ngModel","click","ngModelChange"],["dstPop2",""],["popInput2",""],["name","close","color","danger"],["dir","rtl",1,"ion-padding"],["button","","class","darko",3,"ngClass","click",4,"ngFor","ngForOf"],["button","",1,"darko",3,"ngClass","click"],[3,"dblclick"],["fill","clear","size","small",3,"click"],["name","trash","color","danger"],[3,"ngModel","keyup.enter","ngModelChange","ionBlur"],[3,"ngModel","readonly","ngModelChange"],[1,"ion-padding","ion-margin-start"],["tabindex","600",1,"custInp",3,"ngModel","ngModelChange","ionBlur"],["type","date","id","startingDate3","name","startingDate3",2,"width","100%",3,"ngModel","ngModelChange"],["size","6",1,"ion-text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"\u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0634\u062a\u0631\u064a\u0627\u062a"),t.qZA(),t.TgZ(6,"ion-buttons",1),t.TgZ(7,"div",2),t.TgZ(8,"div",3),t.TgZ(9,"ion-label"),t.YNc(10,k,2,1,"ion-text",4),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.NdJ("click",function(n){return i.presentPopoverNotif(n)}),t._UZ(12,"ion-icon",6),t.qZA(),t.qZA(),t.TgZ(13,"ion-button",7),t.NdJ("click",function(n){return i.presentPopoverNotif(n)}),t.TgZ(14,"ion-label"),t.TgZ(15,"ion-text",8),t._uU(16,"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"ion-button",9),t.NdJ("click",function(){return i.changeMode()}),t.TgZ(18,"ion-label"),t._UZ(19,"ion-icon",10),t.qZA(),t.TgZ(20,"ion-label"),t.YNc(21,O,2,0,"ion-text",11),t.qZA(),t.TgZ(22,"ion-label"),t.YNc(23,S,2,0,"ion-text",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"ion-popover",12,13),t.NdJ("didDismiss",function(){return i.didDissmisNotif()}),t.YNc(26,Y,5,1,"ng-template"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-content"),t.TgZ(28,"ion-segment",14),t.NdJ("ngModelChange",function(n){return i.segmentVal=n})("ionChange",function(n){return i.segmentChange(n)}),t.TgZ(29,"ion-segment-button",15),t.TgZ(30,"ion-label"),t._uU(31,"\u062a\u0647\u064a\u0626\u0629 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),t.qZA(),t.qZA(),t.TgZ(32,"ion-segment-button",16),t.TgZ(33,"ion-label"),t._uU(34,"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0623\u0635\u0646\u0627\u0641"),t.qZA(),t.qZA(),t.TgZ(35,"ion-segment-button",17),t.TgZ(36,"ion-label"),t._uU(37," \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a "),t.qZA(),t.qZA(),t.qZA(),t.YNc(38,z,34,7,"ion-grid",4),t.YNc(39,ut,61,8,"ion-grid",18),t.YNc(40,lt,40,8,"ion-grid",4),t.qZA(),t.TgZ(41,"ion-footer"),t.TgZ(42,"ion-grid"),t.TgZ(43,"ion-row",19),t.TgZ(44,"ion-col",20),t.TgZ(45,"ion-button",21),t.NdJ("click",function(){return i.save()}),t.TgZ(46,"ion-label",22),t._uU(47," \u062d\u0641\u0640\u0640\u0638"),t.qZA(),t.qZA(),t.qZA(),t.YNc(48,ht,8,1,"ion-col",23),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",1==i.showNotif&&i.notifArr.length>0),t.xp6(2),t.Q6J("ngClass",t.WLB(11,_t,1==i.showNotif&&i.notifArr.length>0,0==i.showNotif)),t.xp6(7),t.Q6J("color",i.color),t.xp6(2),t.Q6J("ngIf","primary"==i.color),t.xp6(2),t.Q6J("ngIf","dark"==i.color),t.xp6(1),t.Q6J("isOpen",i.isOpenNotif),t.xp6(4),t.Q6J("ngModel",i.segmentVal),t.xp6(10),t.Q6J("ngIf",i.user_info&&i.store_info&&"first"==i.segmentVal),t.xp6(1),t.Q6J("ngIf",i.user_info&&i.store_info&&"second"==i.segmentVal),t.xp6(1),t.Q6J("ngIf",i.user_info&&i.store_info&&"third"==i.segmentVal),t.xp6(8),t.Q6J("ngIf",i.payInvo))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.wd,c.Q$,p.O5,c.gu,p.mk,c.YG,c.yW,c.d8,c.W2,c.cJ,c.QI,g.JJ,g.On,c.GO,c.fr,c.jY,c.Nd,c.wI,c.q_,p.sg,c.Ie,c.PM,c.se,c.B7,c.U5,g.Fj,c.pK,c.j9,g.YN,g.Kr,c.PQ],pipes:[C.R],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.cust-card[_ngcontent-%COMP%]{border-radius:5px}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.bnone[_ngcontent-%COMP%]{border:none}.red[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.darko[_ngcontent-%COMP%]{color:var(--ion-color-dark)}ion-popover[_ngcontent-%COMP%]{--offset-y: -30px }.custInp[_ngcontent-%COMP%]{border-right-style:solid;border-right-width:.5px;text-align:center}.table[_ngcontent-%COMP%]{text-align:center;width:100%;margin:12px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px;font-size:16px;font-weight:700;color:#000}td[_ngcontent-%COMP%]:nth-child(2), th[_ngcontent-%COMP%]:nth-child(2){text-align:right;padding-right:12px}"]}),o})()}];let dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[y.Bz.forChild(gt)],y.Bz]}),o})();var pt=l(78565);let mt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,g.u5,pt.G,c.Pc,dt]]}),o})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[160],{10160:(yt,p,c)=>{c.r(p),c.d(p,{SalesRecordPageModule:()=>ut});var d=c(69808),g=c(34182),l=c(23349),h=c(94030),u=c(70655),Z=c(42654),y=c(4441),A=c(10276),m=c(67705),t=c(29863),x=c(90849),T=c(91472),b=c(52562),q=c(79002),S=c(6612),v=c(12317),w=c(35845),P=c(90733),C=c(1212);function D(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-item",19),t.TgZ(1,"input",20),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(3).startingDate=o}),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngModel",e.startingDate)}}function I(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-col",12),t.TgZ(1,"ion-item",19),t.TgZ(2,"input",21),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(3).endDate=o}),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(3);t.xp6(2),t.Q6J("ngModel",e.endDate)}}function U(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",4),t.TgZ(2,"ion-col",5),t.TgZ(3,"ion-card",6),t.TgZ(4,"ion-grid",6),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",5),t.TgZ(7,"ion-grid",6),t.TgZ(8,"ion-row",4),t.TgZ(9,"ion-radio-group",7),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).radioVal=o})("ionChange",function(o){return t.CHM(e),t.oxw(2).radioChange(o)}),t.TgZ(10,"ion-grid",6),t.TgZ(11,"ion-row"),t.TgZ(12,"ion-col",8),t.TgZ(13,"app-account-selector",9),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).selectedAccount=o})("accountSelected",function(o){return t.CHM(e),t.oxw(2).onAccountSelected(o)})("balanceLoaded",function(o){return t.CHM(e),t.oxw(2).onAccountBalanceLoaded(o)}),t.qZA(),t.qZA(),t.TgZ(14,"ion-col",6),t.TgZ(15,"ion-item",10),t._UZ(16,"ion-radio",11),t.TgZ(17,"ion-label"),t._uU(18,"\u0645\u0628\u064a\u0639\u0627\u062a \u062d\u062f\u064a\u062b\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"ion-col",6),t.TgZ(20,"ion-item",10),t._UZ(21,"ion-radio",11),t.TgZ(22,"ion-label"),t._uU(23,"\u0628\u062d\u062b \u0641\u064a \u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"ion-col",6),t.TgZ(25,"ion-item",10),t._UZ(26,"ion-radio",11),t.TgZ(27,"ion-label"),t._uU(28,"\u0628\u062d\u062b \u0641\u064a \u0641\u062a\u0631\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"ion-col",6),t.TgZ(30,"ion-item",10),t._UZ(31,"ion-radio",11),t.TgZ(32,"ion-label"),t._uU(33," \u0641\u0648\u0627\u062a\u064a\u0631 \u0645\u0628\u062f\u0626\u064a\u0629 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-col",6),t.TgZ(35,"ion-item",10),t._UZ(36,"ion-radio",11),t.TgZ(37,"ion-label"),t._uU(38,"\u0645\u0631\u062a\u062c\u0639\u0627\u062a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"ion-row",4),t.TgZ(40,"ion-col",12),t.YNc(41,D,2,1,"ion-item",13),t.qZA(),t.YNc(42,I,3,1,"ion-col",14),t.TgZ(43,"ion-col",15),t.TgZ(44,"ion-item",10),t.TgZ(45,"ion-buttons",1),t.TgZ(46,"ion-button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).search()}),t._UZ(47,"ion-icon",17),t.TgZ(48,"ion-label"),t.TgZ(49,"ion-text",18),t._uU(50,"\u0628\u062d\u0640\u0640\u062b"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(9),t.Q6J("ngModel",e.radioVal),t.xp6(4),t.Q6J("store_info",e.store_info)("year",e.year)("showAddButton",!1)("ngModel",e.selectedAccount),t.xp6(3),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(5),t.Q6J("value",2),t.xp6(5),t.Q6J("value",3),t.xp6(5),t.Q6J("value",4),t.xp6(5),t.Q6J("ngIf",0!=e.radioVal&&3!=e.radioVal),t.xp6(1),t.Q6J("ngIf",2==e.radioVal)}}function M(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).navigateToCreateReturn()}),t._UZ(1,"ion-icon",36),t._uU(2," \u0625\u0646\u0634\u0627\u0621 \u0645\u0631\u062a\u062c\u0639\u0629 \u062c\u062f\u064a\u062f\u0629 "),t.qZA()}}function O(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currencyDisplay"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"currencyDisplay"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"currencyDisplay"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t.TgZ(23,"ion-button",37),t.NdJ("click",function(o){const a=t.CHM(e).$implicit;return t.oxw(3).presentActionPopover(o,a,a.sub_name)}),t._UZ(24,"ion-icon",38),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=r.$implicit,i=r.index,o=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.sub_name),t.xp6(2),t.hij(" ",o.getDateValue(e),""),t.xp6(2),t.Oqu(t.Dn7(9,9,e.tot_pr,"SDG",!1)),t.xp6(3),t.Oqu(t.Dn7(12,13,e.discount,"SDG",!1)),t.xp6(3),t.Oqu(t.Dn7(15,17,+e.tot_pr-+e.discount,"SDG",!1)),t.xp6(3),t.Oqu(e.pay),t.xp6(2),t.Oqu(o.getCommentValue(e)),t.xp6(2),t.Oqu(e.user_name)}}function L(s,r){1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",39),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",39),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",39),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",39),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",39),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",39),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ion-skeleton-text",39),t.qZA(),t.TgZ(15,"td"),t._UZ(16,"ion-skeleton-text",39),t.qZA(),t.qZA())}function R(s,r){1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",39),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",39),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",39),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",39),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",39),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",39),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ion-skeleton-text",39),t.qZA(),t.TgZ(15,"td"),t._UZ(16,"ion-skeleton-text",39),t.qZA(),t.qZA())}function J(s,r){1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",39),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",39),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",39),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",39),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",39),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",39),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ion-skeleton-text",39),t.qZA(),t.TgZ(15,"td"),t._UZ(16,"ion-skeleton-text",39),t.qZA(),t.qZA())}function N(s,r){1&s&&(t.TgZ(0,"ion-row",40),t.TgZ(1,"ion-col",41),t.TgZ(2,"ion-label"),t._UZ(3,"ion-icon",42),t.qZA(),t.TgZ(4,"h4"),t._uU(5," \u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a "),t.qZA(),t.qZA(),t.qZA())}function E(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-grid",22),t.TgZ(1,"ion-row"),t._UZ(2,"ion-card",23),t.qZA(),t.TgZ(3,"ion-row",4),t.TgZ(4,"ion-col",24),t.TgZ(5,"ion-grid"),t.TgZ(6,"ion-row"),t.TgZ(7,"ion-col",5),t.TgZ(8,"ion-card"),t.TgZ(9,"ion-card-header",25),t.TgZ(10,"div",26),t.TgZ(11,"ion-card-title"),t._uU(12),t.qZA(),t.TgZ(13,"div",27),t.YNc(14,M,3,0,"ion-button",28),t.TgZ(15,"app-export-buttons",29),t.NdJ("exportPDF",function(){return t.CHM(e),t.oxw(2).exportToPDF()})("exportExcel",function(){return t.CHM(e),t.oxw(2).exportToExcel()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"table",30),t.TgZ(17,"tr"),t.TgZ(18,"th"),t._uU(19,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(20,"th",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sortBy("sub_name")}),t._UZ(21,"ion-icon",32),t._uU(22," \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.TgZ(23,"th",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.sortBy(o.getDateField())}),t._UZ(24,"ion-icon",32),t._uU(25," \u0627\u0644\u062a\u0627\u0631\u064a\u062e "),t.qZA(),t.TgZ(26,"th",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sortBy("tot_pr")}),t._UZ(27,"ion-icon",32),t._uU(28),t.qZA(),t.TgZ(29,"th",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sortBy("discount")}),t._UZ(30,"ion-icon",32),t._uU(31),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.qZA(),t.TgZ(34,"th"),t._uU(35," \u0627\u0644\u0645\u062f\u0641\u0648\u0639 "),t.qZA(),t.TgZ(36,"th",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.sortBy(o.getCommentField())}),t._UZ(37,"ion-icon",32),t._uU(38," \u062a\u0639\u0644\u064a\u0642 "),t.qZA(),t.TgZ(39,"th",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sortBy("user_name")}),t._UZ(40,"ion-icon",32),t._uU(41," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "),t.qZA(),t.TgZ(42,"th"),t._uU(43,"\u0625\u062c\u0631\u0627\u0621"),t.qZA(),t.qZA(),t.YNc(44,O,25,21,"tr",33),t.YNc(45,L,17,0,"tr",2),t.YNc(46,R,17,0,"tr",2),t.YNc(47,J,17,0,"tr",2),t.qZA(),t.YNc(48,N,6,0,"ion-row",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(12),t.Oqu(e.getTableTitle()),t.xp6(2),t.Q6J("ngIf",4===e.radioVal),t.xp6(1),t.Q6J("hasData",e.sortedPayArray&&e.sortedPayArray.length>0)("isLoading",e.loading),t.xp6(6),t.Q6J("name",e.getSortIcon("sub_name")),t.xp6(3),t.Q6J("name",e.getSortIcon(e.getDateField())),t.xp6(3),t.Q6J("name",e.getSortIcon("tot_pr")),t.xp6(1),t.hij(" \u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a (",e.getCurrencySymbol(),") "),t.xp6(2),t.Q6J("name",e.getSortIcon("discount")),t.xp6(1),t.hij(" \u0627\u0644\u062e\u0635\u0640\u0640\u0645 (",e.getCurrencySymbol(),") "),t.xp6(2),t.hij("\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645 (",e.getCurrencySymbol(),")"),t.xp6(4),t.Q6J("name",e.getSortIcon(e.getCommentField())),t.xp6(3),t.Q6J("name",e.getSortIcon("user_name")),t.xp6(4),t.Q6J("ngForOf",e.sortedPayArray),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.showEmpty)}}function k(s,r){if(1&s&&(t.TgZ(0,"ion-content"),t.YNc(1,U,51,12,"ion-grid",2),t.YNc(2,E,49,18,"ion-grid",3),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info),t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info)}}function F(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-item",19),t.TgZ(1,"input",20),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(3).startingDate=o}),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngModel",e.startingDate)}}function Q(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-col",44),t.TgZ(1,"ion-item",19),t.TgZ(2,"input",21),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(3).endDate=o}),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(3);t.xp6(2),t.Q6J("ngModel",e.endDate)}}function Y(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",4),t.TgZ(2,"ion-col",5),t.TgZ(3,"ion-card",6),t.TgZ(4,"ion-grid",6),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",5),t.TgZ(7,"ion-grid",6),t.TgZ(8,"ion-row",4),t.TgZ(9,"ion-radio-group",7),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).radioVal=o})("ionChange",function(o){return t.CHM(e),t.oxw(2).radioChange(o)}),t.TgZ(10,"ion-grid",6),t.TgZ(11,"ion-row"),t.TgZ(12,"ion-col",5),t.TgZ(13,"app-account-selector",9),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).selectedAccount=o})("accountSelected",function(o){return t.CHM(e),t.oxw(2).onAccountSelected(o)})("balanceLoaded",function(o){return t.CHM(e),t.oxw(2).onAccountBalanceLoaded(o)}),t.qZA(),t.qZA(),t.TgZ(14,"ion-col"),t.TgZ(15,"ion-item",10),t._UZ(16,"ion-radio",11),t.TgZ(17,"ion-label"),t._uU(18,"\u0645\u0628\u064a\u0639\u0627\u062a \u062d\u062f\u064a\u062b\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"ion-col"),t.TgZ(20,"ion-item",10),t._UZ(21,"ion-radio",11),t.TgZ(22,"ion-label"),t._uU(23,"\u0628\u062d\u062b \u0641\u064a \u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"ion-col"),t.TgZ(25,"ion-item",10),t._UZ(26,"ion-radio",11),t.TgZ(27,"ion-label"),t._uU(28,"\u0628\u062d\u062b \u0641\u064a \u0641\u062a\u0631\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"ion-col"),t.TgZ(30,"ion-item",10),t._UZ(31,"ion-radio",11),t.TgZ(32,"ion-label"),t._uU(33," \u0641\u0648\u0627\u062a\u064a\u0631 \u0645\u0628\u062f\u0626\u064a\u0629 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-row",4),t.TgZ(35,"ion-col",44),t.YNc(36,F,2,1,"ion-item",13),t.qZA(),t.YNc(37,Q,3,1,"ion-col",45),t.TgZ(38,"ion-col",46),t.TgZ(39,"ion-item",10),t.TgZ(40,"ion-buttons",1),t.TgZ(41,"ion-button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).search()}),t._UZ(42,"ion-icon",17),t.TgZ(43,"ion-label"),t.TgZ(44,"ion-text",18),t._uU(45,"\u0628\u062d\u0640\u0640\u062b"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(9),t.Q6J("ngModel",e.radioVal),t.xp6(4),t.Q6J("store_info",e.store_info)("year",e.year)("showAddButton",!1)("ngModel",e.selectedAccount),t.xp6(3),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(5),t.Q6J("value",2),t.xp6(5),t.Q6J("value",3),t.xp6(5),t.Q6J("ngIf",0!=e.radioVal&&3!=e.radioVal),t.xp6(1),t.Q6J("ngIf",2==e.radioVal)}}function B(s,r){1&s&&(t.TgZ(0,"ion-list"),t.TgZ(1,"ion-item"),t._UZ(2,"ion-skeleton-text",39),t.qZA(),t.TgZ(3,"ion-item"),t._UZ(4,"ion-skeleton-text",39),t.qZA(),t.TgZ(5,"ion-item"),t._UZ(6,"ion-skeleton-text",39),t.qZA(),t.qZA())}function V(s,r){1&s&&(t.TgZ(0,"ion-item",50),t._UZ(1,"ion-skeleton-text",39),t.qZA())}function H(s,r){1&s&&(t.TgZ(0,"ion-item",50),t._UZ(1,"ion-skeleton-text",39),t.qZA())}function z(s,r){1&s&&(t.TgZ(0,"ion-item",50),t._UZ(1,"ion-skeleton-text",39),t.qZA())}function G(s,r){1&s&&(t.TgZ(0,"ion-item",57),t._UZ(1,"ion-skeleton-text",39),t.qZA())}function $(s,r){if(1&s&&(t.TgZ(0,"ion-item",57),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row"),t.TgZ(3,"ion-col",5),t.TgZ(4,"ion-label"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"ion-col",5),t.TgZ(7,"ion-label"),t.TgZ(8,"ion-note"),t._uU(9,"\u0627\u0644\u0643\u0645\u064a\u0629 :"),t.qZA(),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"ion-col",59),t.TgZ(12,"ion-label"),t.TgZ(13,"ion-note"),t._uU(14,"\u0627\u0644\u0633\u0639\u0631 :"),t.qZA(),t._uU(15),t.ALo(16,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=r.$implicit;t.xp6(5),t.Oqu(e.item_name),t.xp6(5),t.Oqu(e.quantity),t.xp6(5),t.Oqu(t.lcZ(16,3,e.pay_price))}}function j(s,r){if(1&s&&(t.TgZ(0,"ion-list"),t.YNc(1,$,17,5,"ion-item",58),t._UZ(2,"ion-grid"),t.qZA()),2&s){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.item_details)}}function W(s,r){1&s&&(t.TgZ(0,"ion-list"),t.TgZ(1,"ion-label"),t._uU(2,"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),t.qZA(),t.qZA())}function X(s,r){if(1&s&&(t.TgZ(0,"ion-item",10),t.TgZ(1,"ion-label"),t.TgZ(2,"ion-note"),t._uU(3,"\u062a\u062e\u0641\u064a\u0636 : "),t.qZA(),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA()),2&s){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(t.lcZ(6,1,e.discount))}}function K(s,r){if(1&s&&(t.TgZ(0,"ion-item",10),t.TgZ(1,"ion-label"),t.TgZ(2,"ion-note"),t._uU(3," \u0635\u0627\u0641\u064a \u0627\u0644\u0645\u0628\u0644\u063a : "),t.qZA(),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA()),2&s){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",t.lcZ(6,1,+e.tot_pr-+e.discount)," ")}}function tt(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"ion-accordion",49),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(4).getPayDetailsForMob(n)}),t.TgZ(1,"ion-item",50),t._UZ(2,"ion-icon",51),t.TgZ(3,"ion-grid"),t.TgZ(4,"ion-row"),t.TgZ(5,"ion-col",5),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-col",12),t.TgZ(9,"ion-label"),t.TgZ(10,"ion-note"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"ion-col",46),t.TgZ(14,"ion-label"),t._uU(15),t.ALo(16,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(17,V,2,0,"ion-item",52),t.YNc(18,H,2,0,"ion-item",52),t.YNc(19,z,2,0,"ion-item",52),t.TgZ(20,"div",53),t.YNc(21,G,2,0,"ion-item",54),t.YNc(22,j,3,1,"ion-list",2),t.YNc(23,W,3,0,"ion-list",2),t._UZ(24,"ion-item-divider"),t.TgZ(25,"ion-list"),t.TgZ(26,"ion-item",10),t.TgZ(27,"ion-label"),t.TgZ(28,"ion-note"),t._uU(29,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 : "),t.qZA(),t.TgZ(30,"strong"),t._uU(31),t.ALo(32,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.YNc(33,X,7,3,"ion-item",55),t.YNc(34,K,7,3,"ion-item",55),t.qZA(),t.TgZ(35,"ion-row",56),t.TgZ(36,"ion-col",44),t.TgZ(37,"ion-button",16),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(4).getPayInvoDetail(n,n.sub_name,"edit")}),t._UZ(38,"ion-icon",17),t.TgZ(39,"ion-label"),t.TgZ(40,"ion-text",18),t._uU(41,"\u062a\u0639\u062f\u064a\u0644"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"ion-col",44),t.TgZ(43,"ion-button",16),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(4).createPdf(n)}),t._UZ(44,"ion-icon",17),t.TgZ(45,"ion-label"),t.TgZ(46,"ion-text",18),t._uU(47,"\u0637\u0628\u0627\u0639\u0629"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=r.$implicit,i=r.index,o=t.oxw(4);t.Q6J("value",i),t.xp6(7),t.Oqu(e.sub_name),t.xp6(4),t.Oqu(t.xi3(12,13,e.pay_date,"dd-MM")),t.xp6(4),t.Oqu(t.lcZ(16,16,+e.tot_pr-+e.discount)),t.xp6(2),t.Q6J("ngIf",1==o.loadingDetails),t.xp6(1),t.Q6J("ngIf",1==o.loadingDetails),t.xp6(1),t.Q6J("ngIf",1==o.loadingDetails),t.xp6(2),t.Q6J("ngIf",1==o.loadingDetails),t.xp6(1),t.Q6J("ngIf",e.item_details),t.xp6(1),t.Q6J("ngIf",!e.item_details||0==e.item_details.length),t.xp6(8),t.Oqu(t.lcZ(32,18,e.tot_pr)),t.xp6(2),t.Q6J("ngIf",e.discount>0),t.xp6(1),t.Q6J("ngIf",e.discount>0)}}function et(s,r){if(1&s&&(t.TgZ(0,"ion-accordion-group"),t.YNc(1,tt,48,20,"ion-accordion",48),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.payArray)}}function it(s,r){if(1&s&&(t.TgZ(0,"ion-grid",47),t.YNc(1,B,7,0,"ion-list",2),t.YNc(2,et,2,1,"ion-accordion-group",2),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",e.payArray)}}function ot(s,r){if(1&s&&(t.TgZ(0,"ion-content"),t.YNc(1,Y,46,11,"ion-grid",2),t.YNc(2,it,3,2,"ion-grid",43),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info),t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info)}}function nt(s,r){if(1&s&&(t.TgZ(0,"ion-grid",4),t.TgZ(1,"ion-row"),t.TgZ(2,"ion-col"),t.TgZ(3,"ion-label"),t.TgZ(4,"ion-text"),t._uU(5,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a : "),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"strong"),t._uU(8),t.ALo(9,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-col"),t.TgZ(11,"ion-label"),t.TgZ(12,"ion-text"),t._uU(13,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"strong"),t._uU(16),t.ALo(17,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"ion-col"),t.TgZ(19,"ion-label"),t.TgZ(20,"ion-text"),t._uU(21,"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24),t.ALo(25,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(8),t.Oqu(t.lcZ(9,3,e.sums.tot)),t.xp6(8),t.Oqu(t.lcZ(17,5,e.sums.discount)),t.xp6(8),t.Oqu(t.lcZ(25,7,e.sums.totAfterDiscout))}}function st(s,r){if(1&s&&(t.TgZ(0,"ion-grid",4),t.TgZ(1,"ion-row"),t.TgZ(2,"ion-col",44),t.TgZ(3,"ion-label"),t.TgZ(4,"ion-text"),t._uU(5,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a : "),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"strong"),t._uU(8),t.ALo(9,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-col",44),t.TgZ(11,"ion-label"),t.TgZ(12,"ion-text"),t._uU(13,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"strong"),t._uU(16),t.ALo(17,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"ion-col",5),t.TgZ(19,"ion-label"),t.TgZ(20,"ion-text"),t._uU(21,"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24),t.ALo(25,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(8),t.Oqu(t.lcZ(9,3,e.sums.tot)),t.xp6(8),t.Oqu(t.lcZ(17,5,e.sums.discount)),t.xp6(8),t.Oqu(t.lcZ(25,7,e.sums.totAfterDiscout))}}function at(s,r){if(1&s&&(t.TgZ(0,"ion-footer"),t.YNc(1,nt,26,9,"ion-grid",60),t.YNc(2,st,26,9,"ion-grid",60),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","desktop"==e.device),t.xp6(1),t.Q6J("ngIf","mobile"==e.device)}}const rt=[{path:"",component:(()=>{class s{constructor(e,i,o,n,a,_,_t,dt,gt,ht,pt,ft,Zt){this.popoverController=e,this.platform=i,this.rout=o,this.storage=n,this.modalController=a,this.loadingController=_,this.datePipe=_t,this.api=dt,this.toast=gt,this.sortingService=ht,this.exportService=pt,this.currencyService=ft,this.cdr=Zt,this.payArray=[],this.sortedPayArray=[],this.currentSort=null,this.printArr=[],this.initialInvoices=[],this.loadinDet=!1,this.sub_accountLocalSales=[],this.sub_accountSales=[],this.sub_account=[],this.printMode=!1,this.itemList=[],this.radioVal=0,this.searchLang=0,this.loading=!1,this.loadingDetails=!1,this.showEmpty=!1,this.showError=!1,this.offline=!1,this.salesLocal=[],this.sales=[],this.salesOffline=[],this.color="dark",this.currentCustumerStatus=0,this.device="",this.slideOpts={slidesPerView:4,spaceBetween:0},this.pdfObj=null,this.tbArr={content:[{columns:[{width:"*",text:""},{width:"auto",text:"BANSI GIRISH JAYANTILAL IMPORT & EXPORT ENTERPRISES",alignment:"center"},{width:"*",text:""}],margin:[0,0,10,10]},{columns:[{width:"*",text:""},{width:"auto",text:" Exclusive agent for brands (POWERMAX , SIMBA , GIRISH )",alignment:"center"},{width:"*",text:""}],margin:[0,0,10,10]},{columns:[{width:"*",text:""},{width:"auto",text:" \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0628\u064a\u0639\u0627\u062a",alignment:"center"},{width:"*",text:""}],margin:[0,10,0,10]},{columns:[{width:90,text:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e :"},{width:"*",text:""},{width:90,text:""},{width:"*",text:"\u0627\u0644\u0639\u0645\u064a\u0644:"}],margin:[0,20,0,10]},{columns:[{width:90,text:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 :"},{width:"*",text:""},{width:90,text:""},{width:"*",text:"\u0627\u0644\u0645\u0643\u0627\u0646 :"}],margin:[0,10,0,10]},{table:{body:[["\u0627\u0644\u0645\u062c\u0645\u0648\u0639","\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629","\u0627\u0644\u0643\u0645\u064a\u0629","\u0627\u0644\u0635\u0646\u0641","\u0627\u0644\u062a\u0633\u0644\u0633\u0644"]]},margin:[0,10,0,10]},{columns:[{width:"*",text:""},{width:"auto",text:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a",alignment:"center"},{width:"*",text:""},{width:"*",text:""}],margin:[0,10,0,10]},{columns:[{width:"*",text:""},{width:"auto",text:"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639  ",alignment:"center"},{width:"*",text:""},{width:"*",text:""}],margin:[0,10,0,10]},{columns:[{width:"*",text:""},{width:"auto",text:"\u0627\u0644\u0645\u062a\u0628\u0642\u064a",alignment:"center"},{width:"*",text:""},{width:"*",text:""}],margin:[0,10,0,10]},{columns:[{width:"*",text:""},{width:"auto",text:"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a ",alignment:"center"},{width:"*",text:""},{width:"*",text:""}],margin:[0,10,0,10]}],defaultStyle:{font:"MyFontName"}},this.currentCurrency$=this.currencyService.getCurrentCurrency(),this.subscription=new Z.w,this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_name:"",cat_id:"",currentCustumerStatus:0},this.checkPlatform(),this.getAppInfo(),this.prepareOffline(),this.sums={pay:0,change:0,discount:0,tot:0,totAfterDiscout:0};let f=new Date;this.startingDate=this.datePipe.transform(f,"yyyy-MM-dd"),this.endDate=this.datePipe.transform(f,"yyyy-MM-dd")}checkPlatform(){this.platform.is("desktop")?this.device="desktop":this.platform.is("mobile")&&(this.device="mobile")}ngOnInit(){this.payArray=[],this.sortedPayArray=[],this.currentSort=null,this.getAppInfo(),this.prepareOffline(),this.initializeCurrency()}ngOnDestroy(){this.subscription.unsubscribe()}initializeCurrency(){return(0,u.mG)(this,void 0,void 0,function*(){yield this.currencyService.initializeCurrency(),yield this.currencyService.loadSupportedCurrencies(),this.store_info&&this.year&&(yield this.currencyService.loadRatesByYear(this.store_info.id,this.year.id)),this.subscription.add(this.currencyService.getCurrentCurrency().subscribe(e=>{this.cdr.detectChanges()}))})}presentActionPopover(e,i,o){return(0,u.mG)(this,void 0,void 0,function*(){const n=yield this.popoverController.create({component:A.b,event:e,translucent:!0,cssClass:"action-popover-rtl",componentProps:{contextType:4===this.radioVal?"returns":"sales"}});return n.onDidDismiss().then(a=>{if(a.data)switch(a.data.action){case"print":4===this.radioVal?this.printReturnInvo("",i):this.printInvo("",i);break;case"edit":4===this.radioVal?this.getReturnInvoDetail(i,o,""):this.getPayInvoDetail(i,o,"");break;case"copySales":this.copyAsInvoice(i,"sales");break;case"copyPurchase":this.copyAsInvoice(i,"purchase")}}),yield n.present()})}copyAsInvoice(e,i){if(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u0646\u0633\u062e \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629..."),3==this.radioVal)this.api.getPayInvoDetailinit(this.store_info.id,e.pay_ref).subscribe(o=>{let n=o;console.log("Initial invoice data:",n),"sales"===i?(this.loadingController.dismiss(),this.navigateToInvoicePage(n.data,i)):this.showPriceConfigDialog(n.data,i)},o=>{this.loadingController.dismiss(),this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")});else if(0==this.offline&&null!=e.pay_id)this.api.getPayInvoDetail(this.store_info.id,e.pay_ref,this.year.id).subscribe(o=>{let n=o;console.log("Regular invoice data:",n),this.showPriceConfigDialog(n.data,i)},o=>{this.loadingController.dismiss(),this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")});else if(0==this.offline&&null==e.pay_id){let o=[];o=this.salesLocal.filter(n=>n.payInvo.pay_ref==e.pay_ref),o.length>0&&this.showPriceConfigDialog(o[0].itemList,i)}else if(1==this.offline&&null!=e.pay_id){let o=[];o=this.salesLocal.filter(n=>n.payInvo.pay_ref==e.pay_ref),o.length>0&&this.showPriceConfigDialog(o[0].itemList,i)}else if(1==this.offline&&null==e.pay_id){let o=[];o=this.salesLocal.filter(n=>n.payInvo.pay_ref==e.pay_ref),o.length>0&&this.showPriceConfigDialog(o[0].itemList,i)}}showPriceConfigDialog(e,i){return(0,u.mG)(this,void 0,void 0,function*(){if(this.loadingController.dismiss(),"sales"===i)return void this.navigateToInvoicePage(e,i);const o=yield this.modalController.create({component:m.b,componentProps:{itemList:e,invoiceType:i,context:"sales-record"},cssClass:"invoice-price-config-modal"});return o.onDidDismiss().then(n=>{n.data&&this.navigateToInvoicePage(n.data,i)}),yield o.present()})}navigateToInvoicePage(e,i){this.loadingController.dismiss();const o=e.map(a=>({id:a.item_id,item_id:a.item_id,item_name:a.item_name,item_desc:a.item_desc,part_no:a.part_no,brand:a.brand,model:a.model,item_unit:a.item_unit,perch_price:a.perch_price||0,pay_price:a.pay_price||0,qty:a.quantity,tot:(a.pay_price*a.quantity).toFixed(2)||0,availQty:a.quantity||0,aliasEn:a.aliasEn})),n=e.map(a=>({id:a.item_id,item_id:a.item_id,item_name:a.item_name,item_desc:a.item_desc,part_no:a.part_no,brand:a.brand,model:a.model,item_unit:a.item_unit,perch_price:a.pay_price||0,pay_price:a.pay_price||0,qty:a.quantity,tot:(a.pay_price*a.quantity).toFixed(2)||0,availQty:a.quantity||0,aliasEn:a.aliasEn}));if("sales"===i){let a={queryParams:{status:"newInvoFromItemsPage",selectedItemsList:JSON.stringify(o)}};this.rout.navigate(["folder/sales"],a)}else{let a={queryParams:{status:"newInvoFromItemsPage",selectedItemsList:JSON.stringify(n)}};this.rout.navigate(["folder/purchase"],a)}}changeMode(){1==this.offline?(this.offline=!1,this.color="primary"):0==this.offline&&(this.offline=!0,this.color="dark"),this.storage.set("offline",this.offline).then(e=>{})}clear(){this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_name:"",cat_id:"",currentCustumerStatus:0},this.payArray=[],this.sortedPayArray=[],this.salesLocal=[],this.showEmpty=!1,this.loading=!1}ionViewDidEnter(){this.payArray=[],this.sortedPayArray=[],this.salesLocal=[],this.sales=[],this.salesOffline=[],this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.search())})}getOffliemode(){this.storage.get("offline").then(e=>{this.offline=e,this.color=1==this.offline?"dark":"primary"})}getAppInfo(){this.getOffliemode(),this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getSalesAccount())}),this.storage.get("sales").then(e=>{e&&(this.sales=e)}),this.storage.get("sales").then(e=>{e&&(this.sales=e)}),this.storage.get("searchLang").then(e=>{e&&(this.searchLang=e)})}prepareOffline(){this.storage.get("sub_accountLocalSales").then(e=>{e&&(this.sub_accountLocalSales=e,console.log("this.sub_accountLocalSales",this.sub_accountLocalSales))}),this.storage.get("sub_accountSales").then(e=>{e&&(this.sub_accountSales=e)})}getSalesAccount(){0==this.offline?this.api.getSalesAccounts(this.store_info.id,this.year.id).subscribe(e=>{this.sub_account=e.data,console.log("this.sub_account",this.sub_account),this.recalSubBalance(),this.addSubaccountLocal()},e=>{}):this.MixSubaccountSalesOffline()}MixSubaccountSalesOffline(){if(this.sub_account=[],this.sub_accountLocalSales)for(let e=0;e<this.sub_accountLocalSales.length;e++)this.sub_account.push(this.sub_accountLocalSales[e]);if(this.sub_accountSales)for(let e=0;e<this.sub_accountSales.length;e++)this.sub_account.push(this.sub_accountSales[e])}addSubaccountLocal(){if(this.sub_account){if(this.sub_accountLocalSales)for(let e=0;e<this.sub_accountLocalSales.length;e++)this.sub_account.push(this.sub_accountLocalSales[e])}else this.sub_accountLocalSales&&(this.sub_account=this.sub_accountLocalSales)}recalSubBalance(){this.sub_account.forEach(e=>{e.sub_balance=0;let i=+e.changeeTot+ +e.fromDebitTot,o=+e.purchChangeeTot+ +e.toCreditTot;i==o?(e.sub_balance=0,e.currentCustumerStatus=""):i>o?(e.sub_balance=(+i-+o).toFixed(2),e.currentCustumerStatus="debit",this.selectedAccount.id==e.id&&(this.selectedAccount.sub_balance=e.sub_balance)):o>i&&(e.sub_balance=(+o-+i).toFixed(2),e.currentCustumerStatus="credit",this.selectedAccount.id==e.id&&(this.selectedAccount.sub_balance=e.sub_balance))}),console.log("recalSubBalance",this.sub_account)}createPdf(e){}downLoadPdf(){}preparePdf(e){}printInvo(e,i){null!=i.pay_id&&(this.paInvo=i,this.sub_account.filter(n=>+n.id==+i.cust_id),3==this.radioVal?this.api.getPayInvoDetailinit(this.store_info.id,i.pay_ref).subscribe(n=>{let a=n;this.itemList=a.data,console.log("case 1",this.paInvo),console.log("case2",a),this.printArr=[],this.printArr.push({payInvo:this.paInvo,itemList:this.itemList,selectedAccount:this.paInvo.sub_name,balanceStatus:"",sub_balanse:"",sub_nameNew:"",user_name:this.paInvo.user_name}),this.presentModal(this.printArr,"sales_record")},n=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{}):this.api.getPayInvoDetail(this.store_info.id,i.pay_ref,this.year.id).subscribe(n=>{let a=n;this.itemList=a.data,console.log("case1",a),this.printArr=[],this.printArr.push({payInvo:this.paInvo,itemList:this.itemList,selectedAccount:this.paInvo.sub_name,balanceStatus:"",sub_balanse:"",sub_nameNew:"",user_name:this.paInvo.user_name}),this.presentModal(this.printArr,"sales_record")},n=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{}))}presentModal(e,i){return(0,u.mG)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:y.n,componentProps:{printArr:this.printArr,page:i}});return o.onDidDismiss().then(n=>{}),yield o.present()})}preparedPrin(e,i,o){e&&i&&o&&(this.printMode=!0,this.Print(e,this.paInvo,this.itemList))}Print(e,i,o){if(e&&i&&o){var n=window.open("","PRINT","height=400,width=600");return n.document.write("<html><head>"),n.document.write('<style type="text/css">'),n.document.write(".flr2{display:inline-flex;float:right;} .flr{ display: block; float: right; } .show{ } .hide{width:0px;height:0px} .w45 {width:45%} .w50 {width:50%} .w100 {width:100%} .td2, .th2 {border: 0.5px solid #dddddd;text-align: center;padding: 8px;} td, th {border: 1px solid #dddddd;text-align: center;padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} .table{text-align: center;width: 100%; margin: 12px;} .ion-margin{ margin: 10px; } .ion-margin-top{ margin-top: 10px; } .rtl {  direction: rtl; } .ion-text-center{ text-align: center; } .ion-text-end{ text-align: left; } .ion-text-start{ text-align: right; }"),n.document.write("</style></head><body>"),n.document.write(document.getElementById(e).innerHTML),n.document.write("</body></html>"),n.document.close(),n.focus(),n.print(),n.close(),this.printMode=!1,!0}}getSalesfromLocal(){this.salesLocal=[],this.storage.get("salesLocal").then(e=>{e&&(this.salesLocal=e)})}getSalesOffline(){this.salesOffline=[],this.storage.get("sales").then(e=>{e&&(this.salesOffline=e)})}pickAccount(e){let i=this.sub_account.filter(o=>o.sub_name==e.target.value);i.length>0?(this.selectedAccount={id:i[0].id,ac_id:i[0].ac_id,sub_name:i[0].sub_name,sub_type:i[0].sub_type,sub_code:i[0].sub_code,store_id:i[0].store_id,sub_balance:i[0].sub_balance,cat_id:i[0].cat_id,cat_name:i[0].cat_name,currentCustumerStatus:i[0].currentCustumerStatus},this.payArray=[],this.salesLocal=[],this.showEmpty=!1,this.loading=!1):this.selectedAccount.sub_name=""}search(){this.showEmpty=!1,0==this.radioVal?1==this.offline?this.getTopSalesOffline():this.getTopSales():1==this.radioVal?1==this.offline?this.getSalesByDateOffline():this.getSalesByDate():2==this.radioVal?1==this.offline?this.getSales2DateOffline():this.getSales2Date():3==this.radioVal?this.getInitialInvoicesServer():4==this.radioVal&&(1==this.offline?this.showEmpty=!0:this.getSalesReturns())}getInitialInvoices(){this.payArray=[],this.loading=!0,this.storage.get("initialInvoices").then(e=>{if(e){let i=[];if(i=e,this.initialInvoices=i,i.length>0)for(let o=0;o<i.length;o++)this.payArray.push(i[o].payInvo)}this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1}),this.getTotal()}getPayDetailsForMob(e){e.item_details||(this.loadingDetails=!0,this.api.getPayInvoDetail(this.store_info.id,e.pay_ref,this.year.id).subscribe(i=>{this.payArray.forEach(n=>{n.pay_ref==e.pay_ref&&(n.item_details=i.data)})},i=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingDetails=!1}))}getInitialInvoicesServer(){this.payArray=[],this.loading=!0,this.api.getTopSalesInit(this.store_info.id).subscribe(e=>{"No record Found"!=e.message&&(this.payArray=e.data),""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(o=>+o.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting()},e=>{},()=>{this.loading=!1})}getSalesReturns(){this.payArray=[],this.loading=!0,4==this.radioVal&&this.api.getTopSalesReturns(this.store_info.id,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.payArray=e.data),""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(o=>+o.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{console.log("Sales returns error:",e),this.showEmpty=!0,this.loading=!1})}getSalesReturnsByDate(){this.payArray=[],this.loading=!0,this.api.getSalesReturnsByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.payArray=e.data),""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(o=>+o.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{console.log("Sales returns by date error:",e),this.showEmpty=!0,this.loading=!1})}getTotal(){this.sums.tot=this.payArray.reduce((e,i)=>e+ +i.tot_pr,0),this.sums.change=this.payArray.reduce((e,i)=>e+ +i.changee,0),this.sums.pay=this.payArray.reduce((e,i)=>e+ +i.pay,0),this.sums.discount=this.payArray.reduce((e,i)=>e+ +i.discount,0),this.sums.totAfterDiscout=+this.sums.tot-this.sums.discount}getTopSales(){this.getSalesfromLocal(),this.loading=!0,this.api.getTopSales(this.store_info.id,this.year.id).subscribe(e=>{if("No record Found"!=e.message&&(this.payArray=e.data),this.salesLocal.length>0)for(let o=0;o<this.salesLocal.length;o++)this.payArray.push(this.salesLocal[o].payInvo);""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(o=>+o.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{},()=>{this.loading=!1})}getTopSalesOffline(){this.payArray=[],this.salesLocal=[],this.sales=[],this.salesOffline=[],this.storage.get("salesLocal").then(e=>{if(e){let i=[];if(i=e,this.salesLocal=i,i.length>0)for(let o=0;o<i.length;o++)this.payArray.push(i[o].payInvo)}this.storage.get("sales").then(i=>{if(i){let o=[];if(o=i,this.salesOffline=o,this.sales=this.salesOffline,o.length>0)for(let n=0;n<o.length;n++)this.payArray.push(o[n].payInvo)}this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1}),""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(i=>+i.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting()})}getSalesByDate(){this.payArray=[],this.salesLocal=[],this.salesOffline=[],this.sales=[],this.getSalesfromLocal(),this.loading=!0,this.api.getSalesByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{if("No record Found"!=e.message&&(this.payArray=e.data),this.salesLocal.length>0){this.salesLocal=this.salesLocal.filter(o=>null==o.payInvo.pay_id&&o.payInvo.pay_date==this.startingDate);for(let o=0;o<this.salesLocal.length;o++)this.payArray.push(this.salesLocal[o].payInvo)}""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(o=>+o.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{},()=>{this.loading=!1})}getSalesByDateOffline(){this.payArray=[],this.salesLocal=[],this.sales=[],this.salesOffline=[],this.loading=!0,this.storage.get("salesLocal").then(e=>{if(e){this.salesLocal=e;let i=[];if(i=this.salesLocal.filter(o=>o.payInvo.pay_date==this.startingDate),i.length>0)for(let o=0;o<i.length;o++)this.payArray.push(i[o].payInvo)}this.storage.get("sales").then(i=>{if(i){this.salesOffline=i,this.sales=this.salesOffline;let o=[];if(o=this.salesOffline.filter(n=>n.payInvo.pay_date==this.startingDate),o.length>0)for(let n=0;n<o.length;n++)this.payArray.push(o[n].payInvo)}this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1}),""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(i=>+i.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting()})}getSales2Date(){this.payArray=[],this.salesLocal=[],this.sales=[],this.salesOffline=[],this.getSalesfromLocal(),this.loading=!0,this.api.getSales2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{if("No record Found"!=e.message&&(this.payArray=e.data),this.salesLocal.length>0){this.salesLocal=this.salesLocal.filter(o=>o.payInvo.pay_date>=this.startingDate&&o.payInvo.pay_date<=this.endDate);for(let o=0;o<this.salesLocal.length;o++)this.payArray.push(this.salesLocal[o].payInvo)}""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(o=>+o.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{},()=>{this.loading=!1})}getSales2DateOffline(){this.payArray=[],this.salesLocal=[],this.sales=[],this.salesOffline=[],this.loading=!0,this.storage.get("salesLocal").then(e=>{if(e){this.salesLocal=e;let i=[];if(i=this.salesLocal.filter(o=>o.payInvo.pay_date>=this.startingDate&&o.payInvo.pay_date<=this.endDate),i.length>0)for(let o=0;o<i.length;o++)this.payArray.push(i[o].payInvo)}this.storage.get("sales").then(i=>{if(i){this.salesOffline=i,this.sales=this.salesOffline;let o=[];if(o=this.salesOffline.filter(n=>n.payInvo.pay_date>=this.startingDate&&n.payInvo.pay_date<=this.endDate),o.length>0)for(let n=0;n<o.length;n++)this.payArray.push(o[n].payInvo)}this.getTotal(),this.applySorting(),this.showEmpty=0==this.payArray.length,this.loading=!1}),""!=this.selectedAccount.sub_name&&this.payArray.length>0&&(this.payArray=this.payArray.filter(i=>+i.cust_id==+this.selectedAccount.id)),this.getTotal(),this.applySorting()})}showLoadingSk(){setTimeout(()=>{},3e3)}radioChange(e){this.payArray=[],this.sortedPayArray=[],this.salesLocal=[],this.showEmpty=!1,this.loading=!1}getPayInvoDetail(e,i,o){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062c\u0644\u0628 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 ..."),3==this.radioVal?(console.log(e,i,o),this.api.getPayInvoDetailinit(this.store_info.id,e.pay_ref).subscribe(n=>{let a=n,_={queryParams:{payInvo:JSON.stringify(e),sub_name:JSON.stringify(i),user_info:JSON.stringify(this.user_info),store_info:JSON.stringify(this.store_info),itemList:JSON.stringify(a.data)}};this.rout.navigate(["folder/sales"],_)})):null!=e.pay_id&&this.api.getPayInvoDetail(this.store_info.id,e.pay_ref,this.year.id).subscribe(n=>{let a=n,_={queryParams:{payInvo:JSON.stringify(e),sub_name:JSON.stringify(i),user_info:JSON.stringify(this.user_info),store_info:JSON.stringify(this.store_info),itemList:JSON.stringify(a.data)}};this.rout.navigate(["folder/edit-sales"],_)},n=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentToast(e,i){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:i,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}presentLoadingWithOptions(e){return(0,u.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:3e3,message:e,translucent:!0,backdropDismiss:!1});yield i.present(),yield i.onDidDismiss()})}onAccountSelected(e){e&&(this.selectedAccount={id:e.id,ac_id:e.ac_id,sub_name:e.sub_name,sub_type:e.sub_type,sub_code:e.sub_code,sub_balance:e.sub_balance,store_id:e.store_id,cat_name:e.cat_name,cat_id:e.cat_id,currentCustumerStatus:0},this.payArray=[],this.sortedPayArray=[],this.salesLocal=[],this.showEmpty=!1,this.loading=!1,console.log("Account selected in sales-record:",this.selectedAccount))}onAccountBalanceLoaded(e){e&&this.selectedAccount&&(this.selectedAccount.currentCustumerStatus="debit"===e.status?0:1,this.selectedAccount.sub_balance=e.current_balance,console.log("Account balance loaded in sales-record:",e))}formatBalance(e){return e||0===e?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e)):"0.00"}applySorting(){this.sortedPayArray=this.currentSort?this.sortingService.sortData(this.payArray,this.currentSort.column,this.currentSort.direction):[...this.payArray]}sortBy(e){const i=this.sortingService.getNextSortDirection(e,this.currentSort);this.currentSort={column:e,direction:i},this.applySorting()}getSortIcon(e){return this.sortingService.getSortIcon(e,this.currentSort)}exportToPDF(){var e,i;return(0,u.mG)(this,void 0,void 0,function*(){if(!this.sortedPayArray||0===this.sortedPayArray.length)return void(yield this.presentToast("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","warning"));const o={title:this.exportService.generateDynamicTitle("sales-record"),subtitle:this.generateSubtitle(),fileName:`sales-record-${this.datePipe.transform(new Date,"yyyy-MM-dd")}`,data:this.sortedPayArray,columns:this.getExportColumns(),userName:(null===(e=this.user_info)||void 0===e?void 0:e.full_name)||(null===(i=this.user_info)||void 0===i?void 0:i.user_name)||"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",pageType:"sales-record",currentDate:this.datePipe.transform(new Date,"yyyy-MM-dd")||""};yield this.exportService.exportToPDF(o)})}exportToExcel(){var e,i;return(0,u.mG)(this,void 0,void 0,function*(){if(!this.sortedPayArray||0===this.sortedPayArray.length)return void(yield this.presentToast("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","warning"));const o={title:this.exportService.generateDynamicTitle("sales-record"),subtitle:this.generateSubtitle(),fileName:`sales-record-${this.datePipe.transform(new Date,"yyyy-MM-dd")}`,data:this.sortedPayArray,columns:this.getExportColumns(),userName:(null===(e=this.user_info)||void 0===e?void 0:e.full_name)||(null===(i=this.user_info)||void 0===i?void 0:i.user_name)||"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",pageType:"sales-record",currentDate:this.datePipe.transform(new Date,"yyyy-MM-dd")||""};yield this.exportService.exportToExcel(o)})}generateSubtitle(){const e={selectedAccount:this.selectedAccount.sub_name?this.selectedAccount:null,dateFilter:this.getDateFilter(),searchTerm:null};return this.exportService.generateDynamicSubtitle("sales-record",e)}getDateFilter(){return 1===this.radioVal&&this.startingDate?{type:"single",date:this.startingDate}:2===this.radioVal&&this.startingDate&&this.endDate?{type:"range",startDate:this.startingDate,endDate:this.endDate}:null}getExportColumns(){return 4===this.radioVal?[{key:"sub_name",title:"\u0627\u0644\u0639\u0645\u064a\u0644",width:20,type:"text"},{key:"return_date",title:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0631\u062a\u062c\u0639\u0629",width:12,type:"date"},{key:"tot_pr",title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a",width:15,type:"currency"},{key:"discount",title:"\u0627\u0644\u062e\u0635\u0645",width:12,type:"currency"},{key:"finalAmount",title:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645",width:18,type:"currency"},{key:"returnComment",title:"\u0633\u0628\u0628 \u0627\u0644\u0645\u0631\u062a\u062c\u0639\u0629",width:20,type:"text"},{key:"user_name",title:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",width:15,type:"text"}]:[{key:"sub_name",title:"\u0627\u0644\u0639\u0645\u064a\u0644",width:20,type:"text"},{key:"pay_date",title:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",width:12,type:"date"},{key:"tot_pr",title:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a",width:15,type:"currency"},{key:"discount",title:"\u0627\u0644\u062e\u0635\u0645",width:12,type:"currency"},{key:"finalAmount",title:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645",width:18,type:"currency"},{key:"payComment",title:"\u062a\u0639\u0644\u064a\u0642",width:20,type:"text"},{key:"user_name",title:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",width:15,type:"text"}]}getCurrencySymbol(){return this.currencyService.getCurrentCurrencySymbol()}getTableTitle(){switch(this.radioVal){case 4:return"\u0633\u062c\u0644 \u0645\u0631\u062a\u062c\u0639\u0627\u062a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a";case 3:return"\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631 \u0627\u0644\u0645\u0628\u062f\u0626\u064a\u0629";default:return"\u0633\u062c\u0644 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}}getDateField(){return 4===this.radioVal?"return_date":"pay_date"}getCommentField(){return 4===this.radioVal?"returnComment":"payComment"}getDateValue(e){return 4===this.radioVal?e.return_date:e.pay_date}getCommentValue(e){return 4===this.radioVal?e.returnComment:e.payComment}navigateToCreateReturn(){this.rout.navigate(["/folder/sales-return"])}printReturnInvo(e,i){this.api.getSalesReturnDetail(this.store_info.id,i.return_ref,this.year.id).subscribe(o=>{"No record Found"!=o.message&&(this.itemList=o.data,this.printArr=[{returnInvo:i,itemList:this.itemList,selectedAccount:{sub_name:i.sub_name},sub_nameNew:"",userInfo:"",sub_balanse:0,balanceStatus:""}],this.presentModal(this.printArr,"sales_return"))},o=>{console.log("Error loading return details for print:",o)})}getReturnInvoDetail(e,i,o){console.log("Edit return invoice:",e),this.rout.navigate(["folder/edit-sales-return"],{queryParams:{return_ref:e.return_ref}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l.Dh),t.Y36(l.t4),t.Y36(h.F0),t.Y36(x.K),t.Y36(l.IN),t.Y36(l.HT),t.Y36(d.uU),t.Y36(T.r),t.Y36(l.yF),t.Y36(b.$),t.Y36(q.T),t.Y36(S.i),t.Y36(t.sBO))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-sales-record"]],decls:11,vars:3,consts:[["slot","start"],["slot","end"],[4,"ngIf"],["class","ion-margin-top",4,"ngIf"],["dir","rtl"],["size","12"],[1,"ion-no-padding","ion-no-margin"],[3,"ngModel","ngModelChange","ionChange"],["size","4","dir","rtl"],["accountType","customer","placeholder","\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","label","\u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644",3,"store_info","year","showAddButton","ngModel","ngModelChange","accountSelected","balanceLoaded"],["lines","none"],[1,"ion-margin-end",3,"value"],["size","4"],["class","custInput",4,"ngIf"],["size","4",4,"ngIf"],["size","4",1,"ion-text-end"],["fill","outline","color","success",3,"click"],["name","search-outline","color","success"],["color","dark"],[1,"custInput"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],["type","date","id","endDate","name","endDate",2,"width","100%",3,"ngModel","ngModelChange"],[1,"ion-margin-top"],[1,"custCard"],["size","12",1,"ion-no-padding"],[1,"ion-no-padding"],[1,"card-header-with-export"],[1,"header-actions"],["fill","outline","color","primary","size","small",3,"click",4,"ngIf"],[3,"hasData","isLoading","exportPDF","exportExcel"],[1,"table"],[1,"sortable-header",3,"click"],[1,"sort-icon",3,"name"],[4,"ngFor","ngForOf"],["class","ion-justify-content-center ion-margin-top",4,"ngIf"],["fill","outline","color","primary","size","small",3,"click"],["name","add","slot","start"],["fill","clear","size","small","slot","end",3,"click"],["name","ellipsis-vertical","slot","icon-only"],["animated","",2,"width","100%"],[1,"ion-justify-content-center","ion-margin-top"],["size","4",1,"ion-text-center"],["name","archive-outline",2,"font-size","30px"],["class","ion-margin-top","dir","rtl",4,"ngIf"],["size","6"],["size","6",4,"ngIf"],["size","8",1,"ion-text-end"],["dir","rtl",1,"ion-margin-top"],["toggleIcon","caret-down-circle","toggleIconSlot","end",3,"value","click",4,"ngFor","ngForOf"],["toggleIcon","caret-down-circle","toggleIconSlot","end",3,"value","click"],["slot","header","color","light"],["name","newspaper-outline","color","primary","slot","start"],["slot","header","color","light",4,"ngIf"],["slot","content",1,"ion-padding"],["color","light",4,"ngIf"],["lines","none",4,"ngIf"],[1,"ion-justify-content-center"],["color","light"],["color","light",4,"ngFor","ngForOf"],["size","12",1,"ion-text-end"],["dir","rtl",4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"\u0633\u062c\u0644 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"),t.qZA(),t.TgZ(6,"ion-buttons",1),t._UZ(7,"app-currency-switcher"),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,k,3,2,"ion-content",2),t.YNc(9,ot,3,2,"ion-content",2),t.YNc(10,at,3,2,"ion-footer",2)),2&e&&(t.xp6(8),t.Q6J("ngIf","desktop"==i.device),t.xp6(1),t.Q6J("ngIf","mobile"==i.device),t.xp6(1),t.Q6J("ngIf",i.payArray))},directives:[l.Gu,l.sr,l.Sm,l.fG,l.wd,v.d,d.O5,l.W2,l.jY,l.Nd,l.wI,l.PM,l.se,l.QI,g.JJ,g.On,w.v,l.Ie,l.B7,l.U5,l.Q$,l.YG,l.gu,l.yW,g.Fj,l.Zi,l.Dq,P.a,d.sg,l.CK,l.q_,l.eh,l.We,l.uN,l.rH,l.fr],pipes:[C.v,d.uU],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden}.cust-card[_ngcontent-%COMP%]{border-radius:5px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.table[_ngcontent-%COMP%]{text-align:center;width:100%;margin:12px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px;font-size:16px;font-weight:700;color:#000}.card-header-with-export[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--ion-color-light);border-bottom:1px solid var(--ion-color-light-shade)}.card-header-with-export[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600;color:var(--ion-color-dark)}.card-header-with-export[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card-header-with-export[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:.9rem;--border-radius: 6px}.card-header-with-export[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem}"]}),s})()}];let lt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[h.Bz.forChild(rt)],h.Bz]}),s})();var ct=c(62279);let ut=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[d.ez,g.u5,l.Pc,lt,ct.m]]}),s})()}}]);
{"version":3,"file":"src_app_spend-record2_spend-record2_module_ts.js","mappings":"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","sources":["./src/app/spend-record2/pipe.ts","./src/app/spend-record2/spend-record2-routing.module.ts","./src/app/spend-record2/spend-record2.module.ts","./src/app/spend-record2/spend-record2.page.ts"],"sourcesContent":["import { Pipe} from '@angular/core';\n@Pipe({ name: 'filterBydetails', pure: true })\nexport class FilterPipe{\n  transform(record: any[], args: any): any {\n    let filter = args.toString();\n    if(filter !== undefined && filter.length !== null){\n        if(filter.length === 0 || record.length === 0){\n            return record;\n        }else{\n            return filter ? record.filter(item => item.j_details.toLocaleLowerCase().indexOf(filter) != -1 || item.from1.toLocaleLowerCase().indexOf(filter) != -1 || item.to1.toLocaleLowerCase().indexOf(filter) != -1) : record;\n        }\n    }\n  } \n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SpendRecord2Page } from './spend-record2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SpendRecord2Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SpendRecord2PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { FilterPipe } from \"./pipe\";\nimport { IonicModule } from '@ionic/angular'; \nimport { SpendRecord2PageRoutingModule } from './spend-record2-routing.module'; \nimport { SpendRecord2Page } from './spend-record2.page';\nimport { SharedModule } from '../module/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SpendRecord2PageRoutingModule,\n    SharedModule\n  ],\n  declarations: [SpendRecord2Page,  FilterPipe],\n  exports:[FilterPipe]\n\n})\nexport class SpendRecord2PageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ServicesService } from \"../stockService/services.service\";\nimport { Observable } from 'rxjs';\nimport {  AlertController, LoadingController, ModalController, Platform, ToastController } from '@ionic/angular';\nimport { DatePipe } from '@angular/common'; \nimport { Storage } from '@ionic/storage';\nimport { NavigationExtras, Router } from '@angular/router'\nimport { PrintModalPage } from '../print-modal/print-modal.page';\nimport { FilterPipe } from './pipe';\nimport { SortingService, SortConfig } from '../services/sorting.service';\nimport { ExportService, ExportConfig, ExportColumn } from '../services/export.service';\n\n@Component({\n  selector: 'app-spend-record2',\n  templateUrl: './spend-record2.page.html',\n  styleUrls: ['./spend-record2.page.scss'],\n})\n\nexport class SpendRecord2Page implements OnInit { \n    jdetailsFrom:Array<any> =[]\n    jdetailsTo:Array<any> =[]\n    payArray:Array<any> =[]\n    sortedPayArray:Array<any> =[]\n    currentSort: SortConfig | null = null\n    purchase:Array<any> =[]\n    sales:Array<any> =[]\n    printArr:Array<any> =[]\n    searchTerm :any\n    showEmpty :boolean = false\n    searchResult :Array<any> =[]\n    searchMode : boolean =     false\n    store_info : {id:any , location :any ,store_name:any , store_ref:any }\n    user_info : {id:any ,user_name:any ,store_id :any,full_name:any,password:any}\n    printMode :boolean =false\n    itemList :Array<any> =[]\n    paInvo :any\n    dateFrom :any;\n    dateTo :any;\n    radioVal : any = 0\n    startingDate :any\n    device:any =''\n    endDate :any\n    loading:boolean = false\n    year : {id:any ,yearDesc:any ,yearStart :any,yearEnd:any}\n    constructor(private platform :Platform  ,private alertController: AlertController,private rout : Router,private storage: Storage,private modalController: ModalController,private loadingController:LoadingController, private datePipe:DatePipe,private api:ServicesService,private toast :ToastController, private sortingService: SortingService, private exportService: ExportService) { \n     this.searchTerm =\"\"\n     this.checkPlatform()\n     this.getAppInfo()\n      let d = new Date\n      this.startingDate = this.datePipe.transform(d, 'yyyy-MM-dd')\n      this.endDate = this.datePipe.transform(d, 'yyyy-MM-dd')\n    }\n\n    checkPlatform(){\n      if (this.platform.is('desktop')) { \n        this.device = 'desktop'\n        //console.log('I am an desktop device!');\n       }else if(this.platform.is('mobile')){\n        this.device = 'mobile'\n        //console.log('I am an mobile device!'); \n       }\n    }\n    getAppInfo(){ \n      this.storage.get('USER_INFO').then((response) => {\n       if (response) {\n         this.user_info = response\n         //console.log(this.user_info) \n       }\n     });\n     this.storage.get('year').then((response) => {\n      if (response) {\n        this.year = response \n      } \n    });\n     this.storage.get('STORE_INFO').then((response) => {\n       if (response) {\n         this.store_info = response\n          //console.log(response)\n          //console.log(this.store_info) \n          this.getTopSales()\n       }\n     });\n   }\n  \n   ionViewDidEnter(){\n     //console.log('ionViewDidEnter')\n    this.getAppInfo()\n    }\n  \n    ngOnInit() {\n  \n    }\n   \n    // filterItems(searchTerm) {\n    //   //console.log(searchTerm)  \n    //   this.searcResult = this.items.filter(item => item.item_name.toLowerCase().includes(searchTerm.toLowerCase())) \n    //   //console.log(this.searcResult) \n    // }\n  \n     printInvo(printarea , data){ \n      this.paInvo = data \n       //console.log( this.paInvo) \n       this.api.getPayInvoDetail(this.store_info.id , data.pay_ref ,this.year.id).subscribe(data =>{\n        //console.log(data)\n        let res = data \n        this.itemList = res['data']\n        //console.log(res) \n        this.printArr = []\n        this.printArr.push({\n        'payInvo': this.paInvo,\n        'itemList':this.itemList,\n        'selectedAccount' : this.paInvo.sub_name,\n        'sub_nameNew' : \"\"\n      }) \n       //console.log(this.printArr)\n       this.presentModal(this.printArr , 'sales_record')\n        }, (err) => {\n         //console.log(err);\n         this.presentToast('خطا في الإتصال حاول مرة اخري' , 'danger')\n        },()=>{ \n        })     \n     }\n  \n  \n  \n     async presentModal(printArr , page) { \n      const modal = await this.modalController.create({\n        component: PrintModalPage ,\n        componentProps: {\n          \"printArr\": this.printArr,\n          \"page\": page\n        }\n      });\n      \n      modal.onDidDismiss().then((dataReturned) => {\n        if (dataReturned !== null) {\n          //console.log(dataReturned )\n         \n        }\n      });\n    \n      return await modal.present(); \n    }\n  \n     preparedPrin(printarea ,paInvo, itemList){\n       if (printarea && paInvo && itemList) {\n          this.printMode = true\n          this.Print(printarea ,this.paInvo , this.itemList)\n       }\n      \n     }\n  \n  \n     Print(elem ,paInvo, itemList  ){ \n      if (elem && paInvo && itemList){ \n         var mywindow = window.open('', 'PRINT', 'height=400,width=600'); \n        mywindow.document.write('<html><head>'); \n        mywindow.document.write('<style type=\"text/css\">')\n        mywindow.document.write('.flr{ display: block; float: right; } .show{ } .hide{width:0px;height:0px} .w45 {width:45%} .w50 {width:50%} .w100 {width:100%} td, th {border: 1px solid #dddddd;text-align: center;padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} .table{text-align: center;width: 100%; margin: 12px;}.ion-margin{ margin: 10px; } .ion-margin-top{ margin-top: 10px; } .rtl {  direction: rtl; } .ion-text-center{ text-align: center; } .ion-text-end{ text-align: left; } .ion-text-start{ text-align: right; }')\n        mywindow.document.write('</style></head><body>');\n       \n        mywindow.document.write(document.getElementById(elem).innerHTML);\n        mywindow.document.write('</body></html>');\n    \n        mywindow.document.close(); // necessary for IE >= 10\n        mywindow.focus(); // necessary for IE >= 10*/ \n        mywindow.print();\n        mywindow.close();\n        this.printMode = false \n        return true;\n      }\n       \n    }\n   \n\n    searchItem(ev){ \n      this.searchMode = true\n      const filterPipe = new FilterPipe;  \n      let  fiteredArr :any\n      fiteredArr = filterPipe.transform(this.payArray,ev.target.value); \n      this.searchResult = fiteredArr  \n    }\n\n\n    getTopSales(){\n      this.payArray=[]\n      this.loading = true\n      this.api.getTopJournale(this.store_info.id , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.payArray = res['data'] \n          this.getTopJto()\n        }\n         this.loading =false\n         //this.getTopPurchase()\n         if(this.payArray.length==0){\n          this.showEmpty = true\n        }else{\n          this.showEmpty = false\n        }\n        this.loading=false\n        //console.log(this.payArray)\n       }, (err) => {\n       //console.log(err);\n       this.loading =false\n     })  \n     }\n  \n     getTopPurchase(){\n      this.purchase = []\n      this.api.getTopPerch(this.store_info.id , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         this.purchase = res['data']\n         this.getTopSales() \n       }, (err) => {\n       //console.log(err);\n       this.loading =false\n     })  \n     }\n  \n     getTopSalesRec(){\n      this.sales = []\n      this.api.getTopSales(this.store_info.id , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         this.sales = res['data'] \n         this.prepareArray()\n       }, (err) => {\n       //console.log(err);\n       this.loading = false\n     })  \n     }\n  \n     prepareArray(){\n      this.payArray.forEach((element)=>{\n        let std = element.standard_details\n        let fromMainInd = std.indexOf(\"الي\")\n        let fromMain = std.substring(0,fromMainInd) \n        //console.log( \"fromMain\" ,fromMainInd ,fromMain,)\n        let toMain = std.substring(fromMainInd, element.standard_details.length)\n        //console.log( \"toMain\" ,toMain)\n        element.from1 = fromMain.substring(3,fromMain.lenght)\n        element.to1 = toMain.substring(3,toMain.lenght)\n  \n        // fromMain = fromMain.substring(4,fromMain.lenght)\n        // toMain = toMain.substring(3,toMain.lenght)\n  \n        //from1\n        // let from1Ind = fromMain.indexOf(\",\")\n        // if(from1Ind == -1){\n        //   element.from1 = fromMain\n        // }else{\n        //    element.from1 = fromMain.substring(0,from1Ind)\n        //    //console.log( \"from1\" ,element.from1)\n  \n        //    let newstr =  element.from1.substring(from1Ind , element.from1.length)\n        //    let from2Ind = newstr.indexOf(\",\")\n        //    if(from2Ind == -1){\n        //     element.from2 = fromMain.substring(element.from1.length, fromMain.length)\n        //     //console.log( \"from2\" ,element.from2)\n        //    }else{\n        //     element.from2 = newstr.substring(0,from2Ind)\n        //     //console.log( \"newstr\" ,element.from2)\n           \n        //     let from3Ind = newstr.indexOf(\",\")\n        //     if(from3Ind == -1){\n              \n        //     }else{\n        //       element.from3 =  element.newstr.substring(element.from2.length , newstr.length)\n        //       //console.log( \"newstr2\" ,element.from3)\n        //     }\n           \n            \n        //    }\n        // }\n  \n        // to\n         //to\n        //  let to1Ind = toMain.indexOf(\",\")\n        //  if(to1Ind == -1){\n        //    element.to1 = toMain\n        //    //console.log( \"to1\" ,element.to1)\n        //  }else{\n        //     element.to1 = toMain.substring(0,to1Ind)\n        //     //console.log( \"to1\" ,element.to1)\n   \n        //     let newstr =  element.to1.substring(to1Ind , element.to1.length)\n        //     let to2Ind = newstr.indexOf(\",\")\n        //     if(to2Ind == -1){\n        //      element.to2 = toMain.substring(element.to1.length, toMain.length)\n        //      //console.log( \"to2\" ,element.to2)\n        //     }else{\n        //      element.to2 = newstr.substring(0,to2Ind)\n        //      //console.log( \"newstrto\" ,element.to2)\n            \n        //      let to3Ind = newstr.indexOf(\",\")\n        //      if(to3Ind == -1){\n               \n        //      }else{\n        //        element.from3 =  element.newstr.substring(element.from2.length , newstr.length)\n        //        //console.log( \"newstr2to\" ,element.from3)\n        //      }\n            \n             \n        //     }\n        //  } \n      })\n  \n  \n      this.payArray.forEach((element)=>{ \n        let fltFrom :Array<any> = []\n        fltFrom =  this.jdetailsFrom.filter(x=>x.j_ref == element.j_ref)\n        //console.log('fltFrom' ,fltFrom)\n        fltFrom = fltFrom.sort((a, b) => (a.id < b.id ? -1 : 1));\n        //console.log('sorted fltFrom' ,fltFrom)\n        if(fltFrom.length > 0){\n          for (let i = 0; i < fltFrom.length; i++) {\n            const element2 = fltFrom[i];\n            if(i==0){\n              element.debit= element2.debit\n  \n            }else if(i==1){\n              element.debit2= element2.debit\n  \n            }else if(i == 2){\n              element.debit3= element2.debit\n  \n            }\n            \n          }\n        }  \n        let fltTo :Array<any> = []\n        fltTo =  this.jdetailsTo.filter(x=>x.j_ref == element.j_ref)\n        //console.log('fltTo' ,fltFrom)\n        fltTo = fltTo.sort((a, b) => (a.id < b.id ? -1 : 1));\n        //console.log('sortedfltTo' ,fltFrom)\n        if(fltTo.length > 0){\n          for (let i = 0; i < fltTo.length; i++) {\n            const element3 = fltTo[i];\n            if(i == 0){\n              element.credit= element3.credit\n  \n            }else if(i ==  1){\n              element.credit2= element3.credit\n  \n            }else if(i == 2){\n              element.credit3= element3.credit\n            }\n            \n          }\n        }  \n  \n      })\n      \n      // Apply sorting after preparing data\n      this.applySorting();\n     }\n  \n     getSalesByDate(){\n      this.payArray=[]\n      //console.log(this.store_info.id,this.startingDate) \n      this.api.getJournaleByDate(this.store_info.id , this.startingDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.payArray = res['data'] \n        }\n        this.getJFromByDate()\n         if(this.payArray.length==0){\n          this.showEmpty = true\n        }else{\n          this.showEmpty = false\n        }\n        this.loading=false\n        //console.log(this.payArray)\n         // this.store_tot = this.items.reduce( (acc, obj)=> { return acc + +(obj.perch_price * obj.quantity ); }, 0);\n       }, (err) => {\n       //console.log(err);\n     })  \n     }\n  \n  \n     getPurchByDate(){  \n      this.purchase =[] \n      this.api.getPerchByDate(this.store_info.id , this.startingDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){ \n         this.purchase = res['data'] \n       } \n       }, (err) => {\n       //console.log(err);\n      \n     },()=>{\n      \n     }\n     )  \n     }\n  \n     getSalesrecByDate(){  \n      this.sales =[] \n      this.api.getSalesByDate(this.store_info.id , this.startingDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){ \n         this.sales = res['data'] \n       } \n       }, (err) => {\n       //console.log(err);\n      \n     },()=>{\n      \n     }\n     )  \n     }\n  \n     getSales2Date(){ \n      this.payArray=[]\n      this.loading=true\n      //console.log(this.store_info.id,this.startingDate,this.endDate)\n      this.api.getJournale2Date(this.store_info.id,this.startingDate,this.endDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.payArray = res['data'] \n        }\n        this.getJTo2Date()\n         if(this.payArray.length==0){\n          this.showEmpty = true\n        }else{\n          this.showEmpty = false\n        }\n        this.loading=false\n        //console.log(this.payArray)\n         // this.store_tot = this.items.reduce( (acc, obj)=> { return acc + +(obj.perch_price * obj.quantity ); }, 0);\n       }, (err) => {\n        this.loading=false\n       //console.log(err);\n     })  \n     }\n  \n     getTopJto(){\n      this.jdetailsTo=[]\n      this.loading = true\n      this.api.getTopJTo(this.store_info.id , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.jdetailsTo = res['data'] \n       //   this.jdetailsTo = this.jdetailsTo.filter(x=>x.ac_id == this.selectedAccount.id)\n        } \n        this.getTopJfrom() \n        //console.log(this.jdetailsTo)\n       }, (err) => {\n       //console.log(err);\n       this.loading =false\n     })  \n     }\n  \n     getTopJfrom(){\n      this.jdetailsFrom=[] \n      this.api.getTopJfrom(this.store_info.id , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.jdetailsFrom = res['data']\n        //  this.jdetailsFrom = this.jdetailsFrom.filter(x=>x.ac_id == this.selectedAccount.id)\n          //console.log('flt' ,this.jdetailsFrom)\n        } \n         this.prepareArray() \n       }, (err) => {\n       //console.log(err);\n       this.loading =false\n     })  \n     }\n   \n     getJFromByDate(){\n      this.jdetailsFrom=[]\n      this.loading = true\n      //console.log(this.store_info.id,this.startingDate) \n      this.api.getJFromByDate(this.store_info.id , this.startingDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.jdetailsFrom = res['data']\n         // this.jdetailsFrom = this.jdetailsFrom.filter(x=>x.ac_id == this.selectedAccount.id)\n         }\n            this.getJToByDate()\n       }, (err) => {\n       //console.log(err);\n       this.loading = false\n     })  \n     }\n  \n  \n     getJToByDate(){  \n      this.jdetailsTo =[] \n      this.api.getJToByDate(this.store_info.id , this.startingDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data\n         if(res['message'] != 'No record Found'){\n          this.jdetailsTo = res['data'] \n         // this.jdetailsTo = this.jdetailsTo.filter(x=>x.ac_id == this.selectedAccount.id)\n        } \n        this.prepareArray()\n       }, (err) => {\n       //console.log(err);\n       this.loading = false\n      \n     },()=>{\n      \n     }\n     )  \n     }\n   \n  \n     getJTo2Date(){ \n      this.jdetailsTo=[]  \n      //console.log(this.store_info.id,this.startingDate,this.endDate)\n      this.api.getJTo2Date(this.store_info.id,this.startingDate,this.endDate , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data \n        if(res['message'] != 'No record Found'){\n          this.jdetailsTo = res['data'] \n         // this.jdetailsTo = this.jdetailsTo.filter(x=>x.ac_id == this.selectedAccount.id)\n        } \n         this.getJFrom2Date()\n         this.loading = false\n       }, (err) => {\n        this.loading=false\n        //console.log(err);\n     })  \n     }\n  \n     getJFrom2Date(){ \n      this.jdetailsFrom =[] \n      this.loading = true\n      //console.log(this.store_info.id,this.startingDate,this.endDate)\n      this.api.getJFrom2Date(this.store_info.id,this.startingDate,this.endDate , this.year.id).subscribe(data =>{\n        //console.log('getJFrom2Date',data)\n        let res = data\n        if(res['message'] != 'No record Found'){\n          this.jdetailsFrom = res['data']\n        //  this.jdetailsFrom = this.jdetailsFrom.filter(x=>x.ac_id == this.selectedAccount.id)\n         }  \n        this.prepareArray()\n      }, (err) => {\n      //console.log(err);\n      this.loading=false\n    },()=>{\n      this.loading = false\n    }\n    )  \n    }\n  \n  \n  //purchases\n   getPurchase2Date(){ \n    this.purchase =[] \n    //console.log(this.store_info.id,this.startingDate,this.endDate)\n    this.api.getPerch2Date(this.store_info.id,this.startingDate,this.endDate , this.year.id).subscribe(data =>{\n       //console.log(data)\n       let res = data\n       if(res['message'] != 'No record Found'){\n        this.purchase = res['data'] \n      }  \n     }, (err) => {\n     //console.log(err);\n   },()=>{\n   \n   }\n   )  \n   }\n  \n   getSalesrec2Date(){ \n    this.sales =[] \n    //console.log(this.store_info.id,this.startingDate,this.endDate)\n    this.api.getSales2Date(this.store_info.id,this.startingDate,this.endDate , this.year.id).subscribe(data =>{\n       //console.log(data)\n       let res = data\n       if(res['message'] != 'No record Found'){\n        this.sales = res['data'] \n      }  \n     }, (err) => {\n     //console.log(err);\n   },()=>{\n   \n   }\n   )  \n   }\n  \n  \n   radioChange(ev){\n    //console.log(ev.target.value) \n    this.payArray = [] \n    this.showEmpty = false\n    this.loading = false\n   }\n  \n  \n     search(){\n      if (this.radioVal == 0) {\n       this.getTopSales()\n      } else if (this.radioVal == 1) {\n         this.getSalesByDate()\n      }else if (this.radioVal == 2) {\n        this.getSales2Date()\n  \n      }\n     }\n  \n     getPayInvoDetail(ref){\n   //   this.presentLoadingWithOptions('جاري جلب التفاصيل ...')\n      this.api.getPayInvoDetail(this.store_info.id , ref , this.year.id).subscribe(data =>{\n         //console.log(data)\n         let res = data \n         //console.log(this.payArray) \n         \n         let navigationExtras: NavigationExtras = {\n          queryParams: {\n            payArray: JSON.stringify(this.payArray),\n            user_info:JSON.stringify(this.user_info),\n            store_info:JSON.stringify(this.store_info),\n            itemList:JSON.stringify( res['data'])\n          }\n        };\n       \n        this.rout.navigate(['folder/edit-sales'], navigationExtras); \n       }, (err) => {\n       //console.log(err);\n       this.presentToast('خطا في الإتصال حاول مرة اخري' , 'danger')\n     })  \n     }\n  \n   \n    async presentToast(msg,color?) {\n      const toast = await this.toast.create({\n        message: msg,\n        duration: 2000,\n        color:color,\n        cssClass:'cust_Toast',\n        mode:'ios',\n        position:'top' \n      });\n      toast.present();\n    }\n  \n  \n    async presentLoadingWithOptions(msg?) {\n      const loading = await this.loadingController.create({\n        spinner: 'bubbles',\n        mode:'ios',\n        duration: 3000,\n        message: msg,\n        translucent: true,\n       // cssClass: 'custom-class custom-loading',\n        backdropDismiss: false\n      });\n      await loading.present();\n    \n      const { role, data } = await loading.onDidDismiss();\n      //console.log('Loading dismissed with role:', role);\n    }\n  \n    async presentAlertConfirm(j_ref?) {\n      const alert = await this.alertController.create({\n        cssClass: 'my-custom-class',\n        header: 'تأكيد!',\n        mode:'ios' ,\n        message: 'هل تريد حذف السجل ؟ ',\n        buttons: [\n          {\n            text: 'إلغاء',\n            role: 'cancel',\n            cssClass: 'secondary',\n            id: 'cancel-button',\n            handler: (blah) => {\n              //console.log('Confirm Cancel: blah');\n            }\n          }, {\n            text: 'موافق',\n            id: 'confirm-button',\n            handler: () => {\n              this.deleteSalesInvo(j_ref)\n            }\n          }\n        ]\n      });\n    \n      await alert.present();\n    }\n  \n      delete(j_ref){\n    this.presentAlertConfirm(j_ref)\n  }\n\n  editJournal(journalId) {\n    this.rout.navigate(['/edit-journal'], {\n      queryParams: { journalId: journalId }\n    });\n  }\n  \n    deleteSalesInvo(j_ref){ \n      this.presentLoadingWithOptions('جاري حذف البيانات ...')\n       this.api.deleteJournal(j_ref).subscribe(data => {\n       //console.log(data)\n       if (data['message'] != 'Post Not Deleted') {\n       this.deleteJfrom(j_ref)\n       }else{\n        this.presentToast('لم يتم حذف البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n        this.loadingController.dismiss()\n       }\n     },(err) => {\n       //console.log(err);\n       this.presentToast('لم يتم حذف البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n       this.loadingController.dismiss()\n      }) \n    }\n  \n    deleteJfrom(j_ref){  \n      this.api.deleteJFrom(j_ref).subscribe(data => {\n      //console.log(data)\n      if (data['message'] != 'Post Not Deleted') {\n      \n        this.deleteJto(j_ref) \n  \n        \n      }else{\n       this.presentToast('لم يتم حذف البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n       this.loadingController.dismiss()\n      }\n    },(err) => {\n      //console.log(err);\n      this.presentToast('لم يتم حذف البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n      this.loadingController.dismiss()\n      \n     }) \n   }\n  \n   deleteJto(j_ref){  \n    this.api.deleteJto(j_ref).subscribe(data => {\n    //console.log(data)\n    if (data['message'] != 'Post Not Deleted') { \n        //console.log(' case ffff ' ,this.sales)\n        this.presentToast('تم الحذف بنجاح' , 'success')\n        \n        // Remove the deleted record from the payArray immediately\n        this.payArray = this.payArray.filter(item => item.j_ref !== j_ref);\n        \n        // Also remove from search results if search mode is active\n        if (this.searchMode && this.searchResult.length > 0) {\n          this.searchResult = this.searchResult.filter(item => item.j_ref !== j_ref);\n          \n          // If search results become empty, update search mode\n          if (this.searchResult.length === 0 && this.searchTerm) {\n            // Refresh search to show updated results\n            this.searchItem({ target: { value: this.searchTerm } });\n          }\n        }\n        \n        // Update empty state\n        if (this.payArray.length === 0) {\n          this.showEmpty = true;\n        }\n        \n        // Also refresh data from server to ensure consistency\n        this.search()\n    }else{\n     this.presentToast('لم يتم حذف البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n    }\n  },(err) => {\n    //console.log(err);\n    this.presentToast('لم يتم حذف البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n    \n   },() => {\n     this.loadingController.dismiss()\n   }) \n  }\n\n  // Apply sorting to payArray\n  applySorting() {\n    if (this.currentSort) {\n      this.sortedPayArray = this.sortingService.sortData(\n        this.payArray, \n        this.currentSort.column, \n        this.currentSort.direction\n      );\n    } else {\n      this.sortedPayArray = [...this.payArray];\n    }\n  }\n\n  // Handle column sort\n  sortBy(column: string) {\n    const direction = this.sortingService.getNextSortDirection(column, this.currentSort);\n    this.currentSort = { column, direction };\n    this.applySorting();\n  }\n\n  // Get sort icon for column\n  getSortIcon(column: string): string {\n    return this.sortingService.getSortIcon(column, this.currentSort);\n  }\n\n  // Export functionality\n  async exportToPDF(): Promise<void> {\n    if (!this.payArray || this.payArray.length === 0) {\n      await this.presentToast('لا توجد بيانات للتصدير', 'warning');\n      return;\n    }\n\n    const config: ExportConfig = {\n      title: this.exportService.generateDynamicTitle('spend-record2'),\n      subtitle: this.generateSubtitle(),\n      fileName: `spend-record-${this.datePipe.transform(new Date(), 'yyyy-MM-dd')}`,\n      data: this.payArray,\n      columns: this.getExportColumns(),\n      userName: this.user_info?.full_name || this.user_info?.user_name || 'مستخدم غير معروف',\n      pageType: 'spend-record2',\n      currentDate: this.datePipe.transform(new Date(), 'yyyy-MM-dd') || ''\n    };\n\n    await this.exportService.exportToPDF(config);\n  }\n\n  async exportToExcel(): Promise<void> {\n    if (!this.payArray || this.payArray.length === 0) {\n      await this.presentToast('لا توجد بيانات للتصدير', 'warning');\n      return;\n    }\n\n    const config: ExportConfig = {\n      title: this.exportService.generateDynamicTitle('spend-record2'),\n      subtitle: this.generateSubtitle(),\n      fileName: `spend-record-${this.datePipe.transform(new Date(), 'yyyy-MM-dd')}`,\n      data: this.payArray,\n      columns: this.getExportColumns(),\n      userName: this.user_info?.full_name || this.user_info?.user_name || 'مستخدم غير معروف',\n      pageType: 'spend-record2',\n      currentDate: this.datePipe.transform(new Date(), 'yyyy-MM-dd') || ''\n    };\n\n    await this.exportService.exportToExcel(config);\n  }\n\n  private generateSubtitle(): string {\n    const filters: any = {\n      selectedAccount: null, // Spend record doesn't have account selection\n      dateFilter: this.getDateFilter(),\n      searchTerm: this.searchTerm || null\n    };\n\n    return this.exportService.generateDynamicSubtitle('spend-record2', filters);\n  }\n\n  private getDateFilter(): any {\n    if (this.radioVal === 1 && this.startingDate) {\n      return {\n        type: 'single',\n        date: this.startingDate\n      };\n    } else if (this.radioVal === 2 && this.startingDate && this.endDate) {\n      return {\n        type: 'range',\n        startDate: this.startingDate,\n        endDate: this.endDate\n      };\n    }\n    return null;\n  }\n\n  private getExportColumns(): ExportColumn[] {\n    return [\n      { key: 'j_date', title: 'التاريخ', width: 12, type: 'date' },\n      { key: 'j_type', title: 'النوع', width: 12, type: 'text' },\n      { key: 'j_description', title: 'البيان', width: 25, type: 'text' },\n      { key: 'debit', title: 'مدين', width: 12, type: 'currency' },\n      { key: 'credit', title: 'دائن', width: 12, type: 'currency' },\n      { key: 'user_name', title: 'المستخدم', width: 15, type: 'text' }\n    ];\n  }\n\n  \n  }"],"names":[],"sourceRoot":"webpack:///"}
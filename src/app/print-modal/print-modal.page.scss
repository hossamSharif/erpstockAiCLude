// Print Modal Styles

// Table styles for all print modes
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 16px; // Increased font size from default
}

.th {
  padding: 6px 8px; // Reduced padding for smaller row height
  border: 1px solid #000;
  text-align: center;
  font-weight: bold;
  font-size: 16px; // Increased font size
  line-height: 1.2; // Reduced line height
}

.td {
  padding: 4px 8px; // Reduced padding for smaller row height
  border: 1px solid #000;
  text-align: center;
  font-size: 16px; // Increased font size
  line-height: 1.2; // Reduced line height
}

// Enhanced mode table styles
table[style*="border-collapse: collapse"] {
  th {
    padding: 6px 8px !important; // Reduced padding
    font-size: 16px !important; // Increased font size
    line-height: 1.2 !important; // Reduced line height
  }
  
  td {
    padding: 4px 8px !important; // Reduced padding
    font-size: 16px !important; // Increased font size
    line-height: 1.2 !important; // Reduced line height
  }
}

// POS mode specific styles
ion-content[style*="max-width : 30px"] {
  .table {
    .th, .td {
      font-size: 14px; // Smaller font for POS mode due to width constraints
      padding: 3px 6px; // Even smaller padding for POS
      line-height: 1.1;
    }
  }
}

// General text size improvements for better readability
ion-label {
  font-size: 16px;
}

h4, h3 {
  line-height: 1.3; // Reduce line height for headers
  margin: 8px 0; // Reduce margins
}

// RTL text improvements
.rtl {
  ion-label {
    font-size: 14px;
  }
}

// Print-specific styles to fix pagination issues
@media print {
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
  }
  
  // Root container should allow natural page flow
  #printarea1 {
    page-break-inside: auto !important;
    break-inside: auto !important;
  }
  
  // Company header section - keep together but allow breaks after
  h4, h3 {
    page-break-after: auto !important;
    page-break-inside: avoid !important;
    margin: 4px 0 !important;
    line-height: 1.2 !important;
  }
  
  // Invoice info section - compact and allow breaks
  .ion-margin-top {
    page-break-before: auto !important;
    page-break-after: auto !important;
    page-break-inside: avoid !important;
    margin-top: 8px !important;
    margin-bottom: 8px !important;
  }
  
  // Table containers - allow breaks and reduce margins
  .ion-margin.rtl {
    margin: 4px !important;
    page-break-inside: auto !important;
  }
  
  // Tables - critical settings for proper pagination
  .table,
  table[style*="border-collapse: collapse"] {
    page-break-inside: auto !important;
    break-inside: auto !important;
    table-layout: fixed !important;
    width: 100% !important;
    
    // Headers repeat on each page
    thead {
      display: table-header-group !important;
    }
    
    tbody {
      display: table-row-group !important;
    }
    
    // Individual rows should not break internally
    tr {
      page-break-inside: avoid !important;
      break-inside: avoid !important;
      page-break-after: auto !important;
    }
    
    // Reduce cell padding for more compact layout
    th, td {
      padding: 3px 6px !important;
      line-height: 1.1 !important;
      font-size: 14px !important;
      overflow: hidden !important;
      word-wrap: break-word !important;
    }
    
    // Column widths for all tables
    th:nth-child(1), td:nth-child(1) { width: 8% !important; } /* Serial number */
    th:nth-child(2), td:nth-child(2) { width: 40% !important; text-align: right !important; padding-right: 8px !important; } /* Item name - wider */
    th:nth-child(3), td:nth-child(3) { width: 12% !important; } /* Quantity */
    th:nth-child(4), td:nth-child(4) { width: 15% !important; } /* Unit price */
    th:nth-child(5), td:nth-child(5) { width: 15% !important; } /* Discount/VAT% or Total for 5-column */
    th:nth-child(6), td:nth-child(6) { width: 10% !important; } /* VAT */
    th:nth-child(7), td:nth-child(7) { width: 15% !important; } /* Total */
    
    // Allow item name column to wrap for long names
    th:nth-child(2), td:nth-child(2) {
      white-space: normal !important;
      word-wrap: break-word !important;
    }
  }
  
  // Force first few rows to stay on first page
  .table tbody tr:nth-child(-n+3),
  table[style*="border-collapse: collapse"] tbody tr:nth-child(-n+3) {
    page-break-before: avoid !important;
  }
  
  // Totals section - keep together
  .w100.rtl.ion-margin {
    page-break-inside: avoid !important;
    page-break-before: auto !important;
    margin: 8px 16px !important;
  }
  
  // POS mode specific - even more compact
  ion-content[style*="max-width : 30px"] {
    .table {
      th, td {
        padding: 1px 2px !important;
        font-size: 12px !important;
      }
    }
  }
  
  // Enhanced mode specific adjustments
  div[style*="margin-bottom: 20px"] {
    margin-bottom: 10px !important;
    page-break-inside: auto !important;
  }
  
  // General spacing reductions for print
  .ion-margin {
    margin: 4px !important;
  }
  
  .ion-padding {
    padding: 8px !important;
  }
  
  // Ensure labels and text are compact
  ion-label, ion-text {
    font-size: 14px !important;
    line-height: 1.1 !important;
  }
  
  // Company info section - reduce spacing
  .w100.rtl {
    margin-bottom: 8px !important;
    
    div {
      margin-bottom: 4px !important;
    }
  }
  
  // Force table to start immediately after header
  .ion-margin-top + .ion-margin.rtl {
    page-break-before: auto !important;
    margin-top: 0 !important;
  }
  
  // Additional aggressive fixes for table pagination
  .table thead tr:first-child,
  table[style*="border-collapse: collapse"] thead tr:first-child {
    page-break-before: avoid !important;
    page-break-after: avoid !important;
  }
  
  // Ensure first page has minimum content
  .table,
  table[style*="border-collapse: collapse"] {
    orphans: 3 !important;
    widows: 3 !important;
  }
  
  // Force table container to not push to next page
  div.ion-margin:has(table) {
    page-break-before: avoid !important;
    page-break-inside: auto !important;
  }
  
  // Alternative approach - make table less "heavy"
  .table,
  table[style*="border-collapse: collapse"] {
    border-collapse: separate !important;
    border-spacing: 0 !important;
  }
  
  // Critical: prevent entire document from becoming one block
  ion-content {
    page-break-inside: auto !important;
  }
  
  .ion-padding {
    page-break-inside: auto !important;
  }
}
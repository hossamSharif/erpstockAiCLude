"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6869],{66869:(S,m,c)=>{c.r(m),c.d(m,{EditJournalPageModule:()=>D});var g=c(69808),b=c(34182),s=c(23349),u=c(94030),p=c(70655),t=c(29863),f=c(17158),x=c(65465),v=c(90849),C=c(91472);const P=["popoverNotif22"];function M(o,l){1&o&&(t.TgZ(0,"div",10),t._UZ(1,"ion-spinner",11),t.TgZ(2,"p",12),t._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),t.qZA(),t.qZA())}function A(o,l){if(1&o&&(t.TgZ(0,"ion-select-option",42),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.sub_name," ")}}function O(o,l){if(1&o&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Udp("color","success"===e.getBalanceColor(e.sourceAccountBalance)?"#10dc60":"#f04141"),t.xp6(1),t.hij(" ",e.formatBalance(e.sourceAccountBalance)," ")}}function y(o,l){1&o&&(t.TgZ(0,"div",49),t._UZ(1,"ion-spinner",50),t.TgZ(2,"span"),t._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),t.qZA(),t.qZA())}function k(o,l){1&o&&(t.TgZ(0,"div",51),t._uU(1," \u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0631\u0635\u064a\u062f "),t.qZA())}function T(o,l){if(1&o&&(t.TgZ(0,"div",43),t.TgZ(1,"div",44),t._uU(2,"\u0627\u0644\u0631\u0635\u064a\u062f:"),t.qZA(),t.YNc(3,O,2,3,"div",45),t.YNc(4,y,4,0,"div",46),t.YNc(5,k,2,0,"div",47),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.loadingSourceBalance&&e.sourceAccountBalance),t.xp6(1),t.Q6J("ngIf",e.loadingSourceBalance),t.xp6(1),t.Q6J("ngIf",!e.loadingSourceBalance&&!e.sourceAccountBalance&&e.selectedBankAccount.sub_name)}}function w(o,l){if(1&o&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Udp("color","success"===e.getBalanceColor(e.selectedAccountBalance)?"#10dc60":"#f04141"),t.xp6(1),t.hij(" ",e.formatBalance(e.selectedAccountBalance)," ")}}function j(o,l){1&o&&(t.TgZ(0,"div",49),t._UZ(1,"ion-spinner",50),t.TgZ(2,"span"),t._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),t.qZA(),t.qZA())}function Z(o,l){1&o&&(t.TgZ(0,"div",51),t._uU(1," \u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0631\u0635\u064a\u062f "),t.qZA())}function J(o,l){if(1&o&&(t.TgZ(0,"div",43),t.TgZ(1,"div",44),t._uU(2,"\u0627\u0644\u0631\u0635\u064a\u062f:"),t.qZA(),t.YNc(3,w,2,3,"div",45),t.YNc(4,j,4,0,"div",46),t.YNc(5,Z,2,0,"div",47),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.loadingAccountBalance&&e.selectedAccountBalance),t.xp6(1),t.Q6J("ngIf",e.loadingAccountBalance),t.xp6(1),t.Q6J("ngIf",!e.loadingAccountBalance&&!e.selectedAccountBalance&&e.selectedFromAccount.sub_name)}}function q(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"ion-card",15),t.TgZ(3,"ion-card-header",16),t.TgZ(4,"ion-card-title",17),t._uU(5,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0642\u064a\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a"),t.qZA(),t.qZA(),t.TgZ(6,"ion-card-content",18),t.TgZ(7,"div",19),t.TgZ(8,"ion-label",20),t._uU(9,"\u0646\u0648\u0639 \u0627\u0644\u0633\u0646\u062f"),t.qZA(),t.TgZ(10,"ion-segment",21),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().jType=i})("ionChange",function(i){return t.CHM(e),t.oxw().radioChange(i)}),t.TgZ(11,"ion-segment-button",22),t.TgZ(12,"div",23),t._UZ(13,"ion-icon",24),t.TgZ(14,"span"),t._uU(15,"\u0633\u0646\u062f \u062f\u0641\u0639"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"ion-segment-button",25),t.TgZ(17,"div",23),t._UZ(18,"ion-icon",26),t.TgZ(19,"span"),t._uU(20,"\u0633\u0646\u062f \u0642\u0628\u0636"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",19),t.TgZ(22,"ion-label",20),t._uU(23,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.TgZ(24,"ion-input",27),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().journal.j_date=i}),t.qZA(),t.qZA(),t.TgZ(25,"div",19),t.TgZ(26,"ion-label",20),t._uU(27,"\u0627\u0644\u0645\u0635\u062f\u0631"),t.qZA(),t.TgZ(28,"div",28),t.TgZ(29,"ion-select",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().radioVal=i})("ionChange",function(i){return t.CHM(e),t.oxw().pickAccountBank(i)}),t.TgZ(30,"ion-select-option",22),t._uU(31,"\u0627\u0644\u062e\u0632\u064a\u0646\u0629"),t.qZA(),t.YNc(32,A,2,2,"ion-select-option",30),t.qZA(),t.YNc(33,T,6,3,"div",31),t.qZA(),t.qZA(),t.TgZ(34,"div",19),t.TgZ(35,"ion-label",20),t._uU(36,"\u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(37,"div",28),t.TgZ(38,"div",32),t.NdJ("click",function(i){return t.CHM(e),t.oxw().presentAccountPopover(i)}),t.TgZ(39,"ion-input",33),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().selectedFromAccount.sub_name=i}),t.qZA(),t._UZ(40,"ion-icon",34),t.qZA(),t.YNc(41,J,6,3,"div",31),t.qZA(),t.qZA(),t.TgZ(42,"div",19),t.TgZ(43,"ion-label",20),t._uU(44,"\u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t.TgZ(45,"ion-input",35),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().pay=i}),t.qZA(),t.qZA(),t.TgZ(46,"div",19),t.TgZ(47,"ion-label",20),t._uU(48,"\u0627\u0644\u0628\u064a\u0627\u0646"),t.qZA(),t.TgZ(49,"ion-textarea",36),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().journal.j_details=i}),t.qZA(),t.qZA(),t.TgZ(50,"div",37),t.TgZ(51,"ion-button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().update()}),t._UZ(52,"ion-icon",39),t._uU(53," \u062a\u062d\u062f\u064a\u062b "),t.qZA(),t.TgZ(54,"ion-button",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.delete(i.journal.j_ref)}),t._UZ(55,"ion-icon",41),t._uU(56," \u062d\u0630\u0641 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(10),t.Q6J("ngModel",e.jType),t.xp6(14),t.Q6J("ngModel",e.journal.j_date),t.xp6(5),t.Q6J("ngModel",e.radioVal),t.xp6(3),t.Q6J("ngForOf",e.banksAccountArray),t.xp6(1),t.Q6J("ngIf",e.selectedBankAccount&&e.selectedBankAccount.sub_name),t.xp6(6),t.Q6J("ngModel",e.selectedFromAccount.sub_name),t.xp6(2),t.Q6J("ngIf",e.selectedFromAccount&&e.selectedFromAccount.sub_name),t.xp6(4),t.Q6J("ngModel",e.pay),t.xp6(4),t.Q6J("ngModel",e.journal.j_details),t.xp6(2),t.Q6J("disabled",!e.isFormValid())}}function F(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).selectAccount(r)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()}if(2&o){const e=l.$implicit;t.xp6(2),t.Oqu(e.sub_name)}}function B(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",52),t.TgZ(2,"ion-searchbar",53),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().searchTerm=i})("ionInput",function(i){return t.CHM(e),t.oxw().searchAccount(i)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(3,"ion-content",52),t.TgZ(4,"ion-list"),t.YNc(5,F,3,1,"ion-item",54),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.searchTerm),t.xp6(3),t.Q6J("ngForOf",e.searchedAccounts)}}const z=[{path:"",component:(()=>{class o{constructor(e,n,i,r,a,_,d,h,I,N,U,Y){this.platform=e,this.behavApi=n,this.modalController=i,this.alertController=r,this.authenticationService=a,this.storage=_,this.loadingController=d,this.datePipe=h,this.api=I,this.toast=N,this.route=U,this.router=Y,this.notifArr=[],this.showNotif=!1,this.LogHistoryLocalArr=[],this.logHistoryArr=[],this.isOpenNotif=!1,this.newNotif=!1,this.device="",this.sub_accountFrom=[],this.itemList=[],this.sub_accountTo=[],this.randomsNumber=[],this.jdetail_fromArr=[],this.journalType=[],this.journalTypeDetails=[],this.jType="1",this.pay=0,this.radioVal="1",this.jdetail_toArr=[],this.selectedFromAccountArr=[],this.selectedToAccountArr=[],this.banksAccountArray=[],this.showMe=null,this.showFrom=!1,this.showTo=!1,this.showFrom3=!1,this.showTo3=!1,this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1,this.isAccountPopoverOpen=!1,this.searchTerm="",this.searchedAccounts=[],this.selectedAccountBalance=null,this.sourceAccountBalance=null,this.loadingAccountBalance=!1,this.loadingSourceBalance=!1,this.selectedBankAccount={id:null,ac_id:null,sub_name:null,sub_type:null,sub_code:null,sub_balance:null,store_id:null,debit:null,credit:null,currentType:null},this.checkPlatform(),this.getAppInfo()}ngOnInit(){}presentAccountPopover(e){this.searchedAccounts=this.sub_accountFrom,this.isAccountPopoverOpen=!0}searchAccount(e){const n=e.target.value.toLowerCase();this.searchedAccounts=n&&""!==n.trim()?this.sub_accountFrom.filter(i=>i.sub_name.toLowerCase().indexOf(n)>-1):this.sub_accountFrom}selectAccount(e){this.pickAccount({target:{value:e.sub_name}},1),this.isAccountPopoverOpen=!1,this.loadAccountBalance(e.id)}checkPlatform(){this.platform.is("desktop")?this.device="desktop":this.platform.is("mobile")&&(this.device="mobile")}ionViewDidEnter(){}getAppInfo(){this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getAllAccounts(),this.getJournalType())})}loadJournalData(){console.log("data",this.journalId),this.api.getJournalById(this.journalId).subscribe(e=>{console.log("data",e),"No record Found"!=e.message&&(this.originalJournal=e.data[0],this.journal=Object.assign({},this.originalJournal),console.log("journal",this.journal),this.pay=this.journal.j_pay,"\u0633\u0646\u062f \u062f\u0641\u0639"===this.journal.j_type?this.jType="1":"\u0633\u0646\u062f \u0642\u0628\u0636"===this.journal.j_type&&(this.jType="2"),this.loadJournalDetails())},e=>{this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","danger"),this.loadingController.dismiss()})}loadJournalDetails(){console.log("loadJournalDetails"),this.api.getJFromByJournalId(this.journalId).subscribe(e=>{console.log("data",e),"No record Found"!=e.message&&(this.originalJdetailFrom=e.data[0],this.jdetail_from=Object.assign({},this.originalJdetailFrom),console.log("jdetail_from",this.jdetail_from),this.loadJDetailsTo())},e=>{this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0642\u064a\u062f","danger"),this.loadingController.dismiss()})}loadJDetailsTo(){this.api.getJToByJournalId(this.journalId).subscribe(e=>{null!=e.data[0]?(this.originalJdetailTo=e.data[0],this.jdetail_to=Object.assign({},this.originalJdetailTo),console.log("jdetail_to",this.jdetail_to),this.loadingController.dismiss(),"1"==this.jType?(console.log("case jdetail_to",this.jType),this.setBankAccountToDetails(),this.setAccountFromDetails()):"2"==this.jType&&(console.log("case jdetail from",this.jType),this.setBankAccountFromDetails(),this.setAccountToDetails())):(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0642\u064a\u062f","danger"),this.loadingController.dismiss())},e=>{this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0642\u064a\u062f","danger"),this.loadingController.dismiss()})}setAccountFromDetails(){let e=this.sub_accountFrom.find(n=>n.id==this.jdetail_from.ac_id);console.log("sub_accountFrom",this.sub_accountFrom,e),e&&(this.selectedFromAccount={id:e.id,ac_id:e.ac_id,sub_name:e.sub_name,sub_type:e.sub_type,sub_code:e.sub_code,sub_balance:e.sub_balance,store_id:e.store_id,debit:e.debit,credit:e.credit,currentType:e.currentType},this.loadAccountBalance(e.id),console.log("jType",this.jType))}setAccountToDetails(){let e=this.sub_accountFrom.find(n=>n.id==this.jdetail_to.ac_id);console.log("sub_accountFrom",this.sub_accountFrom,e),e&&(this.selectedFromAccount={id:e.id,ac_id:e.ac_id,sub_name:e.sub_name,sub_type:e.sub_type,sub_code:e.sub_code,sub_balance:e.sub_balance,store_id:e.store_id,debit:e.debit,credit:e.credit,currentType:e.currentType},this.loadAccountBalance(e.id),console.log("jType",this.jType))}setBankAccountFromDetails(){if(console.log("setBankAccountFromDetails",this.jdetail_from.ac_id),46==this.jdetail_from.ac_id)this.radioVal="1",this.selectedBankAccount={id:46,ac_id:7,sub_name:"\u0627\u0644\u062e\u0632\u064a\u0646\u0629",sub_type:"",sub_code:"",store_id:this.store_info.id,sub_balance:"",currentType:"",debit:"",credit:""},this.loadSourceBalance(46);else{let e=this.banksAccountArray.find(n=>n.id==this.jdetail_from.ac_id);e&&(this.radioVal=e.id.toString(),this.selectedBankAccount={id:e.id,ac_id:e.ac_id,sub_name:e.sub_name,sub_type:e.sub_type,sub_code:e.sub_code,store_id:e.store_id,sub_balance:e.sub_balance,currentType:"",debit:e.debit,credit:e.credit},this.loadSourceBalance(e.id))}}setBankAccountToDetails(){if(console.log("setBankAccountFromDetails",this.jdetail_to.ac_id),46==this.jdetail_to.ac_id)this.radioVal="1",this.selectedBankAccount={id:46,ac_id:7,sub_name:"\u0627\u0644\u062e\u0632\u064a\u0646\u0629",sub_type:"",sub_code:"",store_id:this.store_info.id,sub_balance:"",currentType:"",debit:"",credit:""},this.loadSourceBalance(46);else{let e=this.banksAccountArray.find(n=>n.id==this.jdetail_to.ac_id);e&&(this.radioVal=e.id.toString(),this.selectedBankAccount={id:e.id,ac_id:e.ac_id,sub_name:e.sub_name,sub_type:e.sub_type,sub_code:e.sub_code,store_id:e.store_id,sub_balance:e.sub_balance,currentType:"",debit:e.debit,credit:e.credit},this.loadSourceBalance(e.id))}}radioChange(e){}pickAccount(e,n,i){let r;r=i||e.target.value;let d,a=this.sub_accountTo.filter(h=>h.sub_name==r);a[0].debit>0?d="debit":a[0].credit>0&&(d="credit"),this.selectedFromAccount={id:a[0].id,ac_id:a[0].ac_id,sub_name:a[0].sub_name,sub_type:a[0].sub_type,sub_code:a[0].sub_code,store_id:a[0].store_id,sub_balance:a[0].sub_balance,currentType:d,debit:+a[0].debit,credit:+a[0].credit},console.log(this.selectedFromAccount),this.selectedItem={id:"NULL",ac_id:this.selectedFromAccount.id,sub_name:this.selectedFromAccount.sub_name,sub_type:this.selectedFromAccount.sub_type,sub_code:this.selectedFromAccount.sub_code,store_id:this.selectedFromAccount.store_id,sub_balance:this.selectedFromAccount.sub_balance,currentType:this.selectedFromAccount.currentType,debit:this.selectedFromAccount.debit,credit:this.selectedFromAccount.credit}}pickAccountBank(e){if(1==e.target.value)this.selectedBankAccount={id:46,ac_id:7,sub_name:"\u0627\u0644\u062e\u0632\u064a\u0646\u0629",sub_type:"",sub_code:"",store_id:this.store_info.id,sub_balance:"",currentType:"",debit:"",credit:""},this.loadSourceBalance(46);else{let n=this.banksAccountArray.filter(i=>i.id==e.target.value);this.selectedBankAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:"",debit:+n[0].debit,credit:+n[0].credit},this.loadSourceBalance(n[0].id)}}validate(){return 0==+this.radioVal||0==+this.jType?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631  \u0646\u0648\u0639 \u0627\u0644\u0633\u0646\u062f ","danger"),!1):0==+this.pay?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0628\u0644\u063a ","danger"),!1):null!=this.selectedFromAccount.id||(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger"),!1)}update(){1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.updateJournal())}updateJournal(){this.prepare4save(),this.api.updateJournal(this.journal).subscribe(e=>{"Post Not Updated"!=e.message?this.updateJournalDetails():(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}prepare4save(){let e=0,n=0;1==+this.jType?(e=+this.pay,this.journal.j_type="\u0633\u0646\u062f \u062f\u0641\u0639"):2==+this.jType&&(n=+this.pay,this.journal.j_type="\u0633\u0646\u062f \u0642\u0628\u0636"),this.itemList=[],this.itemList.push({id:this.jdetail_to.id,j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:this.selectedFromAccount.id,j_desc:this.selectedFromAccount.sub_type,j_type:"",credit:n,debit:e,store_id:this.store_info.id,sub_code:this.selectedFromAccount.sub_code,sub_name:this.selectedFromAccount.sub_name,yearId:this.year.id}),this.journal.j_pay=+this.pay;let r="",a="";1==+this.jType?(1==+this.radioVal?(this.jdetail_to={id:this.originalJdetailTo.id,j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:46,j_desc:"",j_type:"\u0633\u0646\u062f \u062f\u0641\u0639",credit:this.pay,debit:0,store_id:this.store_info.id,yearId:this.year.id},a="\u0627\u0644\u062e\u0632\u064a\u0646\u0629",r=this.selectedFromAccount.sub_name):1!=+this.radioVal&&(this.jdetail_to={id:this.originalJdetailTo.id,j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:this.selectedBankAccount.id,j_desc:"",j_type:"\u0633\u0646\u062f \u062f\u0641\u0639",credit:this.pay,debit:0,store_id:this.store_info.id,yearId:this.year.id},a=this.selectedBankAccount.sub_name,r=this.selectedFromAccount.sub_name),this.itemList[0].j_type="\u0633\u0646\u062f \u0642\u0628\u0636",this.jdetail_toArr.push(this.jdetail_to),this.jdetail_fromArr.push(this.itemList[0]),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+r+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+a):2==+this.jType&&(1==+this.radioVal?(this.jdetail_from={id:this.originalJdetailFrom.id,j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:46,j_desc:"",j_type:"\u0633\u0646\u062f \u0642\u0628\u0636",credit:0,debit:this.pay,store_id:this.store_info.id,yearId:this.year.id},r="\u0627\u0644\u062e\u0632\u064a\u0646\u0629",a=this.selectedFromAccount.sub_name):1!=+this.radioVal&&(this.jdetail_from={id:this.originalJdetailFrom.id,j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:this.selectedBankAccount.id,j_desc:"",j_type:"\u0633\u0646\u062f \u0642\u0628\u0636",credit:0,debit:+this.pay,store_id:this.store_info.id,yearId:this.year.id},r=this.selectedBankAccount.sub_name,a=this.selectedFromAccount.sub_name),this.itemList[0].j_type="\u0633\u0646\u062f \u062f\u0641\u0639",this.jdetail_toArr.push(this.itemList[0]),this.jdetail_fromArr.push(this.jdetail_from),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+r+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+a)}prepareUpdatedJournal(){1==+this.jType?this.journal.j_type="\u0633\u0646\u062f \u062f\u0641\u0639":2==+this.jType&&(this.journal.j_type="\u0633\u0646\u062f \u0642\u0628\u0636"),this.journal.j_pay=+this.pay,this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+this.selectedFromAccount.sub_name+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+this.selectedBankAccount.sub_name}updateJournalDetails(){this.api.updateJFrom(this.jdetail_fromArr[0]).subscribe(e=>{"Post Not Updated"!=e.message?this.updateJDetailsTo():(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}updateJDetailsTo(){this.api.updateJTo(this.jdetail_toArr[0]).subscribe(e=>{"Post Not Updated"!=e.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0628\u0646\u062c\u0627\u062d","success"),this.router.navigate(["/folder/spend-record2"]),this.loadingController.dismiss()):(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}getAllAccounts(){this.api.getAllAccounts(this.store_info.id,this.year.id).subscribe(e=>{let n=e;this.sub_accountFrom=n.data,this.sub_accountTo=n.data,this.sub_accountFrom=this.sub_accountFrom.filter(i=>8!=i.ac_id&&9!=i.ac_id&&5!=i.ac_id),console.log("sub_accountFrom",this.sub_accountFrom),this.getBanksAccount(),this.route.queryParams.subscribe(i=>{i.journalId&&(console.log("params",i),this.journalId=i.journalId,this.loadJournalData())}),this.prepareCurrentBalnces()},e=>{})}getBanksAccount(){this.banksAccountArray=this.sub_accountFrom.filter(e=>7==e.ac_id)}prepareCurrentBalnces(){for(let e=0;e<this.sub_accountFrom.length;e++){const n=this.sub_accountFrom[e];let i=+n.fromDebitTot+ +n.toDebitTot,r=+n.fromCreditTot+ +n.toCreditTot;if("debit"==n.sub_type){let a=+n.sub_balance+ +i-+r;a>0?(n.debit=a,n.credit=0):a<0?(a*=-1,n.debit=0,n.credit=a):0==a&&(n.debit=a,n.credit=0)}else if("credit"==n.sub_type){let a=+n.sub_balance+ +r-+i;a>0?(n.debit=0,n.credit=a):a<0?(a*=-1,n.debit=a,n.credit=0):0==a&&(n.debit=0,n.credit=a)}}this.sub_accountTo=this.sub_accountFrom}getJournalType(){this.api.getJournalType(this.store_info.id).subscribe(e=>{this.journalType=e.data,this.getJournalTypeDetails()},e=>{})}getJournalTypeDetails(){this.api.getJournalTypeDetails(this.store_info.id).subscribe(e=>{this.journalTypeDetails=e.data},e=>{})}presentLoadingWithOptions(e){return(0,p.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({spinner:"bubbles",mode:"ios",message:e,translucent:!0,backdropDismiss:!1});yield n.present(),yield n.onDidDismiss()})}presentToast(e,n){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:n,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}isFormValid(){return!!(this.jType&&0!=+this.jType&&this.radioVal&&0!=+this.radioVal&&this.pay&&!(+this.pay<=0)&&this.selectedFromAccount&&this.selectedFromAccount.sub_name&&""!==this.selectedFromAccount.sub_name&&(1==+this.radioVal||this.selectedBankAccount&&this.selectedBankAccount.sub_name&&""!==this.selectedBankAccount.sub_name)&&this.journal.j_details&&""!==this.journal.j_details.trim()&&this.journal.j_date&&""!==this.journal.j_date)}delete(e){this.presentAlertConfirm(e)}presentAlertConfirm(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0642\u064a\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a\u061f",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",handler:i=>{console.log("Confirm Cancel: blah")}},{text:"\u062d\u0630\u0641",handler:()=>{console.log("Confirm Okay"),this.deleteSalesInvo(e)}}]})).present()})}deleteSalesInvo(e){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.deleteJournal(e).subscribe(n=>{console.log("delete Journal response",n),"Post Not Deleted"!=n.message?this.deleteJfrom(e):(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},n=>{console.log(n),this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}deleteJfrom(e){this.api.deleteJFrom(e).subscribe(n=>{console.log("delete Jfrom response",n),"Post Not Deleted"!=n.message?this.deleteJto(e):(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},n=>{console.log(n),this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}deleteJto(e){this.api.deleteJto(e).subscribe(n=>{console.log("delete Jto response",n),"Post Not Deleted"!=n.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d","success"),this.loadingController.dismiss(),this.router.navigate(["/spend-record2"])):(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},n=>{console.log(n),this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}loadAccountBalance(e){!e||!this.store_info||!this.year||(this.loadingAccountBalance=!0,this.selectedAccountBalance=null,this.api.getAccountBalance(e,this.store_info.id,this.year.id).subscribe(n=>{this.loadingAccountBalance=!1,n.success?(this.selectedAccountBalance=n.data,console.log("Account balance loaded:",this.selectedAccountBalance)):(console.error("Failed to load account balance:",n.message),this.selectedAccountBalance=null)},n=>{this.loadingAccountBalance=!1,console.error("Error loading account balance:",n),this.selectedAccountBalance=null}))}loadSourceBalance(e){!e||!this.store_info||!this.year||(this.loadingSourceBalance=!0,this.sourceAccountBalance=null,this.api.getAccountBalance(e,this.store_info.id,this.year.id).subscribe(n=>{this.loadingSourceBalance=!1,n.success?(this.sourceAccountBalance=n.data,console.log("Source balance loaded:",this.sourceAccountBalance)):(console.error("Failed to load source balance:",n.message),this.sourceAccountBalance=null)},n=>{this.loadingSourceBalance=!1,console.error("Error loading source balance:",n),this.sourceAccountBalance=null}))}formatBalance(e){return e?`${parseFloat(e.current_balance||0).toFixed(2)} ${"debit"===e.balance_type?"\u0645\u062f\u064a\u0646":"\u062f\u0627\u0626\u0646"}`:"0.00"}getBalanceColor(e){return e?"debit"===e.balance_type?"success":"danger":"medium"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.t4),t.Y36(f.h),t.Y36(s.IN),t.Y36(s.Br),t.Y36(x.u),t.Y36(v.K),t.Y36(s.HT),t.Y36(g.uU),t.Y36(C.r),t.Y36(s.yF),t.Y36(u.gz),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-journal"]],viewQuery:function(e,n){if(1&e&&t.Gf(P,5),2&e){let i;t.iGM(i=t.CRH())&&(n.popoverNotif22=i.first)}},decls:12,vars:3,consts:[[1,"transparent-header"],[1,"transparent-toolbar"],["slot","start"],["defaultHref","/spend-record2",1,"glass-back-button"],[1,"glass-title"],[1,"modern-content"],["class","loading-container",4,"ngIf"],["class","main-container",4,"ngIf"],["side","bottom","alignment","start",3,"isOpen","didDismiss"],["accountPopover",""],[1,"loading-container"],["name","crescent"],[1,"loading-text"],[1,"main-container"],[1,"form-container"],[1,"form-card"],[1,"card-header"],[1,"card-title"],[1,"compact-content"],[1,"field-row"],[1,"field-label-right"],[1,"mini-segment",3,"ngModel","ngModelChange","ionChange"],["value","1"],[1,"segment-content"],["name","arrow-up-outline"],["value","2"],["name","arrow-down-outline"],["type","date",1,"mini-input",3,"ngModel","ngModelChange"],[1,"field-with-balance"],["placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0635\u062f\u0631","interface","action-sheet",1,"mini-select",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["class","balance-display",4,"ngIf"],[1,"input-with-icon",3,"click"],["readonly","true","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u0633\u0627\u0628",1,"mini-input","readonly-input",3,"ngModel","ngModelChange"],["name","chevron-down-outline",1,"dropdown-icon"],["type","number","placeholder","0.00",1,"mini-input","amount-input",3,"ngModel","ngModelChange"],["rows","1","placeholder","\u0648\u0635\u0641 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629...",1,"mini-textarea",3,"ngModel","ngModelChange"],[1,"button-row"],[1,"mini-btn","save-btn",3,"disabled","click"],["name","checkmark-outline","slot","start"],["fill","outline",1,"mini-btn","delete-btn",3,"click"],["name","trash-outline","slot","start"],[3,"value"],[1,"balance-display"],[1,"balance-label"],["class","balance-amount",3,"color",4,"ngIf"],["class","balance-loading",4,"ngIf"],["class","balance-error",4,"ngIf"],[1,"balance-amount"],[1,"balance-loading"],["name","dots","color","primary"],[1,"balance-error"],["dir","rtl"],["placeholder","\u0628\u062d\u062b \u0639\u0646 \u062d\u0633\u0627\u0628","dir","rtl",3,"ngModel","ngModelChange","ionInput"],["button","","dir","rtl",3,"click",4,"ngFor","ngForOf"],["button","","dir","rtl",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0642\u064a\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content",5),t.YNc(7,M,4,0,"div",6),t.YNc(8,q,57,10,"div",7),t.qZA(),t.TgZ(9,"ion-popover",8,9),t.NdJ("didDismiss",function(){return n.isAccountPopoverOpen=!1}),t.YNc(11,B,6,2,"ng-template"),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf",!n.user_info||!n.store_info||!n.journal),t.xp6(1),t.Q6J("ngIf",n.user_info&&n.store_info&&n.journal),t.xp6(1),t.Q6J("isOpen",n.isAccountPopoverOpen))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,g.O5,s.d8,s.PQ,s.PM,s.Zi,s.Dq,s.FN,s.Q$,s.cJ,s.QI,b.JJ,b.On,s.GO,s.gu,s.pK,s.j9,s.t9,s.n0,g.sg,s.as,s.g2,s.YG,s.VI,s.q_,s.Ie],styles:['.transparent-header[_ngcontent-%COMP%]{--background: transparent;--border-width: 0;--box-shadow: none;position:relative;z-index:10}.transparent-toolbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--color: var(--ion-color-primary);--border-width: 0;--box-shadow: none;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px)}.transparent-toolbar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.2) 0%,transparent 100%);opacity:.3;pointer-events:none}.glass-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:var(--ion-color-primary);text-shadow:0 1px 2px rgba(255,255,255,.5);background:linear-gradient(135deg,var(--ion-color-primary) 0%,rgba(0,122,255,.8) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.glass-back-button[_ngcontent-%COMP%]{--color: var(--ion-color-primary);--background: rgba(255, 255, 255, .1);--border-radius: 8px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:.5px solid rgba(128,128,128,.2)}.glass-back-button[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .2);transform:scale(1.05)}[_ngcontent-%COMP%]:root{--liquid-glass-bg: rgba(255, 255, 255, .15);--liquid-glass-bg-light: rgba(255, 255, 255, .25);--liquid-glass-bg-dark: rgba(0, 0, 0, .15);--liquid-glass-border: rgba(255, 255, 255, .2);--liquid-glass-shadow: 0 8px 32px rgba(0, 0, 0, .15);--liquid-glass-highlight: rgba(255, 255, 255, .4);--glass-blur: 20px;--glass-blur-strong: 40px;--glass-border-radius: 20px;--glass-border-radius-small: 12px;--glass-accent-primary: rgba(0, 122, 255, .8);--glass-accent-success: rgba(52, 199, 89, .8);--glass-accent-danger: rgba(255, 59, 48, .8);--glass-transition: all .3s cubic-bezier(.4, 0, .2, 1);--glass-transition-fast: all .15s cubic-bezier(.4, 0, .2, 1);--glass-scale-hover: 1.02;--glass-scale-active: .98}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--liquid-glass-bg: rgba(0, 0, 0, .25);--liquid-glass-bg-light: rgba(255, 255, 255, .1);--liquid-glass-bg-dark: rgba(0, 0, 0, .4);--liquid-glass-border: rgba(255, 255, 255, .1);--liquid-glass-shadow: 0 8px 32px rgba(0, 0, 0, .3);--liquid-glass-highlight: rgba(255, 255, 255, .2)}}.modern-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgba(120, 119, 198, .1) 0%, rgba(255, 255, 255, .05) 50%, rgba(74, 144, 226, .1) 100%);--padding-start: 4px;--padding-end: 4px;--padding-top: 4px;--padding-bottom: 4px;position:relative;overflow:hidden}.modern-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 50%,rgba(120,119,198,.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(74,144,226,.1) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(255,255,255,.05) 0%,transparent 50%);animation:glassShimmer 8s ease-in-out infinite;pointer-events:none;z-index:0}@keyframes glassShimmer{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.05)}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;gap:2rem;position:relative}.loading-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:200px;height:200px;transform:translate(-50%,-50%);background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border-radius:50%;border:1px solid var(--liquid-glass-border);animation:loadingPulse 2s ease-in-out infinite;z-index:0}@keyframes loadingPulse{0%,to{transform:translate(-50%,-50%) scale(1);opacity:.3}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.6}}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{position:relative;z-index:2;filter:drop-shadow(0 0 15px rgba(0,122,255,.4))}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;background:var(--liquid-glass-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:50%;border:1px solid var(--liquid-glass-border);animation:spinnerGlow 1.5s ease-in-out infinite;z-index:-1}@keyframes spinnerGlow{0%,to{box-shadow:0 0 #007aff00}50%{box-shadow:0 0 20px #007aff4d}}.loading-text[_ngcontent-%COMP%]{color:#000c;font-size:1.1rem;font-weight:600;margin:0;position:relative;z-index:2;text-shadow:0 1px 2px rgba(255,255,255,.5);background:linear-gradient(90deg,rgba(0,0,0,.8) 0%,rgba(0,122,255,.8) 50%,rgba(0,0,0,.8) 100%);background-size:200% 100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:textShimmer 2s ease-in-out infinite}@keyframes textShimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.main-container[_ngcontent-%COMP%]{padding:2rem;max-width:100%;margin:0 auto;height:100vh;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative;z-index:1}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:60%;max-width:800px;min-width:400px;position:relative;z-index:2;animation:glassFloat 6s ease-in-out infinite}@keyframes glassFloat{0%,to{transform:translateY(0) rotateX(0)}50%{transform:translateY(-8px) rotateX(1deg)}}.form-card[_ngcontent-%COMP%]{margin:0;border-radius:var(--glass-border-radius);background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:.5px solid rgba(128,128,128,.3);box-shadow:0 10px 30px #00000026,0 4px 8px #0000001a,var(--liquid-glass-shadow),0 0 0 1px var(--liquid-glass-highlight) inset,0 1px 0 var(--liquid-glass-highlight) inset;display:flex;flex-direction:column;overflow:hidden;max-height:85vh;position:relative;transition:var(--glass-transition);transform-style:preserve-3d;perspective:1000px}.form-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.3;pointer-events:none;border-radius:var(--glass-border-radius) var(--glass-border-radius) 0 0;z-index:1}.form-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,var(--liquid-glass-highlight) 0%,transparent 50%);opacity:0;pointer-events:none;transition:var(--glass-transition);z-index:2;animation:glassSpecular 4s ease-in-out infinite}@keyframes glassSpecular{0%,to{opacity:0;transform:scale(.8) rotate(0)}50%{opacity:.1;transform:scale(1.2) rotate(180deg)}}.form-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(var(--glass-scale-hover));box-shadow:0 15px 40px #0003,0 8px 15px #00000026,0 20px 40px #0003,0 0 0 1px var(--liquid-glass-highlight) inset,0 1px 0 var(--liquid-glass-highlight) inset;border-color:#80808066}.form-card[_ngcontent-%COMP%]:hover:after{opacity:.15}.card-header[_ngcontent-%COMP%]{background:var(--ion-color-primary)!important;backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:none;border-bottom:1px solid var(--liquid-glass-border);padding:.8rem 1rem;flex-shrink:0;position:relative;z-index:3}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.4;pointer-events:none}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;margin:0;text-align:center;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);position:relative;z-index:1;background:linear-gradient(135deg,white 0%,rgba(255,255,255,.8) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.compact-content[_ngcontent-%COMP%]{padding:.8rem;flex:1;display:flex;flex-direction:column;gap:.2rem;overflow-y:auto;max-height:calc(85vh - 60px)}.field-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;min-height:auto;padding:.2rem 0;margin-bottom:.1rem}.field-label-right[_ngcontent-%COMP%]{flex:0 0 100px;text-align:right;direction:rtl;font-size:1rem!important;font-weight:700;color:#000;margin:0;padding-right:.5rem;padding-top:.4rem;align-self:flex-start}.mini-segment[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:1px solid var(--liquid-glass-border);border-radius:var(--glass-border-radius-small);padding:.2rem;height:2.4rem;min-height:2.4rem;position:relative;overflow:hidden}.mini-segment[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.2;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--indicator-color: transparent;--indicator-color-checked: transparent;--color: rgba(0, 0, 0, .7);--color-checked: white;--background: transparent;--background-checked: var(--glass-accent-primary);border-radius:var(--glass-border-radius-small);margin:.1rem;min-height:1.8rem;font-size:.85rem;font-weight:600;transition:var(--glass-transition);position:relative;overflow:hidden}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:var(--liquid-glass-bg-light);border-radius:var(--glass-border-radius-small);opacity:0;transition:var(--glass-transition);pointer-events:none}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:hover:before{opacity:1}.mini-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 4px 15px rgba(var(--ion-color-primary-rgb),.3),0 0 0 1px var(--liquid-glass-highlight) inset;transform:translateY(-1px)}.mini-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.6;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;position:relative;z-index:1}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem;filter:drop-shadow(0 1px 2px rgba(0,0,0,.2))}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}.mini-input[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);--color: rgba(0, 0, 0, .9);--placeholder-color: rgba(0, 0, 0, .5);--padding-start: .8rem;--padding-end: .8rem;--padding-top: .5rem;--padding-bottom: .5rem;border:.5px solid rgba(128,128,128,.4);border-radius:var(--glass-border-radius-small);font-size:.9rem;font-weight:500;min-height:2.2rem;max-height:2.2rem;transition:var(--glass-transition);position:relative;z-index:2}.mini-input[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:100%;background:linear-gradient(135deg,var(--liquid-glass-highlight) 0%,transparent 50%);opacity:.1;pointer-events:none;border-radius:var(--glass-border-radius-small)}.mini-input[_ngcontent-%COMP%]:focus-within{transform:translateY(-2px);border-color:var(--glass-accent-primary);box-shadow:0 8px 25px #007aff26,0 0 0 3px #007aff1a;background:var(--liquid-glass-bg)}.mini-input.readonly-input[_ngcontent-%COMP%]{--color: rgba(0, 0, 0, .8);cursor:pointer;background:var(--liquid-glass-bg)}.mini-input.readonly-input[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:var(--liquid-glass-bg-light)}.mini-input.amount-input[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;--color: var(--glass-accent-primary);text-align:center}.mini-input.amount-input[_ngcontent-%COMP%]:focus-within{--color: rgba(0, 122, 255, 1);text-shadow:0 0 10px rgba(0,122,255,.3)}.mini-select[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);--color: rgba(0, 0, 0, .9);--placeholder-color: rgba(0, 0, 0, .5);--padding-start: .8rem;--padding-end: .8rem;border:.5px solid rgba(128,128,128,.4);border-radius:var(--glass-border-radius-small);font-size:.9rem;font-weight:500;min-height:2.2rem;max-height:2.2rem;transition:var(--glass-transition);position:relative;z-index:2}.mini-select[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:var(--liquid-glass-bg);border-color:var(--glass-accent-primary)}.mini-select[_ngcontent-%COMP%]:focus-within{transform:translateY(-2px);border-color:var(--glass-accent-primary);box-shadow:0 8px 25px #007aff26,0 0 0 3px #007aff1a}.mini-textarea[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);--color: rgba(0, 0, 0, .9);--placeholder-color: rgba(0, 0, 0, .5);--padding-start: .8rem;--padding-end: .8rem;--padding-top: .5rem;--padding-bottom: .5rem;border:.5px solid rgba(128,128,128,.4);border-radius:var(--glass-border-radius-small);font-size:.9rem;font-weight:500;min-height:2.2rem;max-height:2.2rem;resize:none;transition:var(--glass-transition)}.mini-textarea[_ngcontent-%COMP%]:focus-within{transform:translateY(-2px);border-color:var(--glass-accent-primary);box-shadow:0 8px 25px #007aff26,0 0 0 3px #007aff1a;background:var(--liquid-glass-bg)}.input-with-icon[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;cursor:pointer;z-index:2}.field-with-balance[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.2rem;position:relative}.balance-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.3rem .8rem;background:var(--liquid-glass-bg);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:var(--glass-border-radius-small);border:1px solid var(--liquid-glass-border);min-height:1.8rem;max-height:1.8rem;font-size:.75rem;direction:rtl;text-align:right;position:relative;overflow:hidden;transition:var(--glass-transition);margin-top:.1rem;z-index:1;width:100%;clear:both;animation:none}.balance-display[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.2;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.balance-display[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-2px;left:-50%;width:200%;height:2px;background:linear-gradient(90deg,transparent 0%,var(--liquid-glass-highlight) 50%,transparent 100%);animation:balanceShimmer 2s ease-in-out infinite;opacity:.6}.balance-display[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02);background:var(--liquid-glass-bg-light);box-shadow:0 8px 25px #00000026,0 0 0 1px var(--liquid-glass-highlight) inset}@keyframes balanceFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-2px)}}@keyframes balanceShimmer{0%{transform:translate(-100%);opacity:0}50%{opacity:.6}to{transform:translate(100%);opacity:0}}.balance-label[_ngcontent-%COMP%]{font-weight:700;color:#000000b3;font-size:.7rem;position:relative;z-index:1;text-shadow:0 1px 2px rgba(255,255,255,.5)}.balance-amount[_ngcontent-%COMP%]{font-weight:800;font-size:.8rem;flex:1;text-align:left;position:relative;z-index:1;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.balance-amount.positive[_ngcontent-%COMP%]{color:var(--glass-accent-success);text-shadow:0 0 10px rgba(52,199,89,.3)}.balance-amount.negative[_ngcontent-%COMP%]{color:var(--glass-accent-danger);text-shadow:0 0 10px rgba(255,59,48,.3)}.balance-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;color:var(--glass-accent-primary);font-size:.7rem;position:relative;z-index:1}.balance-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:12px;height:12px;filter:drop-shadow(0 0 5px rgba(0,122,255,.3))}.balance-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;text-shadow:0 1px 2px rgba(255,255,255,.5)}.balance-error[_ngcontent-%COMP%]{color:var(--glass-accent-danger);font-size:.7rem;font-style:italic;font-weight:600;position:relative;z-index:1;text-shadow:0 1px 2px rgba(255,255,255,.5);filter:drop-shadow(0 0 5px rgba(255,59,48,.2))}.dropdown-icon[_ngcontent-%COMP%]{position:absolute;right:.4rem;color:var(--ion-color-medium);font-size:.9rem;pointer-events:none}.button-row[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-top:.8rem;padding-top:.8rem;justify-content:center;border-top:1px solid var(--liquid-glass-border);position:relative}.button-row[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:20%;right:20%;height:1px;background:linear-gradient(90deg,transparent 0%,var(--liquid-glass-highlight) 50%,transparent 100%);opacity:.5}.mini-btn[_ngcontent-%COMP%]{flex:0 0 120px;border-radius:var(--glass-border-radius-small);font-size:1rem;font-weight:700;min-height:3.2rem;max-height:3.2rem;transition:var(--glass-transition);position:relative;overflow:hidden;transform-style:preserve-3d;background:var(--liquid-glass-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid var(--liquid-glass-border);box-shadow:0 6px 15px #0000001a,0 2px 4px #0000000d,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.3;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.mini-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 12px 30px #00000026,0 4px 8px #0000001a,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn[_ngcontent-%COMP%]:hover:before{opacity:.5}.mini-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(.98);box-shadow:0 4px 10px #00000026,0 1px 2px #0000001a,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--glass-accent-success) 0%,rgba(52,199,89,.9) 100%);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);border-color:#34c7594d;box-shadow:0 6px 15px #34c7594d,0 2px 4px #34c75933,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(52,199,89,.9) 0%,#34c759 100%);box-shadow:0 12px 30px #34c75966,0 4px 8px #34c7594d,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn.save-btn[_ngcontent-%COMP%]:disabled{background:var(--liquid-glass-bg-dark);color:#ffffff80;text-shadow:none;transform:none;box-shadow:0 2px 6px #0000001a,0 0 0 1px var(--liquid-glass-border) inset;cursor:not-allowed}.mini-btn.save-btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:0 2px 6px #0000001a,0 0 0 1px var(--liquid-glass-border) inset}.mini-btn.delete-btn[_ngcontent-%COMP%]{background:transparent;color:#f04141;text-shadow:none;border:2px solid #f04141;border-color:#f04141;box-shadow:0 2px 6px #f041411a,0 1px 2px #f041410d}.mini-btn.delete-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 6px 15px #f0414126,0 2px 4px #f041411a}.mini-btn.clear-btn[_ngcontent-%COMP%]{background:var(--liquid-glass-bg-light);color:#000000b3;border-color:var(--liquid-glass-border)}.mini-btn.clear-btn[_ngcontent-%COMP%]:hover{background:var(--liquid-glass-bg);color:#000000e6;border-color:var(--glass-accent-primary)}ion-popover[_ngcontent-%COMP%]{--width: 320px;--max-width: 90vw;--height: 60vh;--max-height: 400px;--border-radius: 8px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .2);direction:rtl}ion-searchbar[_ngcontent-%COMP%]{--background: #f8f9fa;--color: #000000;--placeholder-color: var(--ion-color-medium);--border-radius: 6px;--box-shadow: none;--icon-color: var(--ion-color-primary);padding:.4rem;--min-height: 2.5rem;direction:rtl;text-align:right}ion-list[_ngcontent-%COMP%]{--background: white}ion-item[_ngcontent-%COMP%]{--background: white;--color: #000000;--border-color: #f1f3f4;--padding-start: 1rem;--padding-end: 1rem;--min-height: 2.5rem;font-size:1rem;direction:rtl;text-align:right}ion-item[_ngcontent-%COMP%]:hover{--background: #f8f9fa}ion-item[_ngcontent-%COMP%]:active{--background: #e9ecef}ion-select[_ngcontent-%COMP%]{--placeholder-color: var(--ion-color-medium);--color: var(--ion-color-dark);font-size:.85rem}ion-select-option[_ngcontent-%COMP%]{font-size:.85rem;--color: var(--ion-color-dark)}ion-action-sheet[_ngcontent-%COMP%]{--button-color: var(--ion-color-dark);--button-background: white;--button-background-hover: #f8f9fa;--button-background-focused: #f8f9fa;--button-background-activated: #e9ecef}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]{width:92%;min-width:320px;animation:none}.main-container[_ngcontent-%COMP%]{padding:1rem;height:100dvh}.form-card[_ngcontent-%COMP%]{backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:16px}.form-card[_ngcontent-%COMP%]:hover{transform:none}.compact-content[_ngcontent-%COMP%]{padding:1.2rem;gap:1rem}.field-row[_ngcontent-%COMP%]{min-height:3.5rem;gap:1rem;flex-direction:column;align-items:stretch}.field-label-right[_ngcontent-%COMP%]{flex:none;text-align:right;font-size:1rem!important;margin-bottom:.3rem}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:3rem;max-height:3rem;font-size:1rem;border-radius:10px}.mini-input[_ngcontent-%COMP%]:focus-within, .mini-select[_ngcontent-%COMP%]:focus-within, .mini-textarea[_ngcontent-%COMP%]:focus-within{transform:none;border-color:var(--glass-accent-primary);box-shadow:0 4px 15px #007aff33,0 0 0 2px #007aff26}.mini-segment[_ngcontent-%COMP%]{height:3.5rem;min-height:3.5rem;border-radius:10px}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:2.5rem;font-size:.95rem;border-radius:8px}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{gap:.4rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem}.mini-btn[_ngcontent-%COMP%]{min-height:3.2rem;max-height:3.2rem;font-size:.95rem;flex:0 0 110px;border-radius:10px}.mini-btn[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.mini-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.balance-display[_ngcontent-%COMP%]{min-height:2.2rem;padding:.6rem .8rem;font-size:.85rem;border-radius:8px;animation:none}.balance-display[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.balance-label[_ngcontent-%COMP%]{font-size:.8rem}.balance-amount[_ngcontent-%COMP%]{font-size:.9rem}.button-row[_ngcontent-%COMP%]{gap:1rem;margin-top:1.5rem;flex-direction:column}.button-row[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{flex:none;width:100%}.modern-content[_ngcontent-%COMP%]:before{animation-duration:12s}}@media (max-width: 480px){.form-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.main-container[_ngcontent-%COMP%]{padding:.8rem}.compact-content[_ngcontent-%COMP%]{padding:1rem;gap:.8rem}.field-row[_ngcontent-%COMP%]{min-height:3rem}.field-label-right[_ngcontent-%COMP%]{font-size:.9rem!important}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:2.8rem;max-height:2.8rem;font-size:.9rem;border-radius:8px}.mini-segment[_ngcontent-%COMP%]{height:3rem;min-height:3rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:2.2rem;font-size:.85rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem}.mini-btn[_ngcontent-%COMP%]{min-height:2.8rem;max-height:2.8rem;font-size:.85rem}.balance-display[_ngcontent-%COMP%]{min-height:2rem;padding:.5rem .7rem;font-size:.8rem}.balance-label[_ngcontent-%COMP%]{font-size:.75rem}.balance-amount[_ngcontent-%COMP%]{font-size:.85rem}}@media (prefers-color-scheme: dark){.modern-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgba(30, 30, 30, .95) 0%, rgba(0, 0, 0, .9) 50%, rgba(20, 20, 40, .95) 100%)}.modern-content[_ngcontent-%COMP%]:before{background:radial-gradient(circle at 20% 50%,rgba(60,60,120,.15) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(40,80,140,.15) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(255,255,255,.02) 0%,transparent 50%)}.form-card[_ngcontent-%COMP%]{background:var(--liquid-glass-bg-dark);border:.5px solid rgba(128,128,128,.2);box-shadow:0 12px 35px #00000080,0 6px 12px #0000004d,0 8px 32px #0006,0 0 0 1px #ffffff0d inset,0 1px #ffffff1a inset}.form-card[_ngcontent-%COMP%]:hover{border-color:#8080804d}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(0,122,255,.6) 0%,rgba(0,100,200,.8) 100%);border-bottom-color:#ffffff14}.card-title[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,255,255,.95) 0%,rgba(255,255,255,.7) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border:.5px solid rgba(128,128,128,.3);--color: rgba(255, 255, 255, .9);--placeholder-color: rgba(255, 255, 255, .4)}.mini-input[_ngcontent-%COMP%]:focus-within, .mini-select[_ngcontent-%COMP%]:focus-within, .mini-textarea[_ngcontent-%COMP%]:focus-within{background:rgba(0,0,0,.2);border-color:#007affcc;box-shadow:0 8px 25px #007aff33,0 0 0 3px #007aff26}.mini-input.readonly-input[_ngcontent-%COMP%]:hover, .mini-select.readonly-input[_ngcontent-%COMP%]:hover, .mini-textarea.readonly-input[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.mini-input.amount-input[_ngcontent-%COMP%], .mini-select.amount-input[_ngcontent-%COMP%], .mini-textarea.amount-input[_ngcontent-%COMP%]{--color: rgba(0, 180, 255, .9)}.mini-input.amount-input[_ngcontent-%COMP%]:focus-within, .mini-select.amount-input[_ngcontent-%COMP%]:focus-within, .mini-textarea.amount-input[_ngcontent-%COMP%]:focus-within{--color: rgba(0, 180, 255, 1);text-shadow:0 0 15px rgba(0,180,255,.4)}.mini-segment[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-color:#ffffff1a}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--color: rgba(255, 255, 255, .7);--color-checked: white}.mini-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);box-shadow:0 4px 15px rgba(var(--ion-color-primary-rgb),.4),0 0 0 1px #ffffff1a inset}.mini-btn[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-color:#ffffff1a;color:#ffffffe6}.mini-btn.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(52,199,89,.7) 0%,rgba(40,180,70,.8) 100%);border-color:#34c7594d;color:#fff}.mini-btn.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(52,199,89,.8) 0%,rgba(40,180,70,.9) 100%)}.mini-btn.save-btn[_ngcontent-%COMP%]:disabled{background:rgba(0,0,0,.4);color:#ffffff4d;border-color:#ffffff0d}.mini-btn.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,59,48,.7) 0%,rgba(220,50,40,.8) 100%);border-color:#ff3b304d;color:#fff}.mini-btn.delete-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(255,59,48,.8) 0%,rgba(220,50,40,.9) 100%)}.mini-btn.clear-btn[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:#ffffffb3;border-color:#ffffff1a}.mini-btn.clear-btn[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3);color:#ffffffe6;border-color:#007aff80}.balance-display[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-color:#ffffff14}.balance-display[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.balance-label[_ngcontent-%COMP%]{color:#ffffffb3;text-shadow:0 1px 2px rgba(0,0,0,.5)}.balance-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .balance-error[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.5)}.field-label-right[_ngcontent-%COMP%]{color:#ffffffe6;text-shadow:0 1px 2px rgba(0,0,0,.3)}.loading-text[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,255,255,.8) 0%,rgba(0,180,255,.9) 50%,rgba(255,255,255,.8) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}}.mini-input[_ngcontent-%COMP%]:focus-within, .mini-select[_ngcontent-%COMP%]:focus-within, .mini-textarea[_ngcontent-%COMP%]:focus-within{border-color:var(--ion-color-primary);box-shadow:0 0 0 1px rgba(var(--ion-color-primary-rgb),.2)}@media (hover: none) and (pointer: coarse){.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%], .mini-btn[_ngcontent-%COMP%]{min-height:32px}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:30px}.field-row[_ngcontent-%COMP%]{min-height:36px}}']}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(z)],u.Bz]}),o})(),D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,b.u5,s.Pc,E]]}),o})()}}]);
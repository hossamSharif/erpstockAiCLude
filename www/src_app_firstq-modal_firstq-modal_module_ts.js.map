{"version":3,"file":"src_app_firstq-modal_firstq-modal_module_ts.js","mappings":"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","sources":["./src/app/firstq-modal/firstq-modal-routing.module.ts","./src/app/firstq-modal/firstq-modal.module.ts","./src/app/firstq-modal/firstq-modal.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FirstqModalPage } from './firstq-modal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirstqModalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FirstqModalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FirstqModalPageRoutingModule } from './firstq-modal-routing.module';\n\nimport { FirstqModalPage } from './firstq-modal.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FirstqModalPageRoutingModule\n  ],\n  declarations: [FirstqModalPage]\n})\nexport class FirstqModalPageModule {}\n","import { Component, OnInit,Input } from '@angular/core';\nimport { LoadingController, ModalController, ToastController } from '@ionic/angular';\n \nimport { ServicesService } from '../stockService/services.service';\nimport { Storage } from '@ionic/storage';\n@Component({\n  selector: 'app-firstq-modal',\n  templateUrl: './firstq-modal.page.html',\n  styleUrls: ['./firstq-modal.page.scss'],\n})\nexport class FirstqModalPage implements OnInit {\n  shortLink: string = \"\";\n  loading: boolean = false; // Flag variable\n  file: File = null; // Variable to store file\n  uploadedFiles\n//@Input() item: any;\n//@Input() status: any;\nstatus = 'price'\nsegme\nselectedItem : {id:any ,item_name:any,pay_price:any,perch_price:any,item_unit:any,item_desc:any,item_parcode:any};\nsegment :any ='xls'\nstore_info : {id:any , location :any ,store_name:any , store_ref:any }\nuser_info : {id:any ,user_name:any ,store_id :any,full_name:any,password:any}\nprice : {payval:any,perchval:any ,type:any, status:any} \nconstructor(private storage: Storage,private loadingController:LoadingController,private api:ServicesService,private modalController: ModalController,private toast :ToastController) {\n  this.selectedItem = {id:\"\" ,item_name:\"\",pay_price:\"\",perch_price:\"\",item_unit:\"\",item_desc:\"\",item_parcode:\"\"};   \n  this.price = {payval:0,perchval:0 ,type: 'pay', status:'plus'}  \n}\n  ngOnInit() {\n   // //console.log(this.item, this.status)\n   // this.checkstatus()\n   this.getAppInfo()\n   }\n \n   fileChange(element) {\n     //console.log('file', element.target.files[0]['name']);\n     this.uploadedFiles = element.target.files[0];\n   }\n  \n   getAppInfo(){ \n    this.storage.get('USER_INFO').then((response) => {\n     if (response) {\n       this.user_info = response\n       //console.log(this.user_info) \n     }\n   });\n   this.storage.get('STORE_INFO').then((response) => {\n     if (response) {\n       this.store_info = response\n        //console.log(response)\n        //console.log('store_info',this.store_info) \n      \n     }\n   });\n }\n\n    truncateItems(){\n     this.presentLoadingWithOptions('uploading ...')\n     this.api.truncateItems().subscribe((data) => {\n     //console.log(' received is ', data);\n     if (data['message'] != 'Post not delete') {\n       this.upload()\n     } else {\n       this.presentToast(\"خطأ في الإتصال بالسيرفر\")\n     }\n   },(error)=>{ \n     this.presentToast(\"خطأ في الإتصال بالسيرفر\")\n   }\n   )\n    }\n \n    deleteByStore(){\n      let da = new Date \n      //console.log(da)\n      let fq_year = da.getFullYear().toString() \n      this.presentLoadingWithOptions('uploading ...')\n      this.api.deleteFristq(this.store_info.id ,fq_year).subscribe((data) => {\n      //console.log(' received is ', data);\n      if (data['message'] != 'Post not delete') {\n      this.upload()\n      } else {\n        this.presentToast(\"خطأ في الإتصال بالسيرفر\" ,'danger')\n        this.loadingController.dismiss()\n      }\n    },(error)=>{ \n      this.presentToast(\"خطأ في الإتصال بالسيرفر\",'danger')\n      this.loadingController.dismiss()\n    }\n    )\n     }\n\n   upload() {  \n     let formData = new FormData();\n     formData.append(\"avatar\", this.uploadedFiles);\n       // for(let i =0; i < this.uploadedFiles.length; i++){\n       // formData.append(\"files\", this.uploadedFiles[i], this.uploadedFiles[i]['name']);\n       //   }\n     \n     //console.log(formData)\n     this.api.uploadFq(formData).subscribe((response) => {\n       //console.log('response received is ', response);\n       this.loadingController.dismiss()\n       this.presentToast('تم الحفظ بنجاح' , 'success')\n     },(error)=>{ \n       this.presentToast(\"خطأ في الإتصال بالسيرفر\",'danger')\n       this.loadingController.dismiss()\n     }\n     )\n   }\n \n   async presentLoadingWithOptions(msg?) {\n     const loading = await this.loadingController.create({\n       spinner: 'bubbles',\n       mode:'ios',\n       // duration: 5000,\n       message: msg,\n       translucent: true,\n      // cssClass: 'custom-class custom-loading',\n       backdropDismiss: false\n     });\n     await loading.present();\n   \n     const { role, data } = await loading.onDidDismiss();\n     //console.log('Loading dismissed with role:', role);\n   }\n \n   onChange(event) {\n     this.file = event.target.files[0];\n   }\n \n // OnClick of button Upload\n   onUpload() {\n       this.loading = !this.loading;\n       //console.log(this.file);\n       this.api.upload2(this.file).subscribe(\n           (event: any) => {\n               if (typeof (event) === 'object') {\n \n                   // Short link via api response\n                   this.shortLink = event.link;\n \n                   this.loading = false; // Flag variable \n               }\n           }\n       );\n   }\n \n   segmentChanged(ev){\n       //console.log(ev.target.value) \n    }\n \n    //  checkstatus(){\n    //    if ( this.status == 'edit') {\n    //      this.selectedItem = {id:this.item.id ,item_name:this.item.item_name,pay_price:this.item.pay_price,perch_price:this.item.perch_price,item_unit:this.item.item_unit,item_desc:this.item.item_desc,item_parcode:this.item.item_parcode}; \n    //    } else  {   \n    //    }  \n    // }\n \n  typeChange(ev){\n   //console.log(ev.target.value) \n  }\n \n  statusChange(ev){\n   //console.log(ev.target.value)  \n  }\n \n   async save(){ \n     await this.modalController.dismiss(this.selectedItem , this.status);\n   }\n   \n   async updatePrice(){ \n     await this.modalController.dismiss(this.price , this.status);\n   }\n \n   async presentToast(msg,color?) {\n     const toast = await this.toast.create({\n       message: msg,\n       duration: 2000,\n       color:color,\n       cssClass:'cust_Toast',\n       mode:'ios',\n       position:'top' \n     });\n     toast.present();\n   }\n \n   validate():boolean{\n     if (this.selectedItem.item_name == \"\"  || +this.selectedItem.perch_price == 0 || +this.selectedItem.pay_price == 0 ) {\n       this.presentToast('الرجاء ادخال البيانات المطلوبة','danger')\n       return false\n     }  else {\n       return true\n     }\n   }\n \n   async closeModal() { \n     await this.modalController.dismiss();\n   }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{44987:(v,l,i)=>{i.r(l),i.d(l,{LoginPageModule:()=>A});var p=i(69808),g=i(34182),n=i(23349),c=i(94030),d=i(70655),e=i(29863),m=i(91472),Z=i(90849),y=i(65465);const f=[{path:"",component:(()=>{class s{constructor(t,o,r,u,h){this.api=t,this.storage=o,this.toast=r,this.loadingController=u,this.authenticationService=h,this.yearArr=[],this.stores=[],this.store_info={id:"1",store_ref:"sh",store_name:"sooq sha'by",location:"sha'aby"},this.USER_INFO={id:"",user_name:"",store_id:1,full_name:"",password:""}}ngOnInit(){this.getStore(),this.getyear()}pickDetail(t){let o=this.stores.filter(r=>r.store_name==t.target.value);this.store_info={id:o[0].id,store_name:o[0].store_name,store_ref:o[0].store_ref,location:o[0].location},this.USER_INFO.store_id=o[0].id}getStore(){this.api.getStores().subscribe(t=>{this.stores=t.data},t=>{})}getCompany(){this.api.getCompany().subscribe(t=>{console.log("companay",t),this.company=t.data},t=>{})}getyear(){this.api.getYear().subscribe(t=>{this.yearArr=t.data,this.setCurrentYear()},t=>{this.presentToast("\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627 , \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 ","danger")})}setCurrentYear(){this.storage.get("year").then(t=>{t?this.year=t:(this.year=this.yearArr[0],this.storage.set("year",this.year).then(o=>{}))})}setCurrentStoreLocaly(){this.storage.set("STORE_INFO",this.store_info).then(t=>{}),this.storage.set("company",this.company).then(t=>{})}presentToast(t,o){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:2e3,color:o,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}presentLoadingWithOptions(t){return(0,d.mG)(this,void 0,void 0,function*(){const o=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:2e3,message:t,translucent:!0,backdropDismiss:!1});yield o.present(),yield o.onDidDismiss(),o.onDidDismiss().then(h=>{})})}loginUser(){""==this.USER_INFO.user_name||""==this.USER_INFO.password?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u0643\u0645\u0627\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","danger"):(this.storage.set("STORE_INFO",this.store_info).then(t=>{}),this.storage.set("company",this.company).then(t=>{}),this.authenticationService.login(this.USER_INFO))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.r),e.Y36(Z.K),e.Y36(n.yF),e.Y36(n.HT),e.Y36(y.u))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-login"]],decls:24,vars:2,consts:[["dir","rtl",1,"custRow"],[1,"ion-justify-content-center"],["size","11"],[1,"cust-card"],[1,"ion-text-center"],["size","12"],["size","9"],[1,"custInput"],["name","lock-closed-outline","slot","end"],["placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",3,"ngModel","ngModelChange"],["name","eye-outline","slot","end"],["type","password","placeholder","\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",3,"ngModel","ngModelChange"],["size","8"],["expand","block","routerDirection","root","color","success",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content"),e.TgZ(1,"ion-grid",0),e.TgZ(2,"ion-row",1),e.TgZ(3,"ion-col",2),e.TgZ(4,"ion-card",3),e.TgZ(5,"ion-card-header",4),e.TgZ(6,"h3"),e._uU(7," \u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 "),e.qZA(),e.qZA(),e.TgZ(8,"ion-grid"),e.TgZ(9,"ion-row",1),e._UZ(10,"ion-col",5),e.TgZ(11,"ion-col",6),e.TgZ(12,"ion-item",7),e._UZ(13,"ion-icon",8),e.TgZ(14,"ion-input",9),e.NdJ("ngModelChange",function(u){return o.USER_INFO.user_name=u}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"ion-col",6),e.TgZ(16,"ion-item",7),e._UZ(17,"ion-icon",10),e.TgZ(18,"ion-input",11),e.NdJ("ngModelChange",function(u){return o.USER_INFO.password=u}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"ion-row",1),e.TgZ(20,"ion-col",12),e.TgZ(21,"ion-button",13),e.NdJ("click",function(){return o.loginUser()}),e.TgZ(22,"ion-label",4),e._uU(23," \u062f\u062e\u0640\u0640\u0640\u0648\u0644"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngModel",o.USER_INFO.user_name),e.xp6(4),e.Q6J("ngModel",o.USER_INFO.password))},directives:[n.W2,n.jY,n.Nd,n.wI,n.PM,n.Zi,n.Ie,n.gu,n.pK,n.j9,g.JJ,g.On,n.YG,n.Q$],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.cust-card[_ngcontent-%COMP%]{border-radius:5px}"]}),s})()}];let T=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[c.Bz.forChild(f)],c.Bz]}),s})(),A=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.ez,g.u5,n.Pc,T]]}),s})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9600],{6612:(v,b,g)=>{g.d(b,{i:()=>m});var C=g(70655),p=g(40520),u=g(591),P=g(29863),l=g(90849),t=g(91472);let m=(()=>{class h{constructor(o,r,a){this.http=o,this.storage=r,this.servicesService=a,this.currentCurrency=new u.X("SDG"),this.currentYear=new u.X(null),this.exchangeRates=new u.X({}),this.supportedCurrencies=new u.X([]),this.ratesCache=new Map,this.api=this.servicesService.api}getCurrentCurrency(){return this.currentCurrency.asObservable()}getCurrentCurrencyValue(){return this.currentCurrency.value}setCurrency(o){this.currentCurrency.next(o),this.storage.set("selectedCurrency",o)}setCurrentYear(o){this.currentYear.next(o)}loadRatesByYear(o,r){return(0,C.mG)(this,void 0,void 0,function*(){try{const a=(new p.LE).set("store_id",o).set("year_id",r),d=yield this.http.get(this.api+"currency_rates/latest.php",{params:a}).toPromise();return d&&d.data&&(this.cacheRates(d.data,r),this.exchangeRates.next(d.data)),d}catch(a){return console.error("Error loading currency rates:",a),null}})}getExchangeRate(o){if("SDG"===o)return 1;const r=this.exchangeRates.value;if(Array.isArray(r)){const a=r.find(d=>d.target_currency===o);return a?parseFloat(a.exchange_rate):1}return 1}createCurrencyRate(o){const r={headers:new p.WM({"Content-Type":"application/json"})};return this.http.post(this.api+"currency_rates/create.php",o,r)}getCurrencyRates(o){let r=new p.LE;return Object.keys(o).forEach(a=>{o[a]&&(r=r.set(a,o[a]))}),this.http.get(this.api+"currency_rates/read.php",{params:r})}updateCurrencyRate(o,r){const a=Object.assign({id:o},r),d={headers:new p.WM({"Content-Type":"application/json"})};return this.http.put(this.api+"currency_rates/update.php",a,d)}deleteCurrencyRate(o){const r=(new p.LE).set("id",o);return this.http.delete(this.api+"currency_rates/delete.php",{params:r})}getNearestRate(o,r,a,d){const y=(new p.LE).set("currency",o).set("date",r).set("store_id",a).set("year_id",d);return this.http.get(this.api+"currency_rates/nearestDate.php",{params:y})}convertFromSDG(o,r){return"SDG"!==r&&o?o/this.getExchangeRate(r):o}convertToSDG(o,r){return"SDG"!==r&&o?o*this.getExchangeRate(r):o}formatCurrency(o,r){return`${o.toLocaleString("en-US",{minimumFractionDigits:2})} ${{SDG:"\u062c.\u0633",USD:"$",AED:"\u062f.\u0625",SAR:"\u0631.\u0633"}[r]||r}`}getSupportedCurrencies(){return this.http.get(this.api+"currencies/read.php")}getActiveCurrencies(){const o=(new p.LE).set("active_only","true");return this.http.get(this.api+"currencies/read.php",{params:o})}addSupportedCurrency(o){return this.http.post(this.api+"currencies/create.php",o)}updateSupportedCurrency(o,r){return this.http.put(this.api+"currencies/update.php",Object.assign({id:o},r))}deleteSupportedCurrency(o){const r=(new p.LE).set("id",o);return this.http.delete(this.api+"currencies/delete.php",{params:r})}cacheKey(o,r,a){return`${o}_${r}_${a}`}cacheRates(o,r){Array.isArray(o)&&o.forEach(a=>{const d=this.cacheKey(a.target_currency,a.rate_date,r);this.ratesCache.set(d,a)})}getCachedRate(o,r,a){const d=this.cacheKey(o,r,a);return this.ratesCache.get(d)}clearCache(){this.ratesCache.clear()}initializeCurrency(){return(0,C.mG)(this,void 0,void 0,function*(){try{yield this.storage.create();const o=yield this.storage.get("selectedCurrency");o&&this.currentCurrency.next(o)}catch(o){console.error("Error initializing currency:",o)}})}getCurrentExchangeRates(){return this.exchangeRates.asObservable()}getSupportedCurrenciesObservable(){return this.supportedCurrencies.asObservable()}loadSupportedCurrencies(){return(0,C.mG)(this,void 0,void 0,function*(){try{const o=yield this.getSupportedCurrencies().toPromise();o&&o.data&&this.supportedCurrencies.next(o.data)}catch(o){console.error("Error loading supported currencies:",o)}})}formatAmount(o,r){const a=r||this.getCurrentCurrencyValue();let d=o;return"SDG"!==a&&(d=this.convertFromSDG(o,a)),this.formatCurrency(d,a)}convertToCurrentCurrency(o,r="SDG"){const a=this.getCurrentCurrencyValue();if(r===a)return o;if("SDG"===r)return this.convertFromSDG(o,a);if("SDG"===a)return this.convertToSDG(o,r);{const d=this.convertToSDG(o,r);return this.convertFromSDG(d,a)}}getCurrentCurrencySymbol(){const o=this.getCurrentCurrencyValue();return{SDG:"\u062c.\u0633",USD:"$",AED:"\u062f.\u0625",SAR:"\u0631.\u0633"}[o]||o}getCurrentCurrencySymbolForHeader(o){return`${o} (${this.getCurrentCurrencySymbol()})`}formatAmountWithoutSymbol(o,r){const a=r||this.getCurrentCurrencyValue();let d=o;return"SDG"!==a&&(d=this.convertFromSDG(o,a)),d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}}return h.\u0275fac=function(o){return new(o||h)(P.LFG(p.eN),P.LFG(l.K),P.LFG(t.r))},h.\u0275prov=P.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},52562:(v,b,g)=>{g.d(b,{$:()=>p});var C=g(29863);let p=(()=>{class u{constructor(){}compareStrings(l,t){return l||t?l?t?l.localeCompare(t,"ar",{numeric:!0,sensitivity:"base",caseFirst:"lower"}):1:-1:0}compareNumbers(l,t){return(parseFloat(null==l?void 0:l.toString())||0)-(parseFloat(null==t?void 0:t.toString())||0)}compareDates(l,t){const m=new Date(l),h=new Date(t);return m.getTime()-h.getTime()}sortData(l,t,m){return l&&0!==l.length?[...l].sort((f,o)=>{let r=0;const a=f[t],d=o[t];return null==a&&null==d?0:null==a?"asc"===m?-1:1:null==d?"asc"===m?1:-1:(r=this.isDateColumn(t)||this.isDateValue(a)?this.compareDates(a,d):this.isNumericColumn(t)||this.isNumericValue(a)?this.compareNumbers(a,d):this.compareStrings(String(a),String(d)),"desc"===m?-r:r)}):l}isDateColumn(l){return["j_date","pay_date","date","created_at","updated_at"].includes(l)}isDateValue(l){return"string"==typeof l?/^\d{4}-\d{2}-\d{2}$|^\d{2}\/\d{2}\/\d{4}$/.test(l)||!isNaN(Date.parse(l)):l instanceof Date}isNumericColumn(l){return["amount","total","balance","price","quantity","qty","tot_pr","discount","pay","changee","sub_balance","current_balance","opening_balance","debit","credit","j_pay","perch_price","pay_price","id"].some(m=>l.toLowerCase().includes(m))}isNumericValue(l){return!isNaN(parseFloat(l))&&isFinite(l)}getSortIcon(l,t){return t&&t.column===l?"asc"===t.direction?"chevron-up-outline":"chevron-down-outline":"swap-vertical-outline"}getNextSortDirection(l,t){return t&&t.column===l&&"asc"===t.direction?"desc":"asc"}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=C.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},99600:(v,b,g)=>{g.r(b),g.d(b,{Statement2PageModule:()=>gt});var C=g(69808),p=g(34182),u=g(23349),P=g(94030),l=g(70655),t=g(29863),m=g(90849),h=g(91472),f=g(52562),o=g(79002),r=g(6612),a=g(12317),d=g(90733),y=g(1212);const A=["accountPopover"];function T(e,s){1&e&&(t.TgZ(0,"div",13),t._UZ(1,"ion-spinner",14),t.TgZ(2,"p",15),t._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),t.qZA(),t.qZA())}function w(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-input",48),t.NdJ("ngModelChange",function(c){return t.CHM(n),t.oxw(2).startingDate=c}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("ngModel",n.startingDate)}}function S(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-input",49),t.NdJ("ngModelChange",function(c){return t.CHM(n),t.oxw(2).startingDate=c}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("ngModel",n.startingDate)}}function D(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-input",50),t.NdJ("ngModelChange",function(c){return t.CHM(n),t.oxw(2).endDate=c}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("ngModel",n.endDate)}}function q(e,s){if(1&e&&(t.TgZ(0,"div",41),t.TgZ(1,"span",42),t._uU(2,"\u0627\u0644\u0643\u0648\u062f:"),t.qZA(),t.TgZ(3,"span",43),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.selectedAccount.sub_code)}}function k(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1,"\u062f\u0627\u0626\u0646 "),t.qZA())}function U(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1,"\u0645\u062f\u064a\u0646 "),t.qZA())}function I(e,s){if(1&e&&(t.TgZ(0,"div",41),t.TgZ(1,"span",42),t._uU(2,"\u0627\u0644\u062a\u0635\u0646\u064a\u0641:"),t.qZA(),t.TgZ(3,"span",43),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.selectedAccount.cat_name)}}function F(e,s){if(1&e&&(t.TgZ(0,"div",41),t.TgZ(1,"span",42),t._uU(2,"\u0627\u0644\u0647\u0627\u062a\u0641:"),t.qZA(),t.TgZ(3,"span",43),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.selectedAccount.phone)}}function E(e,s){if(1&e&&(t.TgZ(0,"div",41),t.TgZ(1,"span",42),t._uU(2,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"),t.qZA(),t.TgZ(3,"span",51),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.selectedAccount.address)}}function N(e,s){if(1&e&&(t.TgZ(0,"span",68),t._uU(1),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.hij(" (",n.totalTransactions," \u0645\u0639\u0627\u0645\u0644\u0629) ")}}function J(e,s){if(1&e&&(t.TgZ(0,"span",79),t._uU(1),t.ALo(2,"currencyDisplay"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,+n.debit,"SDG",!1)," ")}}function Y(e,s){if(1&e&&(t.TgZ(0,"span",80),t._uU(1),t.ALo(2,"currencyDisplay"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,+n.credit,"SDG",!1)," ")}}const Q=function(e,s,n){return{"sales-type":e,"purchase-type":s,"voucher-type":n}};function z(e,s){if(1&e&&(t.TgZ(0,"tr",69),t.TgZ(1,"td",70),t._uU(2),t.qZA(),t.TgZ(3,"td",71),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",72),t.TgZ(7,"span",73),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"td",74),t._uU(10),t.qZA(),t.TgZ(11,"td",75),t.YNc(12,J,3,5,"span",76),t.qZA(),t.TgZ(13,"td",77),t.YNc(14,Y,3,5,"span",78),t.qZA(),t.qZA()),2&e){const n=s.$implicit,i=s.index,c=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(t.xi3(5,7,n.j_date,"dd/MM/yyyy")),t.xp6(3),t.Q6J("ngClass",t.kEZ(10,Q,"sales"===n.source_type,"purchases"===n.source_type,"journal"===n.source_type)),t.xp6(1),t.hij(" ",c.getTransactionTypeDisplay(n)," "),t.xp6(2),t.Oqu(n.j_details),t.xp6(2),t.Q6J("ngIf",n.debit&&+n.debit>0),t.xp6(2),t.Q6J("ngIf",n.credit&&+n.credit>0)}}function B(e,s){1&e&&(t.TgZ(0,"tr",81),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",82),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",82),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",82),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",82),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",82),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",82),t.qZA(),t.qZA())}function G(e,s){if(1&e&&(t.TgZ(0,"tfoot"),t.TgZ(1,"tr",83),t.TgZ(2,"td",84),t._uU(3,"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"),t.qZA(),t.TgZ(4,"td",85),t.TgZ(5,"span",79),t._uU(6),t.ALo(7,"currencyDisplay"),t.qZA(),t.qZA(),t.TgZ(8,"td",86),t.TgZ(9,"span",80),t._uU(10),t.ALo(11,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.xp6(6),t.Oqu(t.Dn7(7,2,n.sums.debitTot,"SDG",!1)),t.xp6(4),t.Oqu(t.Dn7(11,6,n.sums.creditTot,"SDG",!1))}}function j(e,s){1&e&&t._UZ(0,"ion-spinner",91)}function L(e,s){1&e&&t._UZ(0,"ion-icon",92)}function R(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",87),t.TgZ(1,"ion-button",88),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).loadMoreTransactions()}),t.YNc(2,j,1,0,"ion-spinner",89),t.YNc(3,L,1,0,"ion-icon",90),t._uU(4),t.qZA(),t.qZA()}if(2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loadingMore),t.xp6(1),t.Q6J("ngIf",n.loadingMore),t.xp6(1),t.Q6J("ngIf",!n.loadingMore),t.xp6(1),t.hij(" ",n.loadingMore?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0632\u064a\u062f"," ")}}function $(e,s){1&e&&(t.TgZ(0,"div",93),t._UZ(1,"ion-icon",94),t.TgZ(2,"h4"),t._uU(3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0627\u0645\u0644\u0627\u062a"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0644\u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t.qZA())}function V(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-card",52),t.TgZ(1,"ion-card-header",53),t.TgZ(2,"div",54),t.TgZ(3,"ion-card-title",55),t._UZ(4,"ion-icon",56),t._uU(5),t.YNc(6,N,2,1,"span",57),t.qZA(),t.TgZ(7,"app-export-buttons",58),t.NdJ("exportPDF",function(){return t.CHM(n),t.oxw(2).exportToPDF()})("exportExcel",function(){return t.CHM(n),t.oxw(2).exportToExcel()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-card-content",59),t.TgZ(9,"div",60),t.TgZ(10,"table",61),t.TgZ(11,"thead"),t.TgZ(12,"tr"),t.TgZ(13,"th"),t._uU(14,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(15,"th",62),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortBy("j_date")}),t._UZ(16,"ion-icon",63),t._uU(17," \u0627\u0644\u062a\u0627\u0631\u064a\u062e "),t.qZA(),t.TgZ(18,"th",62),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortBy("source_type")}),t._UZ(19,"ion-icon",63),t._uU(20," \u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f "),t.qZA(),t.TgZ(21,"th",62),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortBy("j_details")}),t._UZ(22,"ion-icon",63),t._uU(23," \u0627\u0644\u0628\u064a\u0627\u0646 "),t.qZA(),t.TgZ(24,"th",62),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortBy("debit")}),t._UZ(25,"ion-icon",63),t._uU(26),t.qZA(),t.TgZ(27,"th",62),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortBy("credit")}),t._UZ(28,"ion-icon",63),t._uU(29),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,z,15,14,"tr",64),t.YNc(32,B,13,0,"tr",65),t.qZA(),t.YNc(33,G,12,10,"tfoot",45),t.qZA(),t.qZA(),t.YNc(34,R,5,4,"div",66),t.YNc(35,$,6,0,"div",67),t.qZA(),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(5),t.hij(" \u0643\u0634\u0641 \u062d\u0633\u0627\u0628 - ","\u0644\u0645 \u064a\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628"===n.selectedAccount.sub_name?"\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0644\u0639\u0631\u0636 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":n.selectedAccount.sub_name," "),t.xp6(1),t.Q6J("ngIf",n.totalTransactions>0),t.xp6(1),t.Q6J("hasData",n.displayedTransactions&&n.displayedTransactions.length>0)("isLoading",n.loading),t.xp6(9),t.Q6J("name",n.getSortIcon("j_date")),t.xp6(3),t.Q6J("name",n.getSortIcon("source_type")),t.xp6(3),t.Q6J("name",n.getSortIcon("j_details")),t.xp6(3),t.Q6J("name",n.getSortIcon("debit")),t.xp6(1),t.hij(" \u0645\u062f\u064a\u0646 (\u0639\u0644\u064a\u0647) (",n.getCurrencySymbol(),") "),t.xp6(2),t.Q6J("name",n.getSortIcon("credit")),t.xp6(1),t.hij(" \u062f\u0627\u0626\u0646 (\u0644\u0647) (",n.getCurrencySymbol(),") "),t.xp6(2),t.Q6J("ngForOf",n.sortedTransactions),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",n.displayedTransactions.length>0),t.xp6(1),t.Q6J("ngIf",n.hasMoreTransactions&&n.displayedTransactions.length>0),t.xp6(1),t.Q6J("ngIf",n.showEmpty&&!n.loading)}}function H(e,s){if(1&e&&(t.TgZ(0,"span",112),t._uU(1),t.ALo(2,"currencyDisplay"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,+n.credit,"SDG",!1)," ")}}function K(e,s){if(1&e&&(t.TgZ(0,"span",113),t._uU(1),t.ALo(2,"currencyDisplay"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,+n.debit,"SDG",!1)," ")}}function W(e,s){if(1&e&&(t.TgZ(0,"ion-accordion",100),t.TgZ(1,"ion-item",101),t._UZ(2,"ion-icon",102),t.TgZ(3,"div",103),t.TgZ(4,"div",104),t.TgZ(5,"span",105),t._uU(6),t.qZA(),t.TgZ(7,"span",106),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA(),t.TgZ(10,"div",107),t.YNc(11,H,3,5,"span",108),t.YNc(12,K,3,5,"span",109),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",110),t.TgZ(14,"ion-list"),t.TgZ(15,"ion-item",111),t.TgZ(16,"ion-label"),t.TgZ(17,"ion-note"),t._uU(18,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f: "),t.qZA(),t.TgZ(19,"strong"),t._uU(20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"ion-item",111),t.TgZ(22,"ion-label"),t.TgZ(23,"ion-note"),t._uU(24,"\u0627\u0644\u0628\u064a\u0627\u0646: "),t.qZA(),t.TgZ(25,"strong"),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-item",111),t.TgZ(28,"ion-label"),t.TgZ(29,"ion-note"),t._uU(30,"\u0645\u062f\u064a\u0646 (\u0639\u0644\u064a\u0647): "),t.qZA(),t.TgZ(31,"strong"),t._uU(32),t.ALo(33,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-item",111),t.TgZ(35,"ion-label"),t.TgZ(36,"ion-note"),t._uU(37,"\u062f\u0627\u0626\u0646 (\u0644\u0647): "),t.qZA(),t.TgZ(38,"strong"),t._uU(39),t.ALo(40,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=s.$implicit,i=s.index,c=t.oxw(4);t.Q6J("value",i),t.xp6(6),t.Oqu(c.getTransactionTypeDisplay(n)),t.xp6(2),t.Oqu(t.xi3(9,9,n.j_date,"dd/MM")),t.xp6(3),t.Q6J("ngIf",n.credit&&+n.credit>0),t.xp6(1),t.Q6J("ngIf",n.debit&&+n.debit>0),t.xp6(8),t.Oqu(n.j_type),t.xp6(6),t.Oqu(n.j_details),t.xp6(6),t.Oqu(t.Dn7(33,12,+n.debit,"SDG",!1)),t.xp6(7),t.Oqu(t.Dn7(40,16,+n.credit,"SDG",!1))}}function X(e,s){if(1&e&&(t.TgZ(0,"ion-accordion-group"),t.YNc(1,W,41,20,"ion-accordion",99),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.sortedTransactions)}}function tt(e,s){1&e&&t._UZ(0,"ion-spinner",91)}function nt(e,s){1&e&&t._UZ(0,"ion-icon",92)}function et(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",87),t.TgZ(1,"ion-button",114),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).loadMoreTransactions()}),t.YNc(2,tt,1,0,"ion-spinner",89),t.YNc(3,nt,1,0,"ion-icon",90),t._uU(4),t.qZA(),t.qZA()}if(2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("disabled",n.loadingMore),t.xp6(1),t.Q6J("ngIf",n.loadingMore),t.xp6(1),t.Q6J("ngIf",!n.loadingMore),t.xp6(1),t.hij(" ",n.loadingMore?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0632\u064a\u062f"," ")}}function ot(e,s){1&e&&(t.TgZ(0,"div",93),t._UZ(1,"ion-icon",94),t.TgZ(2,"h4"),t._uU(3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0627\u0645\u0644\u0627\u062a"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0644\u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t.qZA())}function it(e,s){if(1&e&&(t.TgZ(0,"ion-card",95),t.TgZ(1,"ion-card-header",96),t.TgZ(2,"ion-card-title",97),t._UZ(3,"ion-icon",56),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"ion-card-content",98),t.YNc(6,X,2,1,"ion-accordion-group",45),t.YNc(7,et,5,4,"div",66),t.YNc(8,ot,6,0,"div",67),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.hij("\n\u0643\u0634\u0641 \u062d\u0633\u0627\u0628 - ","\u0644\u0645 \u064a\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628"===n.selectedAccount.sub_name?"\u0627\u062e\u062a\u0631 \u062d\u0633\u0627\u0628 \u0644\u0639\u0631\u0636 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":n.selectedAccount.sub_name," "),t.xp6(2),t.Q6J("ngIf",n.displayedTransactions.length>0),t.xp6(1),t.Q6J("ngIf",n.hasMoreTransactions&&n.displayedTransactions.length>0),t.xp6(1),t.Q6J("ngIf",n.showEmpty&&!n.loading)}}function rt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"ion-card",18),t.TgZ(3,"ion-card-content",19),t.TgZ(4,"div",20),t.TgZ(5,"div",21),t.TgZ(6,"ion-label",22),t._uU(7,"\u0627\u0644\u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(8,"div",23),t.NdJ("click",function(c){return t.CHM(n),t.oxw().presentAccountPopover(c)}),t._UZ(9,"ion-input",24),t._UZ(10,"ion-icon",25),t.qZA(),t.qZA(),t.TgZ(11,"div",26),t.TgZ(12,"ion-label",22),t._uU(13,"\u0646\u0648\u0639 \u0627\u0644\u0628\u062d\u062b"),t.qZA(),t.TgZ(14,"ion-segment",27),t.NdJ("ngModelChange",function(c){return t.CHM(n),t.oxw().radioVal=c})("ionChange",function(c){return t.CHM(n),t.oxw().radioChange(c)}),t.TgZ(15,"ion-segment-button",28),t.TgZ(16,"span"),t._uU(17,"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u062d\u062f\u064a\u062b\u0629"),t.qZA(),t.qZA(),t.TgZ(18,"ion-segment-button",29),t.TgZ(19,"span"),t._uU(20,"\u0628\u062d\u062b \u0641\u064a \u062a\u0627\u0631\u064a\u062e \u0645\u062d\u062f\u062f"),t.qZA(),t.qZA(),t.TgZ(21,"ion-segment-button",30),t.TgZ(22,"span"),t._uU(23,"\u0628\u062d\u062b \u0641\u064a \u0641\u062a\u0631\u0629 \u0632\u0645\u0646\u064a\u0629"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",31),t.YNc(25,w,1,1,"ion-input",32),t.YNc(26,S,1,1,"ion-input",33),t.YNc(27,D,1,1,"ion-input",34),t.TgZ(28,"ion-button",35),t.NdJ("click",function(){return t.CHM(n),t.oxw().search()}),t._UZ(29,"ion-icon",36),t._uU(30," \u0628\u062d\u062b "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"ion-card",37),t.TgZ(32,"ion-card-content",38),t.TgZ(33,"div",39),t.TgZ(34,"div",40),t.TgZ(35,"div",41),t.TgZ(36,"span",42),t._uU(37,"\u0627\u0644\u0646\u0648\u0639:"),t.qZA(),t.TgZ(38,"span",43),t._uU(39),t.qZA(),t.qZA(),t.YNc(40,q,5,1,"div",44),t.qZA(),t.TgZ(41,"div",40),t.TgZ(42,"div",41),t.TgZ(43,"span",42),t._uU(44,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0627\u0641\u062a\u062a\u0627\u062d\u064a:"),t.qZA(),t.TgZ(45,"span",43),t._uU(46),t.ALo(47,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",40),t.TgZ(49,"div",41),t.TgZ(50,"span",42),t._uU(51,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a:"),t.qZA(),t.TgZ(52,"span",43),t.YNc(53,k,2,0,"span",45),t.YNc(54,U,2,0,"span",45),t._uU(55),t.ALo(56,"currencyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",40),t.YNc(58,I,5,1,"div",44),t.YNc(59,F,5,1,"div",44),t.YNc(60,E,5,1,"div",44),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(61,V,36,16,"ion-card",46),t.YNc(62,it,9,4,"ion-card",47),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(9),t.Q6J("value",n.selectedAccount.sub_name||"\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u0633\u0627\u0628"),t.xp6(5),t.Q6J("ngModel",n.radioVal),t.xp6(11),t.Q6J("ngIf",1==n.radioVal),t.xp6(1),t.Q6J("ngIf",2==n.radioVal),t.xp6(1),t.Q6J("ngIf",2==n.radioVal),t.xp6(12),t.Oqu(n.selectedAccount.sub_type),t.xp6(1),t.Q6J("ngIf",n.selectedAccount.sub_code),t.xp6(6),t.Oqu(t.lcZ(47,18,n.openingBalance)),t.xp6(6),t.Udp("color","success"===n.getBalanceColor()?"#10dc60":"#f04141"),t.xp6(1),t.Q6J("ngIf","credit"==n.currentStatus),t.xp6(1),t.Q6J("ngIf","debit"==n.currentStatus),t.xp6(1),t.hij(" ",t.lcZ(56,20,n.currentBalance)," "),t.xp6(3),t.Q6J("ngIf",n.selectedAccount.cat_name),t.xp6(1),t.Q6J("ngIf",n.selectedAccount.phone&&(1==n.selectedAccount.cat_id||2==n.selectedAccount.cat_id)),t.xp6(1),t.Q6J("ngIf",n.selectedAccount.address&&(1==n.selectedAccount.cat_id||2==n.selectedAccount.cat_id)),t.xp6(1),t.Q6J("ngIf","desktop"==n.device),t.xp6(1),t.Q6J("ngIf","mobile"==n.device)}}function at(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-item",120),t.NdJ("click",function(){const _=t.CHM(n).$implicit;return t.oxw(2).selectAccount(_)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()}if(2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n.sub_name)}}function ct(e,s){1&e&&(t.TgZ(0,"ion-item",115),t.TgZ(1,"ion-label"),t.TgZ(2,"p"),t._uU(3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u062d\u0633\u0627\u0628\u0627\u062a \u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b"),t.qZA(),t.qZA(),t.qZA())}function st(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",115),t.TgZ(2,"ion-searchbar",116),t.NdJ("ngModelChange",function(c){return t.CHM(n),t.oxw().searchTerm=c})("ionInput",function(c){return t.CHM(n),t.oxw().searchAccount(c)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(3,"ion-content",117),t.TgZ(4,"ion-list"),t.YNc(5,at,3,1,"ion-item",118),t.YNc(6,ct,4,0,"ion-item",119),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngModel",n.searchTerm),t.xp6(3),t.Q6J("ngForOf",n.searchedAccounts),t.xp6(1),t.Q6J("ngIf",0===n.searchedAccounts.length)}}const ut=[{path:"",component:(()=>{class e{constructor(n,i,c,_,O,M,x,_t,pt,mt,ht,Ct,Pt){this.platform=n,this.alertController=i,this.router=c,this.storage=_,this.modalController=O,this.loadingController=M,this.datePipe=x,this.api=_t,this.toast=pt,this.sortingService=mt,this.exportService=ht,this.currencyService=Ct,this.cdr=Pt,this.sub_account=[],this.searchedAccounts=[],this.transactions=[],this.displayedTransactions=[],this.sortedTransactions=[],this.currentSort=null,this.isAccountPopoverOpen=!1,this.searchTerm="",this.store_info=null,this.user_info=null,this.year=null,this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.currentBalance=0,this.currentStatus="",this.openingBalance=0,this.radioVal=0,this.startingDate="",this.endDate="",this.currentPage=1,this.pageSize=20,this.hasMoreTransactions=!0,this.totalTransactions=0,this.loading=!1,this.loadingMore=!1,this.showEmpty=!1,this.device="",this.sums={debitTot:0,creditTot:0},this.initializeData(),this.checkPlatform(),this.getAppInfo();let Z=new Date;this.startingDate=this.datePipe.transform(Z,"yyyy-MM-dd")||"",this.endDate=this.datePipe.transform(Z,"yyyy-MM-dd")||""}ngOnInit(){this.initializeCurrency()}ionViewDidEnter(){this.getAppInfo()}initializeCurrency(){return(0,l.mG)(this,void 0,void 0,function*(){yield this.currencyService.initializeCurrency(),yield this.currencyService.loadSupportedCurrencies(),this.store_info&&this.year&&(yield this.currencyService.loadRatesByYear(this.store_info.id,this.year.id)),this.currencySubscription=this.currencyService.getCurrentCurrency().subscribe(n=>{this.cdr.detectChanges()})})}ngOnDestroy(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.currencySubscription&&this.currencySubscription.unsubscribe()}initializeData(){this.selectedAccount={id:"",ac_id:"",sub_name:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628",sub_type:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",sub_code:"",sub_balance:"0",store_id:"",cat_id:"",cat_name:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",ac_behavior:"",phone:"",address:""},this.transactions=[],this.displayedTransactions=[],this.sortedTransactions=[],this.currentPage=1,this.hasMoreTransactions=!1,this.currentBalance=0,this.currentStatus="debit",this.openingBalance=0,this.sums={debitTot:0,creditTot:0},this.showEmpty=!1}checkPlatform(){this.platform.is("desktop")?this.device="desktop":this.platform.is("mobile")&&(this.device="mobile")}getAppInfo(){this.storage.get("USER_INFO").then(n=>{n&&(this.user_info=n)}),this.storage.get("year").then(n=>{n&&(this.year=n)}),this.storage.get("STORE_INFO").then(n=>{n&&(this.store_info=n,this.getAllAccount())})}getAllAccount(){var n,i;!(null===(n=this.store_info)||void 0===n?void 0:n.id)||!(null===(i=this.year)||void 0===i?void 0:i.id)||this.api.getAllAccounts(this.store_info.id,this.year.id).subscribe(c=>{this.sub_account=c.data||[],this.searchedAccounts=this.sub_account},c=>{this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a","danger")})}presentAccountPopover(n){this.searchedAccounts=this.sub_account,this.searchTerm="",this.isAccountPopoverOpen=!0}searchAccount(n){const i=n.target.value.toLowerCase();this.searchedAccounts=i&&""!==i.trim()?this.sub_account.filter(c=>c.sub_name.toLowerCase().indexOf(i)>-1):this.sub_account}selectAccount(n){this.pickAccount(n),this.isAccountPopoverOpen=!1}pickAccount(n){n?(this.selectedAccount={id:n.id,ac_id:n.ac_id,sub_name:n.sub_name,sub_type:n.sub_type,sub_code:n.sub_code,sub_balance:n.sub_balance,store_id:n.store_id,cat_id:n.cat_id,cat_name:n.cat_name,ac_behavior:n.ac_behavior,phone:n.phone||"",address:n.address||""},this.openingBalance=parseFloat(n.sub_balance)||0,this.resetPagination(),this.loadTransactions()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628","danger")}radioChange(n){this.radioVal=parseInt(n.detail.value)}loadTransactions(n=!1){this.selectedAccount.id?(n?(this.loadingMore=!0,this.currentPage++):(this.loading=!0,this.currentPage=1),this.api.getStatementWithBalance(this.store_info.id,this.year.id,this.selectedAccount.id,{search_type:this.radioVal,start_date:this.radioVal>0?this.startingDate:null,end_date:2===this.radioVal?this.endDate:null,page:this.currentPage,limit:this.pageSize}).subscribe(c=>{var _,O;const M=c;if(M&&M.transactions){const x=M.transactions;this.displayedTransactions=n?[...this.displayedTransactions,...x]:x,this.currentBalance=M.current_balance||0,this.currentStatus=M.balance_status||"",this.totalTransactions=(null===(_=M.pagination)||void 0===_?void 0:_.total_count)||0,this.hasMoreTransactions=(null===(O=M.pagination)||void 0===O?void 0:O.has_more)||!1,this.calculateTotals(),this.applySorting(),this.showEmpty=0===this.displayedTransactions.length}this.loading=!1,this.loadingMore=!1},c=>{console.error("Error loading transactions:",c),this.loading=!1,this.loadingMore=!1,n&&this.currentPage--,this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","danger")})):this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0623\u0648\u0644\u0627\u064b","warning")}loadMoreTransactions(){this.hasMoreTransactions&&!this.loadingMore&&this.loadTransactions(!0)}calculateTotals(){this.sums.debitTot=0,this.sums.creditTot=0,this.displayedTransactions.forEach(n=>{this.sums.debitTot+=parseFloat(n.debit)||0,this.sums.creditTot+=parseFloat(n.credit)||0})}resetPagination(){this.currentPage=1,this.hasMoreTransactions=!0,this.displayedTransactions=[],this.sortedTransactions=[],this.showEmpty=!1}search(){this.selectedAccount.id?(this.resetPagination(),this.loadTransactions()):this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0623\u0648\u0644\u0627\u064b","warning")}formatBalance(n){return n||0===n?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(n)):"0.00"}getBalanceColor(){return"credit"===this.currentStatus?"success":"danger"}getTransactionTypeDisplay(n){return"sales"===n.source_type?"\u0645\u0628\u064a\u0639\u0627\u062a":"purchases"===n.source_type?"\u0645\u0634\u062a\u0631\u064a\u0627\u062a":parseFloat(n.credit)>0?"\u0633\u0646\u062f \u0642\u0628\u0636":"\u0633\u0646\u062f \u062f\u0641\u0639"}presentToast(n,i="primary"){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.toast.create({message:n,duration:2e3,color:i,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}refresh(){this.getAllAccount(),this.selectedAccount.id&&(this.resetPagination(),this.loadTransactions())}applySorting(){this.sortedTransactions=this.currentSort?this.sortingService.sortData(this.displayedTransactions,this.currentSort.column,this.currentSort.direction):[...this.displayedTransactions]}sortBy(n){const i=this.sortingService.getNextSortDirection(n,this.currentSort);this.currentSort={column:n,direction:i},this.applySorting()}getSortIcon(n){return this.sortingService.getSortIcon(n,this.currentSort)}exportToPDF(){var n,i;return(0,l.mG)(this,void 0,void 0,function*(){if(!this.displayedTransactions||0===this.displayedTransactions.length)return void(yield this.presentToast("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","warning"));const c={title:this.exportService.generateDynamicTitle("statement2"),subtitle:this.generateSubtitle(),fileName:`statement-${this.selectedAccount.sub_name||"account"}-${this.datePipe.transform(new Date,"yyyy-MM-dd")}`,data:this.displayedTransactions,columns:this.getExportColumns(),userName:(null===(n=this.user_info)||void 0===n?void 0:n.full_name)||(null===(i=this.user_info)||void 0===i?void 0:i.user_name)||"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",pageType:"statement2",currentDate:this.datePipe.transform(new Date,"yyyy-MM-dd")||""};yield this.exportService.exportToPDF(c)})}exportToExcel(){var n,i;return(0,l.mG)(this,void 0,void 0,function*(){if(!this.displayedTransactions||0===this.displayedTransactions.length)return void(yield this.presentToast("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","warning"));const c={title:this.exportService.generateDynamicTitle("statement2"),subtitle:this.generateSubtitle(),fileName:`statement-${this.selectedAccount.sub_name||"account"}-${this.datePipe.transform(new Date,"yyyy-MM-dd")}`,data:this.displayedTransactions,columns:this.getExportColumns(),userName:(null===(n=this.user_info)||void 0===n?void 0:n.full_name)||(null===(i=this.user_info)||void 0===i?void 0:i.user_name)||"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",pageType:"statement2",currentDate:this.datePipe.transform(new Date,"yyyy-MM-dd")||""};yield this.exportService.exportToExcel(c)})}generateSubtitle(){let n="";this.selectedAccount.sub_name&&"\u0644\u0645 \u064a\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628"!==this.selectedAccount.sub_name&&(n=`\u0627\u0644\u062d\u0633\u0627\u0628: ${this.selectedAccount.sub_name}`);const i=this.getDateFilter();return i&&(n&&(n+=" - "),"single"===i.type?n+=`\u0641\u064a \u062a\u0627\u0631\u064a\u062e ${this.exportService.formatDateArabic(i.date)}`:"range"===i.type&&(n+=`\u0641\u064a \u0627\u0644\u0641\u062a\u0631\u0629 \u0645\u0646 ${this.exportService.formatDateArabic(i.startDate)} \u0625\u0644\u0649 ${this.exportService.formatDateArabic(i.endDate)}`)),n}getDateFilter(){return 1===this.radioVal&&this.startingDate?{type:"single",date:this.startingDate}:2===this.radioVal&&this.startingDate&&this.endDate?{type:"range",startDate:this.startingDate,endDate:this.endDate}:null}getExportColumns(){return[{key:"j_date",title:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",width:12,type:"date"},{key:"source_type",title:"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f",width:15,type:"text"},{key:"j_description",title:"\u0627\u0644\u0628\u064a\u0627\u0646",width:25,type:"text"},{key:"debit_amount",title:"\u0645\u062f\u064a\u0646",width:12,type:"currency"},{key:"credit_amount",title:"\u062f\u0627\u0626\u0646",width:12,type:"currency"},{key:"running_balance",title:"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062c\u0627\u0631\u064a",width:15,type:"currency"},{key:"user_name",title:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",width:15,type:"text"}]}getCurrencySymbol(){return this.currencyService.getCurrentCurrencySymbol()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.t4),t.Y36(u.Br),t.Y36(P.F0),t.Y36(m.K),t.Y36(u.IN),t.Y36(u.HT),t.Y36(C.uU),t.Y36(h.r),t.Y36(u.yF),t.Y36(f.$),t.Y36(o.T),t.Y36(r.i),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-statement2"]],viewQuery:function(n,i){if(1&n&&t.Gf(A,5),2&n){let c;t.iGM(c=t.CRH())&&(i.accountPopover=c.first)}},decls:16,vars:3,consts:[[1,"transparent-header"],[1,"transparent-toolbar"],["slot","start"],[1,"glass-menu-button"],[1,"glass-title"],["slot","end"],["fill","clear",3,"click"],["name","refresh-outline"],[1,"modern-content"],["class","loading-container",4,"ngIf"],["class","main-container",4,"ngIf"],["size","auto","side","bottom","alignment","start",3,"isOpen","didDismiss"],["accountPopover",""],[1,"loading-container"],["name","crescent"],[1,"loading-text"],[1,"main-container"],[1,"form-container"],[1,"form-card","compact-card"],[1,"compact-content"],[1,"main-row"],[1,"account-section"],[1,"field-label"],[1,"input-with-icon",3,"click"],["readonly","true","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u0633\u0627\u0628",1,"mini-input","readonly-input",3,"value"],["name","chevron-down-outline",1,"dropdown-icon"],[1,"search-type-section"],[1,"compact-segment",3,"ngModel","ngModelChange","ionChange"],["value","0"],["value","1"],["value","2"],[1,"search-row"],["type","date","class","mini-input date-input",3,"ngModel","ngModelChange",4,"ngIf"],["type","date","placeholder","\u0645\u0646 \u062a\u0627\u0631\u064a\u062e","class","mini-input date-input",3,"ngModel","ngModelChange",4,"ngIf"],["type","date","placeholder","\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e","class","mini-input date-input",3,"ngModel","ngModelChange",4,"ngIf"],["fill","outline",1,"mini-btn","search-btn",3,"click"],["name","search-outline","slot","start"],[1,"info-card"],[1,"info-content"],[1,"info-grid"],[1,"info-column"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","info-item",4,"ngIf"],[4,"ngIf"],["class","table-card","color","primary",4,"ngIf"],["class","mobile-card","color","primary",4,"ngIf"],["type","date",1,"mini-input","date-input",3,"ngModel","ngModelChange"],["type","date","placeholder","\u0645\u0646 \u062a\u0627\u0631\u064a\u062e",1,"mini-input","date-input",3,"ngModel","ngModelChange"],["type","date","placeholder","\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e",1,"mini-input","date-input",3,"ngModel","ngModelChange"],[1,"info-value","address-value"],["color","primary",1,"table-card"],[1,"table-header","ion-no-padding"],[1,"card-header-with-export"],[1,"table-title"],["name","document-text-outline","slot","start"],["class","transaction-count",4,"ngIf"],[3,"hasData","isLoading","exportPDF","exportExcel"],[1,"table-content"],[1,"table-container"],[1,"modern-table"],[1,"sortable-header",3,"click"],[1,"sort-icon",3,"name"],["class","table-row",4,"ngFor","ngForOf"],["class","skeleton-row",4,"ngIf"],["class","load-more-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"transaction-count"],[1,"table-row"],[1,"serial"],[1,"date"],[1,"type"],[1,"transaction-type",3,"ngClass"],[1,"details"],[1,"debit"],["class","amount debit-amount",4,"ngIf"],[1,"credit"],["class","amount credit-amount",4,"ngIf"],[1,"amount","debit-amount"],[1,"amount","credit-amount"],[1,"skeleton-row"],["animated","",2,"width","100%"],[1,"totals-row"],["colspan","4",1,"totals-label"],[1,"debit-total"],[1,"credit-total"],[1,"load-more-container"],["fill","outline",1,"load-more-btn",3,"disabled","click"],["name","crescent","slot","start",4,"ngIf"],["name","chevron-down-outline","slot","start",4,"ngIf"],["name","crescent","slot","start"],["name","chevron-down-outline","slot","start"],[1,"empty-state"],["name","archive-outline",1,"empty-icon"],["color","primary",1,"mobile-card"],[1,"mobile-header"],[1,"mobile-title"],[1,"mobile-content"],["toggleIcon","caret-down-circle","toggleIconSlot","end",3,"value",4,"ngFor","ngForOf"],["toggleIcon","caret-down-circle","toggleIconSlot","end",3,"value"],["slot","header","color","light"],["name","newspaper-outline","color","primary","slot","start"],[1,"accordion-header"],[1,"header-main"],[1,"transaction-type-mobile"],[1,"transaction-date"],[1,"header-amount"],["class","credit-amount",4,"ngIf"],["class","debit-amount",4,"ngIf"],["slot","content",1,"ion-padding"],["lines","none"],[1,"credit-amount"],[1,"debit-amount"],["fill","outline","expand","block",1,"load-more-btn",3,"disabled","click"],["dir","rtl"],["placeholder","\u0628\u062d\u062b \u0639\u0646 \u062d\u0633\u0627\u0628","dir","rtl","show-clear-button","focus",3,"ngModel","ngModelChange","ionInput"],["dir","rtl",1,"popover-content"],["button","","dir","rtl",3,"click",4,"ngFor","ngForOf"],["dir","rtl",4,"ngIf"],["button","","dir","rtl",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-buttons",2),t._UZ(3,"ion-menu-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5,"\u0643\u0634\u0641 \u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(6,"ion-buttons",5),t._UZ(7,"app-currency-switcher"),t.TgZ(8,"ion-button",6),t.NdJ("click",function(){return i.refresh()}),t._UZ(9,"ion-icon",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-content",8),t.YNc(11,T,4,0,"div",9),t.YNc(12,rt,63,22,"div",10),t.qZA(),t.TgZ(13,"ion-popover",11,12),t.NdJ("didDismiss",function(){return i.isAccountPopoverOpen=!1}),t.YNc(15,st,7,3,"ng-template"),t.qZA()),2&n&&(t.xp6(11),t.Q6J("ngIf",!i.user_info||!i.store_info),t.xp6(1),t.Q6J("ngIf",i.user_info&&i.store_info),t.xp6(1),t.Q6J("isOpen",i.isAccountPopoverOpen))},directives:[u.Gu,u.sr,u.Sm,u.fG,u.wd,a.d,u.YG,u.gu,u.W2,C.O5,u.d8,u.PQ,u.PM,u.FN,u.Q$,u.pK,u.j9,u.cJ,u.QI,p.JJ,p.On,u.GO,u.Zi,u.Dq,d.a,C.sg,C.mk,u.CK,u.eh,u.We,u.Ie,u.q_,u.uN,u.VI],pipes:[y.v,C.uU],styles:['.modern-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .05) );--color: var(--ion-color-dark);min-height:100vh;padding:8px;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px)}.modern-content[_ngcontent-%COMP%]:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,rgba(74,144,226,.1),rgba(80,227,194,.1),rgba(245,166,35,.1));animation:gradientShift 15s ease infinite;z-index:-1}@keyframes gradientShift{0%,to{background:linear-gradient(45deg,rgba(74,144,226,.1),rgba(80,227,194,.1),rgba(245,166,35,.1))}50%{background:linear-gradient(225deg,rgba(245,166,35,.1),rgba(74,144,226,.1),rgba(80,227,194,.1))}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;gap:16px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:48px;height:48px;--color: var(--ion-color-primary)}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;margin:0}.main-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%], .mobile-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:20px;box-shadow:0 8px 32px #0000001a,inset 0 1px #fff3;margin:0;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1)}.form-card[_ngcontent-%COMP%]:hover, .info-card[_ngcontent-%COMP%]:hover, .table-card[_ngcontent-%COMP%]:hover, .mobile-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 48px #00000026,inset 0 1px #ffffff4d}.form-card.compact-card[_ngcontent-%COMP%], .info-card.compact-card[_ngcontent-%COMP%], .table-card.compact-card[_ngcontent-%COMP%], .mobile-card.compact-card[_ngcontent-%COMP%]{border-radius:12px}.form-card.compact-card[_ngcontent-%COMP%]   .compact-content[_ngcontent-%COMP%], .info-card.compact-card[_ngcontent-%COMP%]   .compact-content[_ngcontent-%COMP%], .table-card.compact-card[_ngcontent-%COMP%]   .compact-content[_ngcontent-%COMP%], .mobile-card.compact-card[_ngcontent-%COMP%]   .compact-content[_ngcontent-%COMP%]{padding:12px 16px}.card-header[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(74,144,226,.1),rgba(80,227,194,.1));border-bottom:1px solid rgba(255,255,255,.1);padding:20px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--ion-color-dark);margin:0}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);font-weight:400}.compact-content[_ngcontent-%COMP%], .info-content[_ngcontent-%COMP%], .table-content[_ngcontent-%COMP%], .mobile-content[_ngcontent-%COMP%]{padding:20px}.compact-content[_ngcontent-%COMP%]{padding:10px 16px}.main-row[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-end;margin-bottom:16px}.account-section[_ngcontent-%COMP%], .search-type-section[_ngcontent-%COMP%]{flex:1;width:50%}.field-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:var(--ion-color-dark);margin-bottom:6px}.compact-segment[_ngcontent-%COMP%]{border-radius:12px;background:rgba(255,255,255,.8);border:1px solid rgba(0,0,0,.1);overflow:hidden;min-height:48px;width:100%}.compact-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: transparent;--background-checked: var(--ion-color-primary);--color: var(--ion-color-dark);--color-checked: white;border-radius:8px;margin:4px;transition:all .3s ease;min-height:40px;flex:1}.compact-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{box-shadow:0 4px 12px #4a90e24d;transform:translateY(-1px)}.compact-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:hover:not(.segment-button-checked){background:rgba(74,144,226,.1)}.compact-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;padding:8px 12px;display:block}.field-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px}.field-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.field-label-right[_ngcontent-%COMP%]{min-width:120px;font-weight:500;color:var(--ion-color-dark);text-align:right}.field-with-balance[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.input-with-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:all .3s ease;width:100%}.input-with-icon[_ngcontent-%COMP%]   .readonly-input[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .9);--border-color: rgba(0, 0, 0, .2);--border-width: 1px;--border-style: solid;--border-radius: 12px;--padding-start: 16px;--padding-end: 45px;--color: var(--ion-color-dark);--placeholder-color: var(--ion-color-medium);cursor:pointer;transition:all .3s ease;min-height:48px;font-size:14px;font-weight:500;border:1px solid rgba(0,0,0,.2)}.input-with-icon[_ngcontent-%COMP%]   .readonly-input[_ngcontent-%COMP%]::part(native){cursor:pointer}.input-with-icon[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);color:var(--ion-color-medium);font-size:18px;pointer-events:none;transition:all .3s ease}.input-with-icon[_ngcontent-%COMP%]:hover   .readonly-input[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, 1);border-color:var(--ion-color-primary);box-shadow:0 4px 16px #4a90e233;transform:translateY(-1px)}.input-with-icon[_ngcontent-%COMP%]:hover   .dropdown-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);transform:translateY(-50%) scale(1.1)}.input-with-icon[_ngcontent-%COMP%]:active   .readonly-input[_ngcontent-%COMP%]{transform:translateY(0)}.filter-segment[_ngcontent-%COMP%]{border-radius:12px;background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.1);overflow:hidden}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: transparent;--background-checked: var(--ion-color-primary);--color: var(--ion-color-dark);--color-checked: white;border-radius:8px;margin:4px;transition:all .3s ease}.filter-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{box-shadow:0 4px 12px #4a90e24d}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.search-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-top:16px}.mini-input[_ngcontent-%COMP%], .mini-btn[_ngcontent-%COMP%]{height:40px;border-radius:12px;transition:all .3s ease}.mini-input[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .9);--border-color: rgba(0, 0, 0, .2);--border-width: 1px;--border-style: solid;border:1px solid rgba(0,0,0,.2)}.mini-input[_ngcontent-%COMP%]:hover, .mini-input[_ngcontent-%COMP%]:focus{--background: rgba(255, 255, 255, 1);border-color:var(--ion-color-primary);box-shadow:0 4px 16px #4a90e233}.search-btn[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white;font-weight:500}.search-btn[_ngcontent-%COMP%]:hover{--background: var(--ion-color-primary-shade);transform:translateY(-1px);box-shadow:0 6px 20px #4a90e266}.info-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:12px;box-shadow:0 4px 16px #0000001a;margin:0;overflow:hidden}.info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{padding:12px 16px}.info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:16px;gap:16px;align-items:start}.info-card[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.info-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:13px;color:var(--ion-color-medium);font-weight:500;white-space:nowrap}.info-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:15px;color:var(--ion-color-dark);font-weight:600;word-wrap:break-word}.info-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.address-value[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word}.table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-primary-shade));color:#fff}.table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]{color:#fff;display:flex;align-items:center;gap:8px}.table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .table-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .mobile-card[color=primary][_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{color:#fffc}.table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(255,255,255,.9);margin:0 -20px -20px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0;font-size:14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(74,144,226,.1),rgba(80,227,194,.1))}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 12px;text-align:right;font-weight:600;color:var(--ion-color-dark);border-bottom:2px solid rgba(74,144,226,.2);white-space:nowrap}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:all .2s ease;border-bottom:1px solid rgba(0,0,0,.05)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:rgba(74,144,226,.05);transform:scale(1.001)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:right;vertical-align:middle;color:var(--ion-color-dark)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.serial[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-medium);width:60px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.date[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:13px;width:100px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.type[_ngcontent-%COMP%]{width:120px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.details[_ngcontent-%COMP%]{max-width:200px;word-break:break-word}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.debit[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.credit[_ngcontent-%COMP%]{font-weight:600;text-align:center;width:100px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .transaction-type[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .transaction-type.sales-type[_ngcontent-%COMP%]{background:rgba(16,220,96,.1);color:var(--ion-color-success);border:1px solid rgba(16,220,96,.2)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .transaction-type.purchase-type[_ngcontent-%COMP%]{background:rgba(245,166,35,.1);color:var(--ion-color-warning);border:1px solid rgba(245,166,35,.2)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .transaction-type.voucher-type[_ngcontent-%COMP%]{background:rgba(74,144,226,.1);color:var(--ion-color-primary);border:1px solid rgba(74,144,226,.2)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-family:Courier New,monospace}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .amount.debit-amount[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .amount.credit-amount[_ngcontent-%COMP%]{color:var(--ion-color-success)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px}.modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(74,144,226,.1),rgba(80,227,194,.1));border-top:2px solid rgba(74,144,226,.2)}.modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px;font-weight:600}.modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.totals-label[_ngcontent-%COMP%]{text-align:right;color:var(--ion-color-dark);font-size:16px}.modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.debit-total[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.credit-total[_ngcontent-%COMP%]{text-align:center;font-size:16px}.modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.debit-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]   td.credit-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;color:#000!important}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .transaction-type-mobile[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .header-amount[_ngcontent-%COMP%]{text-align:left;font-weight:600;font-family:Courier New,monospace}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .header-amount[_ngcontent-%COMP%]   .credit-amount[_ngcontent-%COMP%]{color:var(--ion-color-success)}.mobile-card[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .header-amount[_ngcontent-%COMP%]   .debit-amount[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{--background: rgba(74, 144, 226, .1);--border-color: rgba(74, 144, 226, .3);--color: var(--ion-color-primary);border-radius:12px;height:44px;font-weight:500;transition:all .3s ease}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover:not([disabled]){--background: rgba(74, 144, 226, .2);transform:translateY(-2px);box-shadow:0 8px 24px #4a90e24d}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[disabled][_ngcontent-%COMP%]{opacity:.6}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.8}.totals-footer[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-top:1px solid rgba(0,0,0,.1);padding:16px}.totals-footer[_ngcontent-%COMP%]   .totals-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;max-width:600px;margin:0 auto;gap:20px}.totals-footer[_ngcontent-%COMP%]   .totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{text-align:center}.totals-footer[_ngcontent-%COMP%]   .totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);margin-bottom:4px}.totals-footer[_ngcontent-%COMP%]   .totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;font-family:Courier New,monospace}.totals-footer[_ngcontent-%COMP%]   .totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value.debit-total[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.totals-footer[_ngcontent-%COMP%]   .totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value.credit-total[_ngcontent-%COMP%]{color:var(--ion-color-success)}ion-popover[_ngcontent-%COMP%]{--max-height: 300px;--min-height: 200px;--width: 320px;--border-radius: 12px;--box-shadow: 0 8px 32px rgba(0, 0, 0, .15)}ion-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{--background: white;max-height:250px;overflow-y:auto}ion-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent;padding:0}ion-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: rgba(0, 0, 0, .1);--min-height: 44px;--padding-start: 16px;--padding-end: 16px;font-size:14px}ion-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: rgba(74, 144, 226, .1)}ion-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:8px 0;font-weight:500;color:var(--ion-color-dark)}ion-popover[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: white;--border-color: rgba(0, 0, 0, .1);--min-height: 56px}ion-popover[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--background: rgba(244, 245, 248, .6);--border-radius: 8px;--box-shadow: none;--color: var(--ion-color-dark);--placeholder-color: var(--ion-color-medium);padding:8px}ion-popover[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]::part(native){border-radius:8px}@media (max-width: 768px){ion-popover[_ngcontent-%COMP%]{--width: 280px;--max-height: 250px}}@media (max-width: 768px){.modern-content[_ngcontent-%COMP%]{padding:6px}.main-row[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.account-section[_ngcontent-%COMP%], .search-type-section[_ngcontent-%COMP%]{width:100%}.compact-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;padding:6px 8px}.field-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:8px}.field-row[_ngcontent-%COMP%]   .field-label-right[_ngcontent-%COMP%]{min-width:auto;text-align:left}.filter-search-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:8px}.filter-search-row[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%], .filter-search-row[_ngcontent-%COMP%]   .mini-input[_ngcontent-%COMP%], .filter-search-row[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{width:100%}.info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:12px}.info-card[_ngcontent-%COMP%]   .info-column[_ngcontent-%COMP%]{gap:8px}.info-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:12px}.info-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:13px}.totals-container[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px 0;border-bottom:1px solid rgba(0,0,0,.05)}.totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.totals-container[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{margin-bottom:0;text-align:left}}@media (max-width: 480px){.card-header[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]{padding:16px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]{font-size:16px}.compact-content[_ngcontent-%COMP%], .info-content[_ngcontent-%COMP%], .table-content[_ngcontent-%COMP%], .mobile-content[_ngcontent-%COMP%]{padding:16px}.info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:8px}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{padding:6px}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.filter-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}}.card-header-with-export[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:transparent;border-bottom:1px solid rgba(255,255,255,.1)}.card-header-with-export[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600;color:#fff;display:flex;align-items:center;flex:1}.card-header-with-export[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:8px}.card-header-with-export[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;margin-right:8px}']}),e})()}];let lt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[P.Bz.forChild(ut)],P.Bz]}),e})();var dt=g(62279);let gt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[C.ez,p.u5,u.Pc,lt,dt.m]]}),e})()}}]);
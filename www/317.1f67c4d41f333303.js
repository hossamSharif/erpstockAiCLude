"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[317],{52562:(O,x,l)=>{l.d(x,{$:()=>m});var b=l(29863);let m=(()=>{class a{constructor(){}compareStrings(r,t){return r||t?r?t?r.localeCompare(t,"ar",{numeric:!0,sensitivity:"base",caseFirst:"lower"}):1:-1:0}compareNumbers(r,t){return(parseFloat(null==r?void 0:r.toString())||0)-(parseFloat(null==t?void 0:t.toString())||0)}compareDates(r,t){const u=new Date(r),h=new Date(t);return u.getTime()-h.getTime()}sortData(r,t,u){return r&&0!==r.length?[...r].sort((P,C)=>{let _=0;const g=P[t],p=C[t];return null==g&&null==p?0:null==g?"asc"===u?-1:1:null==p?"asc"===u?1:-1:(_=this.isDateColumn(t)||this.isDateValue(g)?this.compareDates(g,p):this.isNumericColumn(t)||this.isNumericValue(g)?this.compareNumbers(g,p):this.compareStrings(String(g),String(p)),"desc"===u?-_:_)}):r}isDateColumn(r){return["j_date","pay_date","date","created_at","updated_at"].includes(r)}isDateValue(r){return"string"==typeof r?/^\d{4}-\d{2}-\d{2}$|^\d{2}\/\d{2}\/\d{4}$/.test(r)||!isNaN(Date.parse(r)):r instanceof Date}isNumericColumn(r){return["amount","total","balance","price","quantity","qty","tot_pr","discount","pay","changee","sub_balance","current_balance","opening_balance","debit","credit","j_pay","perch_price","pay_price","id"].some(u=>r.toLowerCase().includes(u))}isNumericValue(r){return!isNaN(parseFloat(r))&&isFinite(r)}getSortIcon(r,t){return t&&t.column===r?"asc"===t.direction?"chevron-up-outline":"chevron-down-outline":"swap-vertical-outline"}getNextSortDirection(r,t){return t&&t.column===r&&"asc"===t.direction?"desc":"asc"}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=b.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},20317:(O,x,l)=>{l.r(x),l.d(x,{SubAccount2PageModule:()=>V});var b=l(69808),m=l(34182),a=l(23349),f=l(94030),r=l(70655),t=l(29863),u=l(90849),h=l(91472),P=l(52562),C=l(79002),_=l(90733);const g=["actionsPopover"];function p(i,c){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"ion-spinner",15),t.TgZ(2,"p",16),t._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),t.qZA(),t.qZA())}function v(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).clearSearch()}),t._UZ(1,"ion-icon",51),t.qZA()}}function A(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).clearAllFilters()}),t._UZ(1,"ion-icon",53),t._uU(2," \u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631 "),t.qZA()}}function y(i,c){1&i&&(t.TgZ(0,"tr",54),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",55),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",55),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",55),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",55),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",55),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",55),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ion-skeleton-text",55),t.qZA(),t.qZA())}function T(i,c){1&i&&(t.TgZ(0,"tr",54),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",55),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",55),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",55),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",55),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",55),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",55),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ion-skeleton-text",55),t.qZA(),t.qZA())}function Z(i,c){1&i&&(t.TgZ(0,"tr",54),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",55),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",55),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",55),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",55),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",55),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",55),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ion-skeleton-text",55),t.qZA(),t.qZA())}function k(i,c){if(1&i&&(t.TgZ(0,"span",71),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.Udp("color","debit"===e.balance_type?"#10dc60":"#f04141"),t.xp6(1),t.hij(" ","debit"===e.balance_type?"\u0645\u062f\u064a\u0646":"\u062f\u0627\u0626\u0646"," ")}}function w(i,c){1&i&&t._UZ(0,"ion-spinner",72)}function S(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"tr",56),t.TgZ(1,"td",57),t._uU(2),t.qZA(),t.TgZ(3,"td",58),t._uU(4),t.qZA(),t.TgZ(5,"td",59),t._uU(6),t.qZA(),t.TgZ(7,"td",60),t.TgZ(8,"span",61),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",62),t._uU(11),t.qZA(),t.TgZ(12,"td",63),t.TgZ(13,"div",64),t.TgZ(14,"span",65),t._uU(15),t.qZA(),t.YNc(16,k,2,3,"span",66),t.YNc(17,w,1,0,"ion-spinner",67),t.qZA(),t.qZA(),t.TgZ(18,"td",68),t.TgZ(19,"ion-button",69),t.NdJ("click",function(o){const d=t.CHM(e).$implicit;return t.oxw(2).presentActionsPopover(o,d)}),t._UZ(20,"ion-icon",70),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=c.$implicit,n=c.index,o=t.oxw(2);t.xp6(2),t.Oqu((o.currentPage-1)*o.pageSize+n+1),t.xp6(2),t.Oqu(e.sub_code),t.xp6(2),t.Oqu(e.sub_name),t.xp6(2),t.ekj("type-credit","credit"==e.sub_type)("type-debit","debit"==e.sub_type),t.xp6(1),t.hij(" ","credit"==e.sub_type?"\u062f\u0627\u0626\u0646":"\u0645\u062f\u064a\u0646"," "),t.xp6(2),t.Oqu(e.cat_name||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"),t.xp6(3),t.Udp("color","success"===o.getBalanceColor(e.current_balance)?"#10dc60":"#f04141"),t.xp6(1),t.hij(" ",o.formatBalance(e.current_balance)||"0.00"," "),t.xp6(1),t.Q6J("ngIf",0!=e.current_balance),t.xp6(1),t.Q6J("ngIf",e.loadingBalance),t.xp6(2),t.MGl("id","actions-trigger-",n,"")}}function q(i,c){1&i&&(t.TgZ(0,"h3"),t._uU(1,"\u0644\u0627 \u062a\u0648\u062c\u062f \u062d\u0633\u0627\u0628\u0627\u062a"),t.qZA())}function F(i,c){1&i&&(t.TgZ(0,"h3"),t._uU(1,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0644\u0644\u0628\u062d\u062b"),t.qZA())}function U(i,c){1&i&&(t.TgZ(0,"p"),t._uU(1,"\u0627\u0628\u062f\u0623 \u0628\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"),t.qZA())}function N(i,c){1&i&&(t.TgZ(0,"p"),t._uU(1,"\u062c\u0631\u0628 \u0627\u0644\u0628\u062d\u062b \u0628\u0643\u0644\u0645\u0629 \u0623\u062e\u0631\u0649 \u0623\u0648 \u0627\u0645\u0633\u062d \u0627\u0644\u0628\u062d\u062b \u0644\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a"),t.qZA())}function I(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-button",77),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clearSearch()}),t._UZ(1,"ion-icon",78),t._uU(2," \u0645\u0633\u062d \u0627\u0644\u0628\u062d\u062b "),t.qZA()}}function D(i,c){if(1&i&&(t.TgZ(0,"div",73),t._UZ(1,"ion-icon",74),t.YNc(2,q,2,0,"h3",75),t.YNc(3,F,2,0,"h3",75),t.YNc(4,U,2,0,"p",75),t.YNc(5,N,2,0,"p",75),t.YNc(6,I,3,0,"ion-button",76),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.searchTerm||""===e.searchTerm.trim()),t.xp6(1),t.Q6J("ngIf",e.searchTerm&&""!==e.searchTerm.trim()),t.xp6(1),t.Q6J("ngIf",!e.searchTerm||""===e.searchTerm.trim()),t.xp6(1),t.Q6J("ngIf",e.searchTerm&&""!==e.searchTerm.trim()),t.xp6(1),t.Q6J("ngIf",e.searchTerm&&""!==e.searchTerm.trim())}}function J(i,c){1&i&&t._UZ(0,"ion-icon",83)}function z(i,c){1&i&&t._UZ(0,"ion-spinner",84)}function Y(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",79),t.TgZ(1,"ion-button",80),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).loadMoreAccounts()}),t.YNc(2,J,1,0,"ion-icon",81),t.YNc(3,z,1,0,"ion-spinner",82),t._uU(4),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.loadingMore),t.xp6(1),t.Q6J("ngIf",!e.loadingMore),t.xp6(1),t.Q6J("ngIf",e.loadingMore),t.xp6(1),t.hij(" ",e.loadingMore?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"," ")}}function Q(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"div",18),t.TgZ(2,"ion-card",19),t.TgZ(3,"ion-card-content",20),t.TgZ(4,"div",21),t.TgZ(5,"div",22),t.TgZ(6,"ion-input",23),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().searchTerm=o})("ionInput",function(o){return t.CHM(e),t.oxw().searchAccounts(o)}),t._UZ(7,"ion-icon",24),t.qZA(),t.YNc(8,v,2,0,"ion-button",25),t.qZA(),t.TgZ(9,"ion-button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().openCreateModal()}),t._UZ(10,"ion-icon",27),t._uU(11," \u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"ion-card",28),t.TgZ(13,"ion-card-header",29),t.TgZ(14,"div",30),t.TgZ(15,"ion-card-title",31),t._uU(16,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a"),t.qZA(),t.TgZ(17,"div",32),t.TgZ(18,"ion-button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleCategoryFilter()}),t._UZ(19,"ion-icon",34),t._uU(20," \u062a\u0635\u0646\u064a\u0641 "),t.qZA(),t.TgZ(21,"ion-button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleBalanceTypeFilter()}),t._UZ(22,"ion-icon",35),t._uU(23," \u0646\u0648\u0639 \u0627\u0644\u0631\u0635\u064a\u062f "),t.qZA(),t.TgZ(24,"ion-button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleHasBalanceFilter()}),t._UZ(25,"ion-icon",36),t._uU(26," \u0631\u0635\u064a\u062f > 0 "),t.qZA(),t.TgZ(27,"ion-button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleSubTypeFilter()}),t._UZ(28,"ion-icon",37),t._uU(29," \u0637\u0628\u064a\u0639\u0629 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.YNc(30,A,3,0,"ion-button",38),t.qZA(),t.TgZ(31,"div",39),t.TgZ(32,"app-export-buttons",40),t.NdJ("exportPDF",function(){return t.CHM(e),t.oxw().exportToPDF()})("exportExcel",function(){return t.CHM(e),t.oxw().exportToExcel()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"ion-card-content",41),t.TgZ(34,"div",42),t.TgZ(35,"table",43),t.TgZ(36,"thead"),t.TgZ(37,"tr"),t.TgZ(38,"th"),t._uU(39,"\u0645"),t.qZA(),t.TgZ(40,"th",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortBy("sub_code")}),t._UZ(41,"ion-icon",45),t._uU(42," \u0627\u0644\u0643\u0648\u062f "),t.qZA(),t.TgZ(43,"th",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortBy("sub_name")}),t._UZ(44,"ion-icon",45),t._uU(45," \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.TgZ(46,"th",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortBy("sub_type")}),t._UZ(47,"ion-icon",45),t._uU(48," \u0627\u0644\u0646\u0648\u0639 "),t.qZA(),t.TgZ(49,"th",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortBy("cat_name")}),t._UZ(50,"ion-icon",45),t._uU(51," \u0627\u0644\u062a\u0635\u0646\u064a\u0641 "),t.qZA(),t.TgZ(52,"th",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortBy("current_balance")}),t._UZ(53,"ion-icon",45),t._uU(54," \u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a "),t.qZA(),t.TgZ(55,"th"),t._uU(56,"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"tbody"),t.YNc(58,y,15,0,"tr",46),t.YNc(59,T,15,0,"tr",46),t.YNc(60,Z,15,0,"tr",46),t.YNc(61,S,21,15,"tr",47),t.qZA(),t.qZA(),t.YNc(62,D,7,5,"div",48),t.YNc(63,Y,5,4,"div",49),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.searchTerm),t.xp6(2),t.Q6J("ngIf",e.searchTerm&&""!==e.searchTerm.trim()),t.xp6(10),t.ekj("active",e.activeFilters.cat_name),t.xp6(3),t.ekj("active",e.activeFilters.balance_type),t.xp6(3),t.ekj("active",e.activeFilters.has_balance),t.xp6(3),t.ekj("active",e.activeFilters.sub_type),t.xp6(3),t.Q6J("ngIf",e.hasActiveFilters()),t.xp6(2),t.Q6J("hasData",e.filteredAccounts&&e.filteredAccounts.length>0)("isLoading",e.loading),t.xp6(9),t.Q6J("name",e.getSortIcon("sub_code")),t.xp6(3),t.Q6J("name",e.getSortIcon("sub_name")),t.xp6(3),t.Q6J("name",e.getSortIcon("sub_type")),t.xp6(3),t.Q6J("name",e.getSortIcon("cat_name")),t.xp6(3),t.Q6J("name",e.getSortIcon("current_balance")),t.xp6(5),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngForOf",e.sortedAccounts),t.xp6(1),t.Q6J("ngIf",0===e.filteredAccounts.length&&!e.loading),t.xp6(1),t.Q6J("ngIf",e.hasMoreAccounts&&!e.loading)}}function B(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content"),t.TgZ(1,"ion-list"),t.TgZ(2,"ion-item",85),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.editAccount(o.selectedAccount)}),t._UZ(3,"ion-icon",86),t.TgZ(4,"ion-label"),t._uU(5,"\u062a\u0639\u062f\u064a\u0644"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function H(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item",85),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).selectCategoryFilter(s.cat_name)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t._UZ(3,"ion-checkbox",88),t.qZA()}if(2&i){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.Oqu(e.cat_name),t.xp6(1),t.Q6J("checked",n.filters.cat_name===e.cat_name)}}function E(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content",87),t.TgZ(1,"ion-list"),t.TgZ(2,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectCategoryFilter("")}),t.TgZ(3,"ion-label"),t._uU(4,"\u062c\u0645\u064a\u0639 \u0627\u0644\u062a\u0635\u0646\u064a\u0641\u0627\u062a"),t.qZA(),t._UZ(5,"ion-checkbox",88),t.qZA(),t.YNc(6,H,4,2,"ion-item",89),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("checked",""===e.filters.cat_name),t.xp6(1),t.Q6J("ngForOf",e.categories)}}function $(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content",87),t.TgZ(1,"ion-list"),t.TgZ(2,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectBalanceTypeFilter("")}),t.TgZ(3,"ion-label"),t._uU(4,"\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639"),t.qZA(),t._UZ(5,"ion-checkbox",88),t.qZA(),t.TgZ(6,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectBalanceTypeFilter("debit")}),t.TgZ(7,"ion-label"),t._uU(8,"\u0645\u062f\u064a\u0646"),t.qZA(),t._UZ(9,"ion-checkbox",88),t.qZA(),t.TgZ(10,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectBalanceTypeFilter("credit")}),t.TgZ(11,"ion-label"),t._uU(12,"\u062f\u0627\u0626\u0646"),t.qZA(),t._UZ(13,"ion-checkbox",88),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("checked",""===e.filters.balance_type),t.xp6(4),t.Q6J("checked","debit"===e.filters.balance_type),t.xp6(4),t.Q6J("checked","credit"===e.filters.balance_type)}}function j(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content",87),t.TgZ(1,"ion-list"),t.TgZ(2,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectSubTypeFilter("")}),t.TgZ(3,"ion-label"),t._uU(4,"\u062c\u0645\u064a\u0639 \u0627\u0644\u0637\u0628\u0627\u0626\u0639"),t.qZA(),t._UZ(5,"ion-checkbox",88),t.qZA(),t.TgZ(6,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectSubTypeFilter("debit")}),t.TgZ(7,"ion-label"),t._uU(8,"\u0645\u062f\u064a\u0646"),t.qZA(),t._UZ(9,"ion-checkbox",88),t.qZA(),t.TgZ(10,"ion-item",85),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectSubTypeFilter("credit")}),t.TgZ(11,"ion-label"),t._uU(12,"\u062f\u0627\u0626\u0646"),t.qZA(),t._UZ(13,"ion-checkbox",88),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("checked",""===e.filters.sub_type),t.xp6(4),t.Q6J("checked","debit"===e.filters.sub_type),t.xp6(4),t.Q6J("checked","credit"===e.filters.sub_type)}}const W=[{path:"",component:(()=>{class i{constructor(e,n,o,s,d,M,R,K,X,tt){this.storage=e,this.alertController=n,this.modalController=o,this.loadingController=s,this.datePipe=d,this.api=M,this.toast=R,this.router=K,this.sortingService=X,this.exportService=tt,this.account_category=[],this.sub_account=[],this.main_account=[],this.displayedAccounts=[],this.filteredAccounts=[],this.sortedAccounts=[],this.currentSort=null,this.searchTerm="",this.currentPage=1,this.pageSize=20,this.hasMoreAccounts=!0,this.loading=!1,this.loadingMore=!1,this.isActionsPopoverOpen=!1,this.selectedAccount=null,this.radioVal=0,this.radioVal2=0,this.status="save",this.codeSe="",this.sklton=!1,this.currentSearchTerm="",this.filters={cat_name:"",balance_type:"",sub_type:"",has_balance:!1},this.activeFilters={cat_name:!1,balance_type:!1,sub_type:!1,has_balance:!1},this.showCategoryFilter=!1,this.showBalanceTypeFilter=!1,this.showSubTypeFilter=!1,this.categories=[],this.initializeData(),this.getAppInfo()}ngOnInit(){}ionViewWillEnter(){this.store_info&&this.store_info.id&&this.loadAccountsWithPagination()}ngOnDestroy(){this.searchTimeout&&clearTimeout(this.searchTimeout)}initializeData(){this.selectedAccount=null,this.selectedCategory={id:"",cat_name:""},this.payInvo={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedMainAccount={ac_id:"",actype_id:"",ac_name:"",ac_code:"",eng_name:"",ac_type:""},this.store_info={id:"",store_ref:"",store_name:"",location:""},this.displayedAccounts=[],this.filteredAccounts=[],this.sortedAccounts=[],this.currentPage=1,this.hasMoreAccounts=!0,this.searchTerm="",this.currentSearchTerm=""}presentToast(e,n){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:n,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}radioChange(e){}radioChange2(e){}pickAccount(e){this.showSklt(),this.selectedCategory.cat_name="";let n=this.sub_account.filter(o=>o.sub_name==e.target.value);if(n.length>0){this.selectedAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,cat_id:n[0].cat_id,cat_name:n[0].cat_name,ac_behavior:n[0].ac_behavior,phone:n[0].phone,address:n[0].address},this.payInvo=this.selectedAccount,this.status="edit";let o=this.account_category.filter(s=>s.id==+this.selectedAccount.cat_id);this.pickAccountCategory(o[0].cat_name,"fisrtLoad")}else this.presentToast(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger")}searchCode(e){this.showSklt();let n=this.sub_account.filter(o=>o.sub_code==e);n.length>0?(this.selectedAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,cat_id:n[0].cat_id,cat_name:n[0].cat_name,ac_behavior:n[0].ac_behavior,phone:n[0].phone,address:n[0].address},this.payInvo=this.selectedAccount,this.status="edit"):this.presentToast("\u062e\u0637\u0623 , \u0644\u0627 \u064a\u0648\u062c\u062f \u062d\u0633\u0627\u0628 \u0628\u0647\u0630\u0627 \u0627\u0644\u0631\u0645\u0632 ","danger")}searchId(e){this.showSklt();let n=this.sub_account.filter(o=>o.id==e);n.length>0?(this.selectedAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,cat_id:n[0].cat_id,cat_name:n[0].cat_name,ac_behavior:n[0].ac_behavior,phone:n[0].phone,address:n[0].address},this.payInvo=this.selectedAccount,this.status="edit"):this.presentToast("\u062e\u0637\u0623 , \u0644\u0627 \u064a\u0648\u062c\u062f \u062d\u0633\u0627\u0628 \u0628\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645 ","danger")}pickAccountCategory(e,n){let o;o=n?e:e.target.value;let s=this.account_category.filter(d=>d.cat_name==o);s.length>0?(this.selectedCategory={id:s[0].id,cat_name:s[0].cat_name},this.selectedAccount.cat_id=s[0].cat_id,this.selectedAccount.cat_name=s[0].cat_name,this.payInvo.cat_id=this.selectedCategory.id,this.payInvo.cat_name=this.selectedCategory.cat_name):this.presentToast(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062a\u0635\u0646\u064a\u0641 ","danger")}showSklt(){this.sklton=!0,setTimeout(()=>{this.sklton=!1},3e3)}pickMainAccount(e,n){let o;o=n?e:e.target.value;let s=this.main_account.filter(d=>d.ac_name==o);s.length>0?(this.selectedMainAccount={ac_id:s[0].ac_id,ac_name:s[0].ac_name,actype_id:s[0].actype_id,ac_code:s[0].ac_code,eng_name:s[0].eng_name,ac_type:s[0].ac_type},this.payInvo.ac_id=this.selectedMainAccount.ac_id,this.payInvo.sub_type=this.selectedMainAccount.ac_type,this.payInvo.store_id=this.store_info.id,this.payInvo.ac_behavior=this.selectedMainAccount.ac_type):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger")}getAppInfo(){this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.loadAccountsWithPagination())})}prepareInvo(){this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedCategory={id:"",cat_name:""},this.payInvo={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedMainAccount={ac_id:"",actype_id:"",ac_name:"",ac_code:"",eng_name:"",ac_type:""},this.status="save"}refresh(){this.showSklt(),this.prepareInvo()}loadAccountsWithPagination(e=!1){let n;e?(this.loadingMore=!0,this.currentPage++):(this.loading=!0,this.currentPage=1,this.displayedAccounts=[],this.filteredAccounts=[]),console.log("API call with params:",{store_id:this.store_info.id,year_id:this.year.id,page:this.currentPage,pageSize:this.pageSize,searchTerm:this.currentSearchTerm,filters:this.filters}),this.filters.has_balance?(console.log("Using positive balance endpoint"),n=this.api.getAccountsWithPositiveBalance(this.store_info.id,this.year.id,this.currentPage,this.pageSize,this.currentSearchTerm,{cat_name:this.filters.cat_name,balance_type:this.filters.balance_type,sub_type:this.filters.sub_type})):(console.log("Using regular endpoint"),n=this.api.getAccountsWithBalance(this.store_info.id,this.year.id,this.currentPage,this.pageSize,this.currentSearchTerm,this.filters)),n.subscribe(o=>{const s=o.data||[];console.log(`Loading page ${this.currentPage}: Got ${s.length} accounts`),console.log(`Load more: ${e}, Current displayed: ${this.displayedAccounts.length}`),this.displayedAccounts=e?[...this.displayedAccounts,...s]:s,this.filteredAccounts=[...this.displayedAccounts],this.applySorting(),this.hasMoreAccounts=s.length===this.pageSize,console.log(`Total displayed: ${this.displayedAccounts.length}, Has more: ${this.hasMoreAccounts}`),this.loading=!1,this.loadingMore=!1,e||(this.getMainAccount(),this.loadCategories())},o=>{console.error("Error loading accounts:",o),this.loading=!1,this.loadingMore=!1,e&&this.currentPage--,this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a","danger")})}getAllAccount(){this.loadAccountsWithPagination()}loadMoreAccounts(){this.hasMoreAccounts&&!this.loadingMore&&this.loadAccountsWithPagination(!0)}searchAccounts(e){console.log("Search input changed, this.searchTerm:",this.searchTerm),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{console.log("Performing search with this.searchTerm:",this.searchTerm),this.currentSearchTerm=this.searchTerm||"",console.log("Updated currentSearchTerm to:",this.currentSearchTerm),this.performSearch()},300)}performSearch(){console.log("performSearch called with currentSearchTerm:",this.currentSearchTerm),this.currentPage=1,this.hasMoreAccounts=!0,this.loadAccountsWithPagination(!1)}clearSearch(){this.searchTerm="",this.currentSearchTerm="",this.searchTimeout&&clearTimeout(this.searchTimeout),this.performSearch()}toggleCategoryFilter(){this.showCategoryFilter=!this.showCategoryFilter}toggleBalanceTypeFilter(){this.showBalanceTypeFilter=!this.showBalanceTypeFilter}toggleHasBalanceFilter(){this.filters.has_balance=!this.filters.has_balance,this.activeFilters.has_balance=this.filters.has_balance,this.applyFilters()}toggleSubTypeFilter(){this.showSubTypeFilter=!this.showSubTypeFilter}selectCategoryFilter(e){this.filters.cat_name=e,this.activeFilters.cat_name=""!==e,this.showCategoryFilter=!1,this.applyFilters()}selectBalanceTypeFilter(e){this.filters.balance_type=e,this.activeFilters.balance_type=""!==e,this.showBalanceTypeFilter=!1,this.applyFilters()}selectSubTypeFilter(e){this.filters.sub_type=e,this.activeFilters.sub_type=""!==e,this.showSubTypeFilter=!1,this.applyFilters()}clearAllFilters(){this.filters={cat_name:"",balance_type:"",sub_type:"",has_balance:!1},this.activeFilters={cat_name:!1,balance_type:!1,sub_type:!1,has_balance:!1},this.applyFilters()}hasActiveFilters(){return Object.values(this.activeFilters).some(e=>e)}applyFilters(){this.currentPage=1,this.hasMoreAccounts=!0,this.loadAccountsWithPagination(!1)}openCreateModal(){this.router.navigate(["/account-modal"],{queryParams:{mode:"create"}})}presentActionsPopover(e,n){this.selectedAccount=n,this.isActionsPopoverOpen=!0,this.actionsPopover&&(this.actionsPopover.event=e)}dismissActionsPopover(){return(0,r.mG)(this,void 0,void 0,function*(){this.actionsPopover&&(yield this.actionsPopover.dismiss()),this.isActionsPopoverOpen=!1})}editAccount(e){return(0,r.mG)(this,void 0,void 0,function*(){yield this.dismissActionsPopover(),this.router.navigate(["/account-modal"],{queryParams:{mode:"edit",account:JSON.stringify(e)}})})}formatBalance(e){return e||0===e?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e):"0.00"}getBalanceColor(e){return e||0===e?e>=0?"success":"danger":"medium"}getAccountCategory(){this.api.getAccountCategory(this.store_info.id).subscribe(e=>{this.account_category=e.data},e=>{})}loadCategories(){this.api.getAccountCategory(this.store_info.id).subscribe(e=>{this.categories=e.data||[],console.log("Categories loaded:",this.categories)},e=>{console.log("Error loading categories:",e)})}getMainAccount(){this.api.getMainAccounts().subscribe(e=>{this.main_account=e.data,this.getAccountCategory()},e=>{})}presentLoadingWithOptions(e){return(0,r.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:e,translucent:!0,backdropDismiss:!1});yield n.present(),yield n.onDidDismiss()})}save(){if(1==this.validate()){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ...");let e=[];e.push(this.payInvo),this.api.createMultiAccount(e).subscribe(n=>{"Post Not Created"!=n.message?(this.prepareInvo(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"),this.getAllAccount()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},n=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}}update(){1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.updateSubAccount(this.payInvo).subscribe(e=>{"Post Not Created"!=e.message?(this.prepareInvo(),this.presentToast("\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d","success"),this.getAllAccount()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()}))}validate(){let e=[];this.sub_account&&(e=this.sub_account.filter(o=>o.sub_name==this.payInvo.sub_name),e.length>0&&"edit"!=this.status&&this.presentToast("\u062a\u0637\u0627\u0628\u0642 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0639 \u062d\u0633\u0627\u0628 \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627   ","danger"));let n=[];return this.sub_account&&(n=this.sub_account.filter(o=>o.sub_code==this.payInvo.sub_code),n.length>0&&"edit"!=this.status&&this.presentToast("\u062a\u0637\u0627\u0628\u0642 \u0641\u064a \u0631\u0645\u0632 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0639 \u062d\u0633\u0627\u0628 \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627   ","danger")),""==this.payInvo.sub_name?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger"),!1):""==this.payInvo.sub_type?(this.presentToast(" \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0637\u0628\u064a\u0639\u0629 \u0627\u0644\u062d\u0633\u0627\u0628","danger"),!1):""!=this.selectedMainAccount.ac_id&&""!=this.selectedMainAccount.ac_name||(this.presentToast(" \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064a\u0633\u064a","danger"),!1)}applySorting(){this.sortedAccounts=this.currentSort?this.sortingService.sortData(this.filteredAccounts,this.currentSort.column,this.currentSort.direction):[...this.filteredAccounts]}sortBy(e){const n=this.sortingService.getNextSortDirection(e,this.currentSort);this.currentSort={column:e,direction:n},this.applySorting()}getSortIcon(e){return this.sortingService.getSortIcon(e,this.currentSort)}exportToPDF(){var e,n;return(0,r.mG)(this,void 0,void 0,function*(){if(!this.filteredAccounts||0===this.filteredAccounts.length)return void(yield this.presentToast("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","warning"));const o={title:this.exportService.generateDynamicTitle("sub-account2"),subtitle:this.generateSubtitle(),fileName:`sub-accounts-${this.datePipe.transform(new Date,"yyyy-MM-dd")}`,data:this.filteredAccounts,columns:this.getExportColumns(),userName:(null===(e=this.user_info)||void 0===e?void 0:e.full_name)||(null===(n=this.user_info)||void 0===n?void 0:n.user_name)||"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",pageType:"sub-account2",currentDate:this.datePipe.transform(new Date,"yyyy-MM-dd")||""};yield this.exportService.exportToPDF(o)})}exportToExcel(){var e,n;return(0,r.mG)(this,void 0,void 0,function*(){if(!this.filteredAccounts||0===this.filteredAccounts.length)return void(yield this.presentToast("\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u062a\u0635\u062f\u064a\u0631","warning"));const o={title:this.exportService.generateDynamicTitle("sub-account2"),subtitle:this.generateSubtitle(),fileName:`sub-accounts-${this.datePipe.transform(new Date,"yyyy-MM-dd")}`,data:this.filteredAccounts,columns:this.getExportColumns(),userName:(null===(e=this.user_info)||void 0===e?void 0:e.full_name)||(null===(n=this.user_info)||void 0===n?void 0:n.user_name)||"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641",pageType:"sub-account2",currentDate:this.datePipe.transform(new Date,"yyyy-MM-dd")||""};yield this.exportService.exportToExcel(o)})}generateSubtitle(){let e="";this.currentSearchTerm&&""!==this.currentSearchTerm.trim()&&(e=`\u0627\u0644\u0628\u062d\u062b: ${this.currentSearchTerm}`);const n=[];if(this.filters.cat_name&&""!==this.filters.cat_name&&n.push(`\u0627\u0644\u062a\u0635\u0646\u064a\u0641: ${this.filters.cat_name}`),this.filters.balance_type&&""!==this.filters.balance_type&&n.push("\u0646\u0648\u0639 \u0627\u0644\u0631\u0635\u064a\u062f: "+("debit"===this.filters.balance_type?"\u0645\u062f\u064a\u0646":"\u062f\u0627\u0626\u0646")),this.filters.sub_type&&""!==this.filters.sub_type&&n.push("\u0637\u0628\u064a\u0639\u0629 \u0627\u0644\u062d\u0633\u0627\u0628: "+("debit"===this.filters.sub_type?"\u0645\u062f\u064a\u0646":"\u062f\u0627\u0626\u0646")),this.filters.has_balance&&n.push("\u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u0630\u0627\u062a \u0627\u0644\u0631\u0635\u064a\u062f \u0641\u0642\u0637"),n.length>0){const o=n.join(" - ");e=e?`${e} | ${o}`:o}return e}getExportColumns(){return[{key:"sub_code",title:"\u0643\u0648\u062f \u0627\u0644\u062d\u0633\u0627\u0628",width:15,type:"text"},{key:"sub_name",title:"\u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628",width:30,type:"text"},{key:"sub_type",title:"\u0646\u0648\u0639 \u0627\u0644\u062d\u0633\u0627\u0628",width:15,type:"text"},{key:"cat_name",title:"\u0627\u0644\u062a\u0635\u0646\u064a\u0641",width:20,type:"text"},{key:"current_balance",title:"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a",width:20,type:"currency"}]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.K),t.Y36(a.Br),t.Y36(a.IN),t.Y36(a.HT),t.Y36(b.uU),t.Y36(h.r),t.Y36(a.yF),t.Y36(f.F0),t.Y36(P.$),t.Y36(C.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sub-account2"]],viewQuery:function(e,n){if(1&e&&t.Gf(g,5),2&e){let o;t.iGM(o=t.CRH())&&(n.actionsPopover=o.first)}},decls:21,vars:7,consts:[[1,"transparent-header"],[1,"transparent-toolbar"],["slot","start"],[1,"glass-menu-button"],[1,"glass-title"],[1,"modern-content"],["class","loading-container",4,"ngIf"],["class","main-container",4,"ngIf"],[3,"isOpen","backdropDismiss","didDismiss"],["actionsPopover",""],[3,"isOpen","didDismiss"],["categoryFilter",""],["balanceTypeFilter",""],["subTypeFilter",""],[1,"loading-container"],["name","crescent"],[1,"loading-text"],[1,"main-container"],[1,"form-container"],[1,"search-card"],[1,"compact-content"],[1,"search-header"],[1,"search-input-container"],["placeholder","\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0643\u0648\u062f...",1,"search-input",3,"ngModel","ngModelChange","ionInput"],["name","search-outline","slot","start"],["fill","clear","size","small","class","clear-search-btn",3,"click",4,"ngIf"],["fill","outline","color","primary",1,"create-btn",3,"click"],["name","add-outline","slot","start"],["color","primary",1,"table-card"],[1,"card-header"],[1,"header-content"],[1,"card-title"],[1,"filter-buttons-center"],["fill","outline","size","small",1,"filter-btn",3,"click"],["name","funnel-outline","slot","start"],["name","swap-horizontal-outline","slot","start"],["name","cash-outline","slot","start"],["name","list-outline","slot","start"],["fill","clear","size","small","class","clear-filters-btn",3,"click",4,"ngIf"],[1,"export-buttons-left"],[3,"hasData","isLoading","exportPDF","exportExcel"],[1,"table-content"],[1,"glass-table-container"],[1,"glass-table"],[1,"sortable-header",3,"click"],[1,"sort-icon",3,"name"],["class","loading-row",4,"ngIf"],["class","data-row",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","load-more-container",4,"ngIf"],["fill","clear","size","small",1,"clear-search-btn",3,"click"],["name","close-outline"],["fill","clear","size","small",1,"clear-filters-btn",3,"click"],["name","close-outline","slot","start"],[1,"loading-row"],["animated","",2,"width","100%"],[1,"data-row"],[1,"serial-cell"],[1,"code-cell"],[1,"name-cell"],[1,"type-cell"],[1,"type-badge"],[1,"category-cell"],[1,"balance-cell"],[1,"balance-info"],[1,"balance-amount"],["class","balance-type",3,"color",4,"ngIf"],["name","dots","color","primary",4,"ngIf"],[1,"actions-cell"],["fill","clear","size","small",1,"actions-btn",3,"id","click"],["name","ellipsis-vertical-outline"],[1,"balance-type"],["name","dots","color","primary"],[1,"empty-state"],["name","business-outline",1,"empty-icon"],[4,"ngIf"],["fill","outline","class","clear-search-btn",3,"click",4,"ngIf"],["fill","outline",1,"clear-search-btn",3,"click"],["name","refresh-outline","slot","start"],[1,"load-more-container"],["fill","outline","color","primary",1,"load-more-btn",3,"disabled","click"],["name","chevron-down-outline","slot","start",4,"ngIf"],["name","crescent","slot","start",4,"ngIf"],["name","chevron-down-outline","slot","start"],["name","crescent","slot","start"],["button","",3,"click"],["name","create-outline","slot","start","color","primary"],[1,"filter-popover"],["slot","end",3,"checked"],["button","",3,"click",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-buttons",2),t._UZ(3,"ion-menu-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5,"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content",5),t.YNc(7,p,4,0,"div",6),t.YNc(8,Q,64,24,"div",7),t.qZA(),t.TgZ(9,"ion-popover",8,9),t.NdJ("didDismiss",function(){return n.isActionsPopoverOpen=!1}),t.YNc(11,B,6,0,"ng-template"),t.qZA(),t.TgZ(12,"ion-popover",10,11),t.NdJ("didDismiss",function(){return n.showCategoryFilter=!1}),t.YNc(14,E,7,2,"ng-template"),t.qZA(),t.TgZ(15,"ion-popover",10,12),t.NdJ("didDismiss",function(){return n.showBalanceTypeFilter=!1}),t.YNc(17,$,14,3,"ng-template"),t.qZA(),t.TgZ(18,"ion-popover",10,13),t.NdJ("didDismiss",function(){return n.showSubTypeFilter=!1}),t.YNc(20,j,14,3,"ng-template"),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf",!n.user_info||!n.store_info),t.xp6(1),t.Q6J("ngIf",n.user_info&&n.store_info),t.xp6(1),t.Q6J("isOpen",n.isActionsPopoverOpen)("backdropDismiss",!0),t.xp6(3),t.Q6J("isOpen",n.showCategoryFilter),t.xp6(3),t.Q6J("isOpen",n.showBalanceTypeFilter),t.xp6(3),t.Q6J("isOpen",n.showSubTypeFilter))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.wd,a.W2,b.O5,a.d8,a.PQ,a.PM,a.FN,a.pK,a.j9,m.JJ,m.On,a.gu,a.YG,a.Zi,a.Dq,_.a,b.sg,a.CK,a.q_,a.Ie,a.Q$,a.nz,a.w],styles:['[_ngcontent-%COMP%]:root{--liquid-glass-bg: rgba(255, 255, 255, .15);--liquid-glass-bg-light: rgba(255, 255, 255, .25);--liquid-glass-bg-dark: rgba(0, 0, 0, .15);--liquid-glass-border: rgba(255, 255, 255, .2);--liquid-glass-shadow: 0 8px 32px rgba(0, 0, 0, .15);--liquid-glass-highlight: rgba(255, 255, 255, .4);--glass-blur: 20px;--glass-blur-strong: 40px;--glass-border-radius: 20px;--glass-border-radius-small: 12px;--glass-accent-primary: rgba(0, 122, 255, .8);--glass-accent-success: rgba(52, 199, 89, .8);--glass-accent-danger: rgba(255, 59, 48, .8);--glass-transition: all .3s cubic-bezier(.4, 0, .2, 1);--glass-transition-fast: all .15s cubic-bezier(.4, 0, .2, 1);--glass-scale-hover: 1.02;--glass-scale-active: .98}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--liquid-glass-bg: rgba(0, 0, 0, .25);--liquid-glass-bg-light: rgba(255, 255, 255, .1);--liquid-glass-bg-dark: rgba(0, 0, 0, .4);--liquid-glass-border: rgba(255, 255, 255, .1);--liquid-glass-shadow: 0 8px 32px rgba(0, 0, 0, .3);--liquid-glass-highlight: rgba(255, 255, 255, .2)}}.transparent-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:1000;background:transparent;box-shadow:none;border:none}.transparent-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-width: 0;--border-color: transparent;--color: rgba(0, 0, 0, .8);--min-height: 60px;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);background:linear-gradient(180deg,rgba(255,255,255,.25) 0%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.05) 100%);border-bottom:1px solid rgba(255,255,255,.1)}.transparent-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.3) 0%,transparent 100%);opacity:.6;pointer-events:none}.transparent-toolbar[_ngcontent-%COMP%]   .glass-menu-button[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .15);--color: rgba(0, 0, 0, .8);--border-radius: var(--glass-border-radius-small);margin:8px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);transition:var(--glass-transition)}.transparent-toolbar[_ngcontent-%COMP%]   .glass-menu-button[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .25);transform:translateY(-2px)}.transparent-toolbar[_ngcontent-%COMP%]   .glass-title[_ngcontent-%COMP%]{color:#000c;font-weight:700;font-size:1.1rem;text-shadow:0 1px 2px rgba(255,255,255,.5)}.modern-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 50%,#667eea 100%);background-size:400% 400%;animation:gradientShift 15s ease infinite;min-height:100vh;direction:rtl;--color: rgba(0, 0, 0, .8);overflow:hidden}@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;position:relative;z-index:2}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: rgba(0, 122, 255, .8);width:50px;height:50px;animation:spinnerGlow 2s ease-in-out infinite}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#000c;font-size:1.1rem;font-weight:600;margin:16px 0 0;position:relative;z-index:2;text-shadow:0 1px 2px rgba(255,255,255,.5)}@keyframes spinnerGlow{0%,to{box-shadow:0 0 #007aff00}50%{box-shadow:0 0 20px #007aff4d}}.main-container[_ngcontent-%COMP%]{padding:2rem;padding-top:80px;max-width:100%;margin:0 auto;min-height:100vh;overflow-y:auto;display:flex;flex-direction:column;align-items:center;position:relative;z-index:1}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:95%;max-width:1200px;min-width:600px;position:relative;z-index:2;gap:1.5rem;animation:glassFloat 6s ease-in-out infinite}@keyframes glassFloat{0%,to{transform:translateY(0) rotateX(0)}50%{transform:translateY(-8px) rotateX(1deg)}}.search-card[_ngcontent-%COMP%]{margin:0;border-radius:var(--glass-border-radius);background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:.5px solid rgba(128,128,128,.3);box-shadow:0 10px 30px #00000026,0 4px 8px #0000001a,var(--liquid-glass-shadow),0 0 0 1px var(--liquid-glass-highlight) inset,0 1px 0 var(--liquid-glass-highlight) inset;display:flex;flex-direction:column;overflow:hidden;position:relative;transition:var(--glass-transition);transform-style:preserve-3d;perspective:1000px}.search-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.3;pointer-events:none;border-radius:var(--glass-border-radius) var(--glass-border-radius) 0 0;z-index:1}.search-card[_ngcontent-%COMP%]   .compact-content[_ngcontent-%COMP%]{padding:1.5rem;position:relative;z-index:2}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:space-between}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{flex:0 0 60%;max-width:400px;position:relative;display:flex;align-items:center}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;--background: rgba(255, 255, 255, .25);--color: rgba(0, 0, 0, .8);--placeholder-color: rgba(0, 0, 0, .5);--border-radius: var(--glass-border-radius-small);--padding: .75rem 1rem;border:1px solid rgba(255,255,255,.3);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);transition:var(--glass-transition);font-size:.9rem;box-shadow:0 2px 8px #0000001a}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus-within{--background: rgba(255, 255, 255, .35);border-color:var(--glass-accent-primary);box-shadow:0 0 0 3px #007aff33;transform:translateY(-2px)}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0009;font-size:1.1rem}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);z-index:10;--background: rgba(255, 255, 255, .3);--color: rgba(0, 0, 0, .6);--border-radius: 50%;--padding: .3rem;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);transition:var(--glass-transition)}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{--background: rgba(255, 59, 48, .3);--color: rgba(255, 59, 48, .9);transform:translateY(-50%) scale(1.1)}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{--background: transparent;--color: var(--glass-accent-primary);--border-color: var(--glass-accent-primary);--border-radius: var(--glass-border-radius-small);--padding: .75rem 1.5rem;font-weight:600;font-size:.9rem;transition:var(--glass-transition);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid var(--glass-accent-primary);box-shadow:0 2px 8px #007aff33}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:hover{--background: var(--glass-accent-primary);--color: white;transform:translateY(-2px);box-shadow:0 4px 12px #007aff4d}.search-card[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem}.table-card[_ngcontent-%COMP%]{margin:0;border-radius:var(--glass-border-radius);background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:.5px solid rgba(128,128,128,.3);box-shadow:0 10px 30px #00000026,0 4px 8px #0000001a,var(--liquid-glass-shadow),0 0 0 1px var(--liquid-glass-highlight) inset,0 1px 0 var(--liquid-glass-highlight) inset;display:flex;flex-direction:column;overflow:hidden;position:relative;transition:var(--glass-transition);transform-style:preserve-3d;perspective:1000px}.table-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.3;pointer-events:none;border-radius:var(--glass-border-radius) var(--glass-border-radius) 0 0;z-index:1}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:var(--ion-color-primary, #3880ff)!important;color:#fff;padding:1rem 1.5rem;position:relative;z-index:2}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;grid-gap:1rem;gap:1rem;min-height:50px}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;font-weight:700;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.2)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;justify-content:center;flex-wrap:wrap}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{--background: transparent;--color: white;--border-color: rgba(255, 255, 255, .4);--border-width: 1px;--border-radius: 20px;--padding: .4rem .8rem;font-size:.75rem;font-weight:500;height:32px;min-width:auto;transition:var(--glass-transition);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .15);--border-color: rgba(255, 255, 255, .6);transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .2);--border-color: rgba(255, 255, 255, .8);--color: white;font-weight:600}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]{--background: rgba(244, 67, 54, .1);--color: #f44336;--border-color: rgba(244, 67, 54, .4);--border-width: 1px;--border-radius: 20px;--padding: .4rem .8rem;font-size:.75rem;font-weight:500;height:32px;min-width:auto;transition:var(--glass-transition)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]:hover{--background: rgba(244, 67, 54, .2);--border-color: #f44336;transform:translateY(-1px);box-shadow:0 4px 8px #f4433633}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons-center[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#f44336;font-size:.9rem}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .export-buttons-left[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{--background: transparent;--color: white;--border-color: rgba(255, 255, 255, .4);--border-width: 1px;--border-radius: 20px;--padding: .4rem .8rem;font-size:.75rem;font-weight:500;height:32px;min-width:auto;transition:var(--glass-transition);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .15);--border-color: rgba(255, 255, 255, .6);transform:translateY(-1px)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .2);--border-color: rgba(255, 255, 255, .8);--color: white;box-shadow:0 2px 8px #0003}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.9rem;margin-right:.3rem}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]{--background: rgba(255, 59, 48, .2);--color: white;--border-color: rgba(255, 59, 48, .6);--border-width: 1px;--border-radius: 20px;--padding: .4rem .8rem;font-size:.75rem;font-weight:500;height:32px;min-width:auto;transition:var(--glass-transition);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]:hover{--background: rgba(255, 59, 48, .3);--border-color: rgba(255, 59, 48, .8);transform:translateY(-1px)}.table-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.9rem;margin-right:.3rem}.table-card[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]{padding:0;position:relative;z-index:2}.glass-table-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.glass-table-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:30%;background:linear-gradient(180deg,rgba(255,255,255,.15) 0%,transparent 100%);opacity:.6;pointer-events:none;z-index:1}.glass-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;position:relative;z-index:2}.glass-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:rgba(255,255,255,.4)}.glass-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem .8rem;text-align:center;font-weight:700;color:#000c;font-size:.85rem;text-shadow:0 1px 2px rgba(255,255,255,.5);position:relative;border-bottom:1px solid rgba(255,255,255,.3)}.glass-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:last-child){border-left:1px solid rgba(255,255,255,.3)}.glass-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.4) 0%,transparent 100%);opacity:.7;pointer-events:none}.glass-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:rgba(255,255,255,.25);transition:var(--glass-transition)}.glass-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.35);transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.glass-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:rgba(255,255,255,.15)}.glass-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even):hover{background:rgba(255,255,255,.3)}.glass-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .8rem;text-align:center;border-bottom:1px solid rgba(255,255,255,.2);color:#000c;font-size:.85rem;font-weight:500;position:relative;text-shadow:0 1px 2px rgba(255,255,255,.5)}.glass-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:last-child){border-left:1px solid rgba(255,255,255,.2)}.glass-table[_ngcontent-%COMP%]   .loading-row[_ngcontent-%COMP%]{background:rgba(255,255,255,.1)}.glass-table[_ngcontent-%COMP%]   .loading-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem .8rem}.glass-table[_ngcontent-%COMP%]   .serial-cell[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;color:#000000b3;font-size:.8rem;text-shadow:0 1px 2px rgba(255,255,255,.5);width:60px;min-width:60px;max-width:60px}.glass-table[_ngcontent-%COMP%]   .code-cell[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:600;color:var(--glass-accent-primary);font-size:.8rem;text-shadow:0 1px 2px rgba(255,255,255,.5)}.glass-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]{font-weight:600;color:#000000e6;text-align:right;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:1rem;text-shadow:0 1px 2px rgba(255,255,255,.5)}.glass-table[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.3rem .8rem;border-radius:20px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.02em;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}.glass-table[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]   .type-badge.type-credit[_ngcontent-%COMP%]{background:rgba(52,199,89,.3);color:#006400e6;border:1px solid rgba(52,199,89,.5);box-shadow:0 2px 8px #34c75933}.glass-table[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]   .type-badge.type-debit[_ngcontent-%COMP%]{background:rgba(255,149,0,.3);color:#964b00e6;border:1px solid rgba(255,149,0,.5);box-shadow:0 2px 8px #ff950033}.glass-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{color:#0009;font-style:italic;font-size:.8rem;text-shadow:0 1px 2px rgba(255,255,255,.5)}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:700;font-family:Courier New,monospace;font-size:.85rem;padding:.3rem .6rem;border-radius:8px;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);text-shadow:0 1px 2px rgba(255,255,255,.5);margin-left:.3rem}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-amount[style*="color: rgb(16, 220, 96)"][_ngcontent-%COMP%]{background:rgba(52,199,89,.3);color:#006400e6!important;border:1px solid rgba(52,199,89,.5)}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-amount[style*="color: rgb(240, 65, 65)"][_ngcontent-%COMP%]{background:rgba(255,59,48,.3);color:#960000e6!important;border:1px solid rgba(255,59,48,.5)}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-type[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;padding:.2rem .4rem;border-radius:6px;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);text-shadow:0 1px 2px rgba(255,255,255,.5);margin-right:.3rem}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-type[style*="color: rgb(16, 220, 96)"][_ngcontent-%COMP%]{background:rgba(52,199,89,.2);color:#006400e6!important;border:1px solid rgba(52,199,89,.4)}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-type[style*="color: rgb(240, 65, 65)"][_ngcontent-%COMP%]{background:rgba(255,59,48,.2);color:#960000e6!important;border:1px solid rgba(255,59,48,.4)}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: var(--glass-accent-primary);width:16px;height:16px}.glass-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   .actions-btn[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .3);--color: rgba(0, 0, 0, .7);--border-radius: var(--glass-border-radius-small);--padding: .5rem;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.3);transition:var(--glass-transition)}.glass-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   .actions-btn[_ngcontent-%COMP%]:hover{--background: rgba(0, 122, 255, .3);--color: rgba(0, 0, 0, .9);transform:translateY(-2px);box-shadow:0 4px 12px #007aff4d}.glass-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   .actions-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 1.5rem;color:#0009}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;color:#0006}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#000c;font-size:1.2rem;font-weight:600;text-shadow:0 1px 2px rgba(255,255,255,.5)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#00000080;text-shadow:0 1px 2px rgba(255,255,255,.5)}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1.5rem;background:rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.2)}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .3);--color: rgba(0, 0, 0, .8);--border-color: rgba(255, 255, 255, .5);--border-radius: var(--glass-border-radius-small);--padding: .75rem 1.5rem;font-weight:600;font-size:.9rem;transition:var(--glass-transition);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.5);box-shadow:0 2px 8px #0000001a}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover:not([disabled]){--background: rgba(255, 255, 255, .4);transform:translateY(-2px);box-shadow:0 4px 12px #ffffff4d}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[disabled][_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--color: rgba(0, 0, 0, .4);--border-color: rgba(255, 255, 255, .2);opacity:.6}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}ion-popover[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95);--color: rgba(0, 0, 0, .9);border-radius:var(--glass-border-radius);box-shadow:var(--liquid-glass-shadow);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur))}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95)}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:rgba(255,255,255,.95)}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--color: rgba(0, 0, 0, .9);--border-color: rgba(0, 0, 0, .1);--padding: .75rem 1rem;--min-height: 48px;transition:var(--glass-transition)}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: rgba(0, 0, 0, .1)}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-child{--border-width: 0}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem;margin-left:.75rem}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#000000e6!important}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:first-child   ion-icon[_ngcontent-%COMP%]{color:var(--glass-accent-primary)}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-child   ion-icon[_ngcontent-%COMP%]{color:var(--glass-accent-danger)}ion-popover.filter-popover[_ngcontent-%COMP%]{--width: 200px;--max-width: 250px;--background: rgba(240, 240, 240, .98)}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: rgba(240, 240, 240, .98)}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:rgba(240,240,240,.98)}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding: .5rem 1rem;--min-height: 40px;--background: transparent;--color: rgba(0, 0, 0, .9);--border-color: rgba(0, 0, 0, .1)}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: rgba(0, 0, 0, .1)}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#000000e6!important}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--size: 16px;--border-width: 1px;--border-color: rgba(0, 0, 0, .6);--background: rgba(255, 255, 255, .9);--checkmark-color: rgba(0, 0, 0, .9)}ion-popover.filter-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-checkbox.checkbox-checked[_ngcontent-%COMP%]{--background: rgba(0, 122, 255, .9);--border-color: rgba(0, 122, 255, .9);--checkmark-color: white}@media (max-width: 768px){.main-container[_ngcontent-%COMP%]{padding:1rem;padding-top:70px}.form-container[_ngcontent-%COMP%]{width:100%;min-width:300px}.search-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.search-header[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{flex:1;max-width:100%}.search-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.glass-table-container[_ngcontent-%COMP%]{overflow-x:auto}.glass-table[_ngcontent-%COMP%]{min-width:800px}.glass-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .glass-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem .5rem}.glass-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]{max-width:150px}}@media (max-width: 480px){.main-container[_ngcontent-%COMP%]{padding:.5rem;padding-top:70px}.glass-table[_ngcontent-%COMP%]{min-width:700px}.glass-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .glass-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.7rem;padding:.5rem .3rem}.glass-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]{max-width:120px}.glass-table[_ngcontent-%COMP%]   .balance-cell[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.7rem}}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.data-row[_ngcontent-%COMP%]{animation:fadeIn .3s ease-out}.custInput[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.3);border-radius:var(--glass-border-radius-small);background:rgba(255,255,255,.2);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}.cust-card[_ngcontent-%COMP%]{border-radius:var(--glass-border-radius);box-shadow:var(--liquid-glass-shadow);background:var(--liquid-glass-bg-light);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur))}.custRow[_ngcontent-%COMP%]{margin-top:2rem}.bgP[_ngcontent-%COMP%]{--background: var(--glass-accent-primary);--color: white}']}),i})()}];let G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[f.Bz.forChild(W)],f.Bz]}),i})();var L=l(62279);let V=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[b.ez,m.u5,a.Pc,G,L.m]]}),i})()}}]);
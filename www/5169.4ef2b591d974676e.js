"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5169],{95169:(E,_,l)=>{l.r(_),l.d(_,{Cash2PageModule:()=>H});var u=l(69808),m=l(34182),s=l(23349),b=l(94030),h=l(70655),e=l(29863),f=l(17158),x=l(65465),v=l(90849),C=l(91472),M=l(742);const P=["popoverNotif22"];function A(o,c){1&o&&(e.TgZ(0,"div",11),e._UZ(1,"ion-spinner",12),e.TgZ(2,"p",13),e._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),e.qZA(),e.qZA())}function y(o,c){if(1&o&&(e.TgZ(0,"ion-select-option",43),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.sub_name," ")}}function O(o,c){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.Udp("color","success"===t.getBalanceColor(t.sourceAccountBalance)?"#10dc60":"#f04141"),e.xp6(1),e.hij(" ",t.formatBalance(t.sourceAccountBalance)," ")}}function T(o,c){1&o&&(e.TgZ(0,"div",50),e._UZ(1,"ion-spinner",51),e.TgZ(2,"span"),e._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),e.qZA(),e.qZA())}function w(o,c){1&o&&(e.TgZ(0,"div",52),e._uU(1," \u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0631\u0635\u064a\u062f "),e.qZA())}function j(o,c){if(1&o&&(e.TgZ(0,"div",44),e.TgZ(1,"div",45),e._uU(2,"\u0627\u0644\u0631\u0635\u064a\u062f:"),e.qZA(),e.YNc(3,O,2,3,"div",46),e.YNc(4,T,4,0,"div",47),e.YNc(5,w,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.loadingSourceBalance&&t.sourceAccountBalance),e.xp6(1),e.Q6J("ngIf",t.loadingSourceBalance),e.xp6(1),e.Q6J("ngIf",!t.loadingSourceBalance&&!t.sourceAccountBalance&&t.selectedBankAccount.sub_name)}}function k(o,c){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.Udp("color","success"===t.getBalanceColor(t.selectedAccountBalance)?"#10dc60":"#f04141"),e.xp6(1),e.hij(" ",t.formatBalance(t.selectedAccountBalance)," ")}}function Z(o,c){1&o&&(e.TgZ(0,"div",50),e._UZ(1,"ion-spinner",51),e.TgZ(2,"span"),e._uU(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),e.qZA(),e.qZA())}function q(o,c){1&o&&(e.TgZ(0,"div",52),e._uU(1," \u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0631\u0635\u064a\u062f "),e.qZA())}function F(o,c){if(1&o&&(e.TgZ(0,"div",44),e.TgZ(1,"div",45),e._uU(2,"\u0627\u0644\u0631\u0635\u064a\u062f:"),e.qZA(),e.YNc(3,k,2,3,"div",46),e.YNc(4,Z,4,0,"div",47),e.YNc(5,q,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.loadingAccountBalance&&t.selectedAccountBalance),e.xp6(1),e.Q6J("ngIf",t.loadingAccountBalance),e.xp6(1),e.Q6J("ngIf",!t.loadingAccountBalance&&!t.selectedAccountBalance&&t.selectedFromAccount.sub_name)}}function z(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"ion-card",16),e.TgZ(3,"ion-card-header",17),e.TgZ(4,"ion-card-title",18),e._uU(5,"\u0633\u0646\u062f\u0627\u062a \u0627\u0644\u0642\u0628\u0636 \u0648\u0627\u0644\u062f\u0641\u0639"),e.qZA(),e.qZA(),e.TgZ(6,"ion-card-content",19),e.TgZ(7,"div",20),e.TgZ(8,"ion-label",21),e._uU(9,"\u0646\u0648\u0639 \u0627\u0644\u0633\u0646\u062f"),e.qZA(),e.TgZ(10,"ion-segment",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().jType=i})("ionChange",function(i){return e.CHM(t),e.oxw().radioChange(i)}),e.TgZ(11,"ion-segment-button",23),e.TgZ(12,"div",24),e._UZ(13,"ion-icon",25),e.TgZ(14,"span"),e._uU(15,"\u0633\u0646\u062f \u062f\u0641\u0639"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"ion-segment-button",26),e.TgZ(17,"div",24),e._UZ(18,"ion-icon",27),e.TgZ(19,"span"),e._uU(20,"\u0633\u0646\u062f \u0642\u0628\u0636"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",20),e.TgZ(22,"ion-label",21),e._uU(23,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.qZA(),e.TgZ(24,"ion-input",28),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().journal.j_date=i}),e.qZA(),e.qZA(),e.TgZ(25,"div",20),e.TgZ(26,"ion-label",21),e._uU(27,"\u0627\u0644\u0645\u0635\u062f\u0631"),e.qZA(),e.TgZ(28,"div",29),e.TgZ(29,"ion-select",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().radioVal=i})("ionChange",function(i){return e.CHM(t),e.oxw().pickAccountBank(i)}),e.TgZ(30,"ion-select-option",23),e._uU(31,"\u0627\u0644\u062e\u0632\u064a\u0646\u0629"),e.qZA(),e.YNc(32,y,2,2,"ion-select-option",31),e.qZA(),e.YNc(33,j,6,3,"div",32),e.qZA(),e.qZA(),e.TgZ(34,"div",20),e.TgZ(35,"ion-label",21),e._uU(36,"\u0627\u0644\u062d\u0633\u0627\u0628"),e.qZA(),e.TgZ(37,"div",29),e.TgZ(38,"div",33),e.NdJ("click",function(i){return e.CHM(t),e.oxw().presentAccountPopover(i)}),e.TgZ(39,"ion-input",34),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().selectedFromAccount.sub_name=i}),e.qZA(),e._UZ(40,"ion-icon",35),e.qZA(),e.YNc(41,F,6,3,"div",32),e.qZA(),e.qZA(),e.TgZ(42,"div",20),e.TgZ(43,"ion-label",21),e._uU(44,"\u0627\u0644\u0645\u0628\u0644\u063a"),e.qZA(),e.TgZ(45,"ion-input",36),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().pay=i}),e.qZA(),e.qZA(),e.TgZ(46,"div",20),e.TgZ(47,"ion-label",21),e._uU(48,"\u0627\u0644\u0628\u064a\u0627\u0646"),e.qZA(),e.TgZ(49,"ion-textarea",37),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().journal.j_details=i}),e.qZA(),e.qZA(),e.TgZ(50,"div",38),e.TgZ(51,"ion-button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e._UZ(52,"ion-icon",40),e._uU(53," \u062d\u0641\u0640\u0638 "),e.qZA(),e.TgZ(54,"ion-button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearForm()}),e._UZ(55,"ion-icon",42),e._uU(56," \u0645\u0633\u062d "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.jType),e.xp6(14),e.Q6J("ngModel",t.journal.j_date),e.xp6(5),e.Q6J("ngModel",t.radioVal),e.xp6(3),e.Q6J("ngForOf",t.banksAccountArray),e.xp6(1),e.Q6J("ngIf",t.selectedBankAccount&&t.selectedBankAccount.sub_name),e.xp6(6),e.Q6J("ngModel",t.selectedFromAccount.sub_name),e.xp6(2),e.Q6J("ngIf",t.selectedFromAccount&&t.selectedFromAccount.sub_name),e.xp6(4),e.Q6J("ngModel",t.pay),e.xp6(4),e.Q6J("ngModel",t.journal.j_details),e.xp6(2),e.Q6J("disabled",!t.isFormValid())}}function B(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectAccount(a)}),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()}if(2&o){const t=c.$implicit;e.xp6(2),e.Oqu(t.sub_name)}}function I(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",53),e.TgZ(2,"ion-searchbar",54),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().searchTerm=i})("ionInput",function(i){return e.CHM(t),e.oxw().searchAccount(i)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(3,"ion-content",53),e.TgZ(4,"ion-list"),e.YNc(5,B,3,1,"ion-item",55),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.searchTerm),e.xp6(3),e.Q6J("ngForOf",t.searchedAccounts)}}function N(o,c){if(1&o&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-grid"),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col",62),e.TgZ(4,"ion-label"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"ion-col",63),e.TgZ(7,"ion-text",64),e._uU(8),e.ALo(9,"dateAgo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=c.$implicit;e.xp6(5),e.Oqu(t.desc),e.xp6(3),e.Oqu(e.lcZ(9,2,t.datee))}}function J(o,c){if(1&o&&(e.TgZ(0,"ion-list",60),e.YNc(1,N,10,4,"ion-item",61),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.LogHistoryLocalArr)}}function L(o,c){1&o&&(e.TgZ(0,"div",65),e.TgZ(1,"ion-label"),e._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u0634\u0639\u0627\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629"),e.qZA(),e.qZA())}function U(o,c){if(1&o&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",57),e.TgZ(2,"ion-title"),e._uU(3,"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",53),e.YNc(5,J,2,1,"ion-list",58),e.YNc(6,L,3,0,"div",59),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.LogHistoryLocalArr.length>0),e.xp6(1),e.Q6J("ngIf",0===t.LogHistoryLocalArr.length)}}const S=[{path:"",component:(()=>{class o{constructor(t,n,i,a,r,d,g,p,Q,V){this.platform=t,this.behavApi=n,this.modalController=i,this.alertController=a,this.authenticationService=r,this.storage=d,this.loadingController=g,this.datePipe=p,this.api=Q,this.toast=V,this.notifArr=[],this.showNotif=!1,this.LogHistoryLocalArr=[],this.logHistoryArr=[],this.isOpenNotif=!1,this.newNotif=!1,this.sub_accountFrom=[],this.itemList=[],this.sub_accountTo=[],this.randomsNumber=[],this.jdetail_fromArr=[],this.journalType=[],this.journalTypeDetails=[],this.jType="1",this.pay=0,this.radioVal="1",this.jdetail_toArr=[],this.selectedFromAccountArr=[],this.selectedToAccountArr=[],this.banksAccountArray=[],this.showMe=null,this.showFrom=!1,this.showTo=!1,this.showFrom3=!1,this.showTo3=!1,this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1,this.isAccountPopoverOpen=!1,this.searchTerm="",this.searchedAccounts=[],this.selectedAccountBalance=null,this.sourceAccountBalance=null,this.loadingAccountBalance=!1,this.loadingSourceBalance=!1,this.selectedBankAccount={id:null,ac_id:null,sub_name:null,sub_type:null,sub_code:null,sub_balance:null,store_id:null,debit:null,credit:null,currentType:null},this.getAppInfo()}ngOnInit(){}presentAccountPopover(t){this.searchedAccounts=this.sub_accountFrom,this.isAccountPopoverOpen=!0}searchAccount(t){const n=t.target.value.toLowerCase();this.searchedAccounts=n&&""!==n.trim()?this.sub_accountFrom.filter(i=>i.sub_name.toLowerCase().indexOf(n)>-1):this.sub_accountFrom}selectAccount(t){this.pickAccount(t),this.isAccountPopoverOpen=!1,this.loadAccountBalance(t.id)}ionViewDidLeave(){this.subiscribtionNotif.unsubscribe()}ionViewDidEnter(){}getAppInfo(){this.storage.get("USER_INFO").then(t=>{t&&(this.user_info=t)}),this.storage.get("year").then(t=>{t&&(this.year=t)}),this.storage.get("STORE_INFO").then(t=>{t&&(this.store_info=t,this.getAllAccounts(),this.getJournalType(),this.prepareInvo())})}coleredMsgFromFunc(){1==this.showFrom&&""==this.selectedFromAccount2.sub_name?this.coloredMsgFrom=!0:1==this.showFrom3&&""==this.selectedFromAccount3.sub_name&&(this.coloredMsgFrom3=!0),1==this.showTo&&""==this.selectedToAccount2.sub_name?this.coloredMsgTo=!0:1==this.showTo3&&""==this.selectedToAccount3.sub_name&&(this.coloredMsgTo3=!0),setTimeout(()=>{this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1},1e4)}radioChange(t){}pickAccount(t){let i,n=[t];n[0].debit>0?i="debit":n[0].credit>0&&(i="credit"),this.selectedFromAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:i,debit:+n[0].debit,credit:+n[0].credit},this.selectedItem={id:"NULL",ac_id:this.selectedFromAccount.id,sub_name:this.selectedFromAccount.sub_name,sub_type:this.selectedFromAccount.sub_type,sub_code:this.selectedFromAccount.sub_code,store_id:this.selectedFromAccount.store_id,sub_balance:this.selectedFromAccount.sub_balance,currentType:this.selectedFromAccount.currentType,debit:this.selectedFromAccount.debit,credit:this.selectedFromAccount.credit}}pickAccountBank(t){if(console.log("ev",t.target.value),1==t.target.value)this.selectedBankAccount={id:46,ac_id:7,sub_name:"\u0627\u0644\u062e\u0632\u064a\u0646\u0629",sub_type:"",sub_code:"",store_id:this.store_info.id,sub_balance:"",currentType:"",debit:"",credit:""},this.loadSourceBalance(46);else{let n=this.banksAccountArray.filter(i=>i.id==t.target.value);console.log(this.banksAccountArray),console.log(n),this.selectedBankAccount={id:n[0].id,ac_id:n[0].ac_id,sub_name:n[0].sub_name,sub_type:n[0].sub_type,sub_code:n[0].sub_code,store_id:n[0].store_id,sub_balance:n[0].sub_balance,currentType:"",debit:+n[0].debit,credit:+n[0].credit},this.loadSourceBalance(n[0].id)}}prepare4save(){this.payInvo.rec_date=this.journal.j_date,this.payInvo.rec_date=this.datePipe.transform(this.payInvo.rec_date,"yyyy-MM-dd");let n=0,i=0;1==+this.jType?(n=+this.pay,this.journal.j_type="\u0633\u0646\u062f \u062f\u0641\u0639"):2==+this.jType&&(i=+this.pay,this.journal.j_type="\u0633\u0646\u062f \u0642\u0628\u0636"),this.itemList=[],this.itemList.push({id:"NULL",j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:this.selectedFromAccount.id,j_desc:this.selectedFromAccount.sub_type,j_type:"",credit:i,debit:n,store_id:this.store_info.id,sub_code:this.selectedFromAccount.sub_code,sub_name:this.selectedFromAccount.sub_name,yearId:this.year.id}),this.journal.j_pay=+this.pay;let r="",d="";1==+this.jType?(1==+this.radioVal?(this.jdetail_to={id:"NULL",j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:46,j_desc:"",j_type:"\u0633\u0646\u062f \u062f\u0641\u0639",credit:this.pay,debit:0,store_id:this.store_info.id,yearId:this.year.id},d="\u0627\u0644\u062e\u0632\u064a\u0646\u0629",r=this.selectedFromAccount.sub_name):1!=+this.radioVal&&(this.jdetail_to={id:"NULL",j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:this.selectedBankAccount.id,j_desc:"",j_type:"\u0633\u0646\u062f \u062f\u0641\u0639",credit:this.pay,debit:0,store_id:this.store_info.id,yearId:this.year.id},d=this.selectedBankAccount.sub_name,r=this.selectedFromAccount.sub_name),this.itemList[0].j_type="\u0633\u0646\u062f \u0642\u0628\u0636",this.jdetail_toArr.push(this.jdetail_to),this.jdetail_fromArr.push(this.itemList[0]),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+r+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+d):2==+this.jType&&(1==+this.radioVal?(this.jdetail_from={id:"NULL",j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:46,j_desc:"",j_type:"\u0633\u0646\u062f \u0642\u0628\u0636",credit:0,debit:this.pay,store_id:this.store_info.id,yearId:this.year.id},r="\u0627\u0644\u062e\u0632\u064a\u0646\u0629",d=this.selectedFromAccount.sub_name):1!=+this.radioVal&&(this.jdetail_from={id:"NULL",j_id:this.journal.j_id,j_ref:this.journal.j_ref,ac_id:this.selectedBankAccount.id,j_desc:"",j_type:"\u0633\u0646\u062f \u0642\u0628\u0636",credit:0,debit:+this.pay,store_id:this.store_info.id,yearId:this.year.id},r=this.selectedBankAccount.sub_name,d=this.selectedFromAccount.sub_name),this.itemList[0].j_type="\u0633\u0646\u062f \u062f\u0641\u0639",this.jdetail_toArr.push(this.itemList[0]),this.jdetail_fromArr.push(this.jdetail_from),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+r+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+d)}addTolist(){if(""==this.selectedItem.sub_name||""==this.selectedItem.id)this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger");else if(0==+this.pay)this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0628\u0644\u063a ","danger");else{let t=[];if(this.itemList.length>0&&(t=this.itemList.filter(n=>n.ac_id==this.selectedItem.ac_id)),0==t.length){let n=0,i=0;1==+this.jType?n=+this.pay:2==+this.jType&&(i=+this.pay),this.itemList.push({id:"NULL",j_id:this.journal.j_id,ac_id:this.selectedItem.id,j_ref:this.journal.j_ref,j_desc:this.selectedItem.sub_type,j_type:"",credit:i,debit:n,store_id:this.store_info.id,sub_code:this.selectedItem.sub_code,sub_name:this.selectedItem.sub_name,yearId:this.year.id})}this.getTotal(),this.pay=0,this.selectedItem={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""}}}deleteItem(t){this.itemList.splice(t,1),this.pay=0,this.getTotal()}generateRandom(t){let n=new Date,i=n.getMonth().toString()+n.getDay().toString()+n.getHours().toString()+n.getMinutes().toString()+n.getSeconds().toString()+n.getMilliseconds().toString();"invo"==t?(this.payInvo.rec_ref=this.store_info.store_ref+"INV"+i,this.journal.invo_ref=this.payInvo.rec_ref):(this.journal.j_ref=this.store_info.store_ref+"JO"+i,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_to.j_ref=this.journal.j_ref)}hideMe(t){this.showMe=null}editCell(t){1==+this.jType?+this.itemList[t].debit>0?(this.hideMe(t),this.getTotal()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062f\u062e\u0627\u0644 ","danger"):2==+this.jType&&(+this.itemList[t].credit>0?(this.hideMe(t),this.getTotal()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062f\u062e\u0627\u0644 ","danger"))}getTotal(){if(1==+this.jType){let t=this.itemList.reduce((n,i)=>n+ +i.debit,0);this.journal.j_pay=t}else if(2==+this.jType){let t=this.itemList.reduce((n,i)=>n+ +i.credit,0);this.journal.j_pay=t}}qtyClick(t){this.showMe=t}pickAccountTo(t,n,i){let a;a=i||t.target.value;let d,g,r=this.sub_accountTo.filter(p=>p.sub_name==a);r[0].debit>0?g="debit":r[0].credit>0&&(g="credit"),1==n?this.selectedToAccount={id:r[0].id,ac_id:r[0].ac_id,sub_name:r[0].sub_name,sub_type:r[0].sub_type,sub_code:r[0].sub_code,store_id:r[0].store_id,sub_balance:r[0].sub_balance,currentType:g,debit:+r[0].debit,credit:+r[0].credit}:2==n?this.selectedToAccount2={id:r[0].id,ac_id:r[0].ac_id,sub_name:r[0].sub_name,sub_type:r[0].sub_type,sub_code:r[0].sub_code,store_id:r[0].store_id,sub_balance:d,currentType:g,debit:+r[0].debit,credit:+r[0].credit}:3==n&&(this.selectedToAccount3={id:r[0].id,ac_id:r[0].ac_id,sub_name:r[0].sub_name,sub_type:r[0].sub_type,sub_code:r[0].sub_code,store_id:r[0].store_id,sub_balance:d,currentType:g,debit:+r[0].debit,credit:+r[0].credit})}prepareInvo(t){this.selectedItem={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,credit:"",debit:"",currentType:""},this.jdetail_from={id:"",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:"",yearId:""},this.jdetail_to={id:"",j_id:"",j_ref:"",ac_id:"",credit:"",debit:"",j_desc:"",j_type:"",store_id:"",yearId:""},this.payInvo={rec_id:void 0,rec_ref:0,store_id:this.store_info.id,rec_date:"",user_id:"",ac_id:0,rec_detailes:"",rec_pay:0,rec_type:"",yearId:""},this.journal={j_id:void 0,j_ref:"",j_details:"",j_type:"",invo_ref:"",j_desc:"",j_date:"",store_id:this.store_info.id,user_id:"",j_pay:"",standard_details:"",yearId:""},this.jdetail_fromArr=[],this.jdetail_toArr=[],this.pay=0;let n=new Date;this.payInvo.rec_date=this.datePipe.transform(n,"yyyy-MM-dd"),this.journal.j_date=this.datePipe.transform(n,"yyyy-MM-dd"),this.generateRandom("invo"),this.generateRandom("journal"),this.payInvo.store_id=this.store_info.id,this.payInvo.yearId=this.year.id,this.payInvo.user_id=this.user_info.id,this.journal.invo_ref=this.payInvo.rec_ref,this.journal.store_id=this.store_info.id,this.journal.user_id=this.user_info.id,this.journal.yearId=this.year.id,this.journal.store_id=this.store_info.id,this.journal.user_id=this.user_info.id,this.jdetail_from.store_id=this.store_info.id,this.jdetail_from.j_ref=this.journal.j_ref,this.jdetail_from.yearId=this.year.id,this.jdetail_to.j_ref=this.journal.j_ref,this.jdetail_to.store_id=this.store_info.id,this.jdetail_to.yearId=this.year.id,this.radioVal="1",this.jType="1",t&&this.loadingController.dismiss(),this.getAllAccounts()}getAllAccounts(){console.log("getAllAccounts",this.store_info.id,this.year.id),this.api.getAllAccounts(this.store_info.id,this.year.id).subscribe(t=>{let n=t;console.log("res",n),this.sub_accountFrom=n.data,this.sub_accountTo=n.data,this.sub_accountFrom=this.sub_accountFrom.filter(i=>8!=i.ac_id&&9!=i.ac_id),this.getBanksAccount(),this.prepareCurrentBalnces()},t=>{})}getBanksAccount(){this.banksAccountArray=this.sub_accountFrom.filter(t=>7==t.ac_id),console.log("banksAccountArray",this.banksAccountArray)}prepareCurrentBalnces(){for(let t=0;t<this.sub_accountFrom.length;t++){const n=this.sub_accountFrom[t];let i=+n.fromDebitTot+ +n.toDebitTot,a=+n.fromCreditTot+ +n.toCreditTot;if("debit"==n.sub_type){let r=+n.sub_balance+ +i-+a;r>0?(n.debit=r,n.credit=0):r<0?(r*=-1,n.debit=0,n.credit=r):0==r&&(n.debit=r,n.credit=0)}else if("credit"==n.sub_type){let r=+n.sub_balance+ +a-+i;r>0?(n.debit=0,n.credit=r):r<0?(r*=-1,n.debit=r,n.credit=0):0==r&&(n.debit=0,n.credit=r)}}this.sub_accountTo=this.sub_accountFrom}getJournalType(){this.api.getJournalType(this.store_info.id).subscribe(t=>{this.journalType=t.data,this.getJournalTypeDetails()},t=>{})}getJournalTypeDetails(){this.api.getJournalTypeDetails(this.store_info.id).subscribe(t=>{this.journalTypeDetails=t.data},t=>{})}payChange(t){this.jdetail_from.debit=t.target.value,this.jdetail_to.credit=t.target.value}validate(){return 0==+this.radioVal||0==+this.jType?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631  \u0646\u0648\u0639 \u0627\u0644\u0633\u0646\u062f ","danger"),!1):0==+this.journal.j_pay?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0645\u0639\u0627\u0645\u0644\u0627\u062a ","danger"),!1):0!=+this.jdetail_fromArr[0].ac_id&&0!=+this.jdetail_toArr[0].ac_id||void this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a  ","danger")}setStandard(){let t="",n="",i="",a="";1==this.showFrom&&null!=this.selectedFromAccount2.sub_name?t=" , "+this.selectedFromAccount2.sub_name:1==this.showFrom3&&null!=this.selectedFromAccount3.sub_name&&(n=" , "+this.selectedFromAccount3.sub_name),1==this.showTo&&null!=this.selectedToAccount2.sub_name?i=" , "+this.selectedToAccount2.sub_name:1==this.showTo3&&null!=this.selectedToAccount3.sub_name&&(a=" , "+this.selectedToAccount3.sub_name),this.journal.standard_details="\u0645\u0646 \u062d\u0633\u0627\u0628 "+this.selectedFromAccount.sub_name+t+n+" \u0627\u0644\u064a \u062d\u0633\u0627\u0628 "+this.selectedToAccount.sub_name+i+a}save(){this.prepare4save(),1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.saveJournal())}presentModalSales(t,n,i){return(0,h.mG)(this,void 0,void 0,function*(){8==this.selectedToAccount.ac_id&&(t="sales",""==this.selectedFromAccount2.sub_name&&1==this.showFrom?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","warning"):""!=this.selectedFromAccount2.sub_name&&1==this.showFrom&&(n=this.selectedFromAccount2.sub_name,i=this.selectedFromAccount2.id)),9==this.selectedFromAccount.ac_id&&(t="purch",""==this.selectedToAccount2.sub_name&&1==this.showTo?this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0648\u0631\u062f","warning"):""!=this.selectedToAccount2.sub_name&&1==this.showTo&&(n=this.selectedToAccount2.sub_name,i=this.selectedToAccount2.id));const a=yield this.modalController.create({component:"AccountModalPage",componentProps:{type:t,sub_name:n,cust_id:i}});return a.onDidDismiss().then(r=>{null!==r&&this.doAfterDissmiss(r)}),yield a.present()})}doAfterDissmiss(t){("sales"==t.role||"purch"==t.role)&&(this.journal.j_details=this.journal.j_details+", "+t.data[1]+" , \u0631\u0642\u0645 :  "+t.data[0].pay_id+" \u0628\u062a\u0627\u0631\u064a\u062e "+t.data[0].pay_date+", \u0625\u062c\u0645\u0627\u0644\u064a : "+(+t.data[0].tot_pr-+t.data[0].discount))}saveJournal(){this.api.saveJournal(this.journal).subscribe(t=>{if("Post Not Created"!=t.message){for(let n=0;n<this.jdetail_fromArr.length;n++)this.jdetail_fromArr[n].j_id=t.message;for(let n=0;n<this.jdetail_toArr.length;n++)this.jdetail_toArr[n].j_id=t.message;this.saveJournalFrom()}else this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}generateRandom2(t){let n=new Date,i=n.getMonth().toString()+n.getDay().toString()+n.getHours().toString()+n.getMinutes().toString()+n.getSeconds().toString()+n.getMilliseconds().toString()+t;return this.store_info.store_ref+i}saveJournalFrom(){this.api.saveJournalFrom(this.jdetail_fromArr).subscribe(t=>{"Post Not Created"!=t.message?this.saveJournalTo():(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}saveJournalTo(){this.api.saveJournalTo(this.jdetail_toArr).subscribe(t=>{"Post Not Created"!=t.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"),this.loadingController.dismiss(),this.prepareInvo("saved")):(this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss())},t=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger"),this.loadingController.dismiss()})}performSync(){return(0,h.mG)(this,void 0,void 0,function*(){yield this.saveLogHistory()})}presentLoadingWithOptions(t){return(0,h.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({spinner:"bubbles",mode:"ios",message:t,translucent:!0,backdropDismiss:!1});yield n.present(),yield n.onDidDismiss()})}saveLogHistory(){let t,n,i;this.logHistoryArr.length>1?(i=this.logHistoryArr[1],n=this.logHistoryArr[0],t="new account"):(i=this.logHistoryArr[0],t=void 0),this.api.saveLogHistoryMultiSales(i,n,t).subscribe(a=>{"Post Not Created"!=a.message?this.logHistoryArr=[]:this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},a=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentPopoverNotif(t){this.notifArr=[],this.showNotif=!1,this.popoverNotif22.event=t,this.isOpenNotif=!0}didDissmisNotif(){this.isOpenNotif=!1}presentToast(t,n){return(0,h.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:2e3,color:n,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}isFormValid(){return!!(this.jType&&0!=+this.jType&&this.radioVal&&0!=+this.radioVal&&this.pay&&!(+this.pay<=0)&&this.selectedFromAccount&&this.selectedFromAccount.sub_name&&""!==this.selectedFromAccount.sub_name&&(1==+this.radioVal||this.selectedBankAccount&&this.selectedBankAccount.sub_name&&""!==this.selectedBankAccount.sub_name)&&this.journal.j_details&&""!==this.journal.j_details.trim()&&this.journal.j_date&&""!==this.journal.j_date)}clearForm(){var t,n;this.pay=0,this.jType="1",this.radioVal="1",this.selectedFromAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:(null===(t=this.store_info)||void 0===t?void 0:t.id)||"",debit:"",credit:"",currentType:""},this.selectedItem={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:(null===(n=this.store_info)||void 0===n?void 0:n.id)||"",debit:"",credit:"",currentType:""},this.selectedBankAccount={id:null,ac_id:null,sub_name:null,sub_type:null,sub_code:null,sub_balance:null,store_id:null,debit:null,credit:null,currentType:null},this.itemList=[],this.jdetail_fromArr=[],this.jdetail_toArr=[],this.showFrom=!1,this.showTo=!1,this.showFrom3=!1,this.showTo3=!1,this.showMe=null,this.coloredMsgFrom=!1,this.coloredMsgFrom3=!1,this.coloredMsgTo=!1,this.coloredMsgTo3=!1,this.searchTerm="",this.isAccountPopoverOpen=!1,this.searchedAccounts=[],this.prepareInvo(),this.selectedAccountBalance=null,this.sourceAccountBalance=null}loadAccountBalance(t){!t||!this.store_info||!this.year||(this.loadingAccountBalance=!0,this.selectedAccountBalance=null,this.api.getAccountBalance(t,this.store_info.id,this.year.id).subscribe(n=>{this.loadingAccountBalance=!1,n.success?(this.selectedAccountBalance=n.data,console.log("Account balance loaded:",this.selectedAccountBalance),console.log("INVOICE AMOUNT:",this.selectedAccountBalance.invoice_amount),console.log("CURRENT BALANCE:",this.selectedAccountBalance.current_balance),console.log("CUSTOMER TOTALS:",this.selectedAccountBalance.customer_totals),console.log("TOTAL DEBITS:",this.selectedAccountBalance.journal_transactions.total_debits),console.log("Debug info:",this.selectedAccountBalance.debug_info)):(console.error("Failed to load account balance:",n.message),this.selectedAccountBalance=null)},n=>{this.loadingAccountBalance=!1,console.error("Error loading account balance:",n),this.selectedAccountBalance=null}))}loadSourceBalance(t){!t||!this.store_info||!this.year||(this.loadingSourceBalance=!0,this.sourceAccountBalance=null,this.api.getAccountBalance(t,this.store_info.id,this.year.id).subscribe(n=>{this.loadingSourceBalance=!1,n.success?(this.sourceAccountBalance=n.data,console.log("Source balance loaded:",this.sourceAccountBalance),console.log("Source debug info:",this.sourceAccountBalance.debug_info)):(console.error("Failed to load source balance:",n.message),this.sourceAccountBalance=null)},n=>{this.loadingSourceBalance=!1,console.error("Error loading source balance:",n),this.sourceAccountBalance=null}))}formatBalance(t){return t?`${parseFloat(t.current_balance||0).toFixed(2)} ${"debit"===t.balance_type?"\u0645\u062f\u064a\u0646":"\u062f\u0627\u0626\u0646"}`:"0.00"}getBalanceColor(t){return t?"debit"===t.balance_type?"success":"danger":"medium"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.t4),e.Y36(f.h),e.Y36(s.IN),e.Y36(s.Br),e.Y36(x.u),e.Y36(v.K),e.Y36(s.HT),e.Y36(u.uU),e.Y36(C.r),e.Y36(s.yF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-cash2"]],viewQuery:function(t,n){if(1&t&&e.Gf(P,5),2&t){let i;e.iGM(i=e.CRH())&&(n.popoverNotif22=i.first)}},decls:13,vars:4,consts:[[1,"transparent-header"],[1,"transparent-toolbar"],["slot","start"],[1,"glass-menu-button"],[1,"modern-content"],["class","loading-container",4,"ngIf"],["class","main-container",4,"ngIf"],["side","bottom","alignment","start",3,"isOpen","didDismiss"],["accountPopover",""],[3,"isOpen","didDismiss"],["popoverNotif22",""],[1,"loading-container"],["name","crescent"],[1,"loading-text"],[1,"main-container"],[1,"form-container"],[1,"form-card"],[1,"card-header"],[1,"card-title"],[1,"compact-content"],[1,"field-row"],[1,"field-label-right"],[1,"mini-segment",3,"ngModel","ngModelChange","ionChange"],["value","1"],[1,"segment-content"],["name","arrow-up-outline"],["value","2"],["name","arrow-down-outline"],["type","date",1,"mini-input",3,"ngModel","ngModelChange"],[1,"field-with-balance"],["placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0635\u062f\u0631","interface","action-sheet",1,"mini-select",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["class","balance-display",4,"ngIf"],[1,"input-with-icon",3,"click"],["readonly","true","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062d\u0633\u0627\u0628",1,"mini-input","readonly-input",3,"ngModel","ngModelChange"],["name","chevron-down-outline",1,"dropdown-icon"],["type","number","placeholder","0.00",1,"mini-input","amount-input",3,"ngModel","ngModelChange"],["rows","1","placeholder","\u0648\u0635\u0641 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629...",1,"mini-textarea",3,"ngModel","ngModelChange"],[1,"button-row"],[1,"mini-btn","save-btn",3,"disabled","click"],["name","checkmark-outline","slot","start"],["fill","outline",1,"mini-btn","clear-btn",3,"click"],["name","refresh-outline","slot","start"],[3,"value"],[1,"balance-display"],[1,"balance-label"],["class","balance-amount",3,"color",4,"ngIf"],["class","balance-loading",4,"ngIf"],["class","balance-error",4,"ngIf"],[1,"balance-amount"],[1,"balance-loading"],["name","dots","color","primary"],[1,"balance-error"],["dir","rtl"],["placeholder","\u0628\u062d\u062b \u0639\u0646 \u062d\u0633\u0627\u0628","dir","rtl",3,"ngModel","ngModelChange","ionInput"],["button","","dir","rtl",3,"click",4,"ngFor","ngForOf"],["button","","dir","rtl",3,"click"],["dir","rtl",1,"ion-text-center"],["class","ion-text-center",4,"ngIf"],["class","ion-text-center ion-padding",4,"ngIf"],[1,"ion-text-center"],[4,"ngFor","ngForOf"],["size","9"],["size","3"],["color","primary"],[1,"ion-text-center","ion-padding"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-buttons",2),e._UZ(3,"ion-menu-button",3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",4),e.YNc(5,A,4,0,"div",5),e.YNc(6,z,57,10,"div",6),e.qZA(),e.TgZ(7,"ion-popover",7,8),e.NdJ("didDismiss",function(){return n.isAccountPopoverOpen=!1}),e.YNc(9,I,6,2,"ng-template"),e.qZA(),e.TgZ(10,"ion-popover",9,10),e.NdJ("didDismiss",function(){return n.didDissmisNotif()}),e.YNc(12,U,7,2,"ng-template"),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",!n.user_info||!n.store_info||!n.journal),e.xp6(1),e.Q6J("ngIf",n.user_info&&n.store_info&&n.journal),e.xp6(1),e.Q6J("isOpen",n.isAccountPopoverOpen),e.xp6(3),e.Q6J("isOpen",n.isOpenNotif))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.W2,u.O5,s.d8,s.PQ,s.PM,s.Zi,s.Dq,s.FN,s.Q$,s.cJ,s.QI,m.JJ,m.On,s.GO,s.gu,s.pK,s.j9,s.t9,s.n0,u.sg,s.as,s.g2,s.YG,s.VI,s.q_,s.Ie,s.wd,s.jY,s.Nd,s.wI,s.yW],pipes:[M.R],styles:['[_ngcontent-%COMP%]:root{--liquid-glass-bg: rgba(255, 255, 255, .15);--liquid-glass-bg-light: rgba(255, 255, 255, .25);--liquid-glass-bg-dark: rgba(0, 0, 0, .15);--liquid-glass-border: rgba(255, 255, 255, .2);--liquid-glass-shadow: 0 8px 32px rgba(0, 0, 0, .15);--liquid-glass-highlight: rgba(255, 255, 255, .4);--glass-blur: 20px;--glass-blur-strong: 40px;--glass-border-radius: 20px;--glass-border-radius-small: 12px;--glass-accent-primary: rgba(0, 122, 255, .8);--glass-accent-success: rgba(52, 199, 89, .8);--glass-accent-danger: rgba(255, 59, 48, .8);--glass-transition: all .3s cubic-bezier(.4, 0, .2, 1);--glass-transition-fast: all .15s cubic-bezier(.4, 0, .2, 1);--glass-scale-hover: 1.02;--glass-scale-active: .98}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--liquid-glass-bg: rgba(0, 0, 0, .25);--liquid-glass-bg-light: rgba(255, 255, 255, .1);--liquid-glass-bg-dark: rgba(0, 0, 0, .4);--liquid-glass-border: rgba(255, 255, 255, .1);--liquid-glass-shadow: 0 8px 32px rgba(0, 0, 0, .3);--liquid-glass-highlight: rgba(255, 255, 255, .2)}}.transparent-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:1000;background:transparent;box-shadow:none;border:none}.transparent-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-width: 0;--border-color: transparent;--color: rgba(0, 0, 0, .8);--min-height: 60px;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);background:linear-gradient(180deg,rgba(255,255,255,.25) 0%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.05) 100%);border-bottom:1px solid rgba(255,255,255,.1)}.transparent-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.3) 0%,transparent 100%);opacity:.6;pointer-events:none}.transparent-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-width: 0;--border-color: transparent;--color: rgba(0, 0, 0, .8);--min-height: 60px}.glass-menu-button[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .15);--background-hover: rgba(255, 255, 255, .25);--background-activated: rgba(255, 255, 255, .35);--color: rgba(0, 0, 0, .8);--border-radius: 12px;--padding-start: 12px;--padding-end: 12px;--padding-top: 8px;--padding-bottom: 8px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 12px #0000001a,0 1px 3px #0000000d;transition:var(--glass-transition)}.glass-menu-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 8px 20px #00000026,0 2px 6px #0000001a}.glass-menu-button[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95);box-shadow:0 2px 8px #0000001a,0 1px 3px #0000000d}.glass-menu-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4rem;color:#000c;filter:drop-shadow(0 1px 2px rgba(255,255,255,.5))}.modern-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgba(120, 119, 198, .1) 0%, rgba(255, 255, 255, .05) 50%, rgba(74, 144, 226, .1) 100%);--padding-start: 4px;--padding-end: 4px;--padding-top: 4px;--padding-bottom: 4px;position:relative;overflow:hidden}.modern-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 50%,rgba(120,119,198,.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(74,144,226,.1) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(255,255,255,.05) 0%,transparent 50%);animation:glassShimmer 8s ease-in-out infinite;pointer-events:none;z-index:0}@keyframes glassShimmer{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.05)}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;gap:2rem;position:relative}.loading-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:200px;height:200px;transform:translate(-50%,-50%);background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border-radius:50%;border:1px solid var(--liquid-glass-border);animation:loadingPulse 2s ease-in-out infinite;z-index:0}@keyframes loadingPulse{0%,to{transform:translate(-50%,-50%) scale(1);opacity:.3}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.6}}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{position:relative;z-index:2;filter:drop-shadow(0 0 15px rgba(0,122,255,.4))}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;background:var(--liquid-glass-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:50%;border:1px solid var(--liquid-glass-border);animation:spinnerGlow 1.5s ease-in-out infinite;z-index:-1}@keyframes spinnerGlow{0%,to{box-shadow:0 0 #007aff00}50%{box-shadow:0 0 20px #007aff4d}}.loading-text[_ngcontent-%COMP%]{color:#000c;font-size:1.1rem;font-weight:600;margin:0;position:relative;z-index:2;text-shadow:0 1px 2px rgba(255,255,255,.5);background:linear-gradient(90deg,rgba(0,0,0,.8) 0%,rgba(0,122,255,.8) 50%,rgba(0,0,0,.8) 100%);background-size:200% 100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:textShimmer 2s ease-in-out infinite}@keyframes textShimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.main-container[_ngcontent-%COMP%]{padding:2rem;padding-top:80px;padding-bottom:100px;max-width:100%;margin:0 auto;height:100vh;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative;z-index:1}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:60%;max-width:800px;min-width:400px;position:relative;z-index:2;animation:glassFloat 6s ease-in-out infinite}@keyframes glassFloat{0%,to{transform:translateY(0) rotateX(0)}50%{transform:translateY(-8px) rotateX(1deg)}}.form-card[_ngcontent-%COMP%]{margin:0;border-radius:var(--glass-border-radius);background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:.5px solid rgba(128,128,128,.3);box-shadow:0 10px 30px #00000026,0 4px 8px #0000001a,var(--liquid-glass-shadow),0 0 0 1px var(--liquid-glass-highlight) inset,0 1px 0 var(--liquid-glass-highlight) inset;display:flex;flex-direction:column;overflow:hidden;max-height:85vh;position:relative;transition:var(--glass-transition);transform-style:preserve-3d;perspective:1000px}.form-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.3;pointer-events:none;border-radius:var(--glass-border-radius) var(--glass-border-radius) 0 0;z-index:1}.form-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,var(--liquid-glass-highlight) 0%,transparent 50%);opacity:0;pointer-events:none;transition:var(--glass-transition);z-index:2;animation:glassSpecular 4s ease-in-out infinite}@keyframes glassSpecular{0%,to{opacity:0;transform:scale(.8) rotate(0)}50%{opacity:.1;transform:scale(1.2) rotate(180deg)}}.form-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(var(--glass-scale-hover));box-shadow:0 15px 40px #0003,0 8px 15px #00000026,0 20px 40px #0003,0 0 0 1px var(--liquid-glass-highlight) inset,0 1px 0 var(--liquid-glass-highlight) inset;border-color:#80808066}.form-card[_ngcontent-%COMP%]:hover:after{opacity:.15}.card-header[_ngcontent-%COMP%]{background:var(--ion-color-primary)!important;backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:none;border-bottom:1px solid var(--liquid-glass-border);padding:.8rem 1rem;flex-shrink:0;position:relative;z-index:3}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.4;pointer-events:none}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800;margin:0;text-align:center;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);position:relative;z-index:1;background:linear-gradient(135deg,white 0%,rgba(255,255,255,.8) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.compact-header[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white;padding:.4rem .8rem;border-bottom:none;flex-shrink:0}.form-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0;text-align:center}.compact-content[_ngcontent-%COMP%]{padding:.8rem;flex:1;display:flex;flex-direction:column;gap:.2rem;overflow-y:auto;max-height:calc(85vh - 60px)}.field-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;min-height:auto;padding:.2rem 0;margin-bottom:.1rem}.field-label-right[_ngcontent-%COMP%]{flex:0 0 100px;text-align:right;direction:rtl;font-size:1rem!important;font-weight:700;color:#000;margin:0;padding-right:.5rem;padding-top:.4rem;align-self:flex-start}.mini-segment[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:1px solid var(--liquid-glass-border);border-radius:var(--glass-border-radius-small);padding:.2rem;height:2.4rem;min-height:2.4rem;position:relative;overflow:hidden}.mini-segment[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.2;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--indicator-color: transparent;--indicator-color-checked: transparent;--color: rgba(0, 0, 0, .7);--color-checked: white;--background: transparent;--background-checked: var(--glass-accent-primary);border-radius:var(--glass-border-radius-small);margin:.1rem;min-height:1.8rem;font-size:.85rem;font-weight:600;transition:var(--glass-transition);position:relative;overflow:hidden}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:var(--liquid-glass-bg-light);border-radius:var(--glass-border-radius-small);opacity:0;transition:var(--glass-transition);pointer-events:none}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:hover:before{opacity:1}.mini-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 4px 15px rgba(var(--ion-color-primary-rgb),.3),0 0 0 1px var(--liquid-glass-highlight) inset;transform:translateY(-1px)}.mini-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.6;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;position:relative;z-index:1}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem;filter:drop-shadow(0 1px 2px rgba(0,0,0,.2))}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}.mini-input[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);--color: rgba(0, 0, 0, .9);--placeholder-color: rgba(0, 0, 0, .5);--padding-start: .8rem;--padding-end: .8rem;--padding-top: .5rem;--padding-bottom: .5rem;border:.5px solid rgba(128,128,128,.4);border-radius:var(--glass-border-radius-small);font-size:.9rem;font-weight:500;min-height:2.2rem;max-height:2.2rem;transition:var(--glass-transition);position:relative;z-index:2}.mini-input[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:100%;background:linear-gradient(135deg,var(--liquid-glass-highlight) 0%,transparent 50%);opacity:.1;pointer-events:none;border-radius:var(--glass-border-radius-small)}.mini-input[_ngcontent-%COMP%]:focus-within{transform:translateY(-2px);border-color:var(--glass-accent-primary);box-shadow:0 8px 25px #007aff26,0 0 0 3px #007aff1a;background:var(--liquid-glass-bg)}.mini-input.readonly-input[_ngcontent-%COMP%]{--color: rgba(0, 0, 0, .8);cursor:pointer;background:var(--liquid-glass-bg)}.mini-input.readonly-input[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:var(--liquid-glass-bg-light)}.mini-input.amount-input[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;--color: var(--glass-accent-primary);text-align:center}.mini-input.amount-input[_ngcontent-%COMP%]:focus-within{--color: rgba(0, 122, 255, 1);text-shadow:0 0 10px rgba(0,122,255,.3)}.mini-select[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);--color: rgba(0, 0, 0, .9);--placeholder-color: rgba(0, 0, 0, .5);--padding-start: .8rem;--padding-end: .8rem;border:.5px solid rgba(128,128,128,.4);border-radius:var(--glass-border-radius-small);font-size:.9rem;font-weight:500;min-height:2.2rem;max-height:2.2rem;transition:var(--glass-transition);position:relative;z-index:2}.mini-select[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:var(--liquid-glass-bg);border-color:var(--glass-accent-primary)}.mini-select[_ngcontent-%COMP%]:focus-within{transform:translateY(-2px);border-color:var(--glass-accent-primary);box-shadow:0 8px 25px #007aff26,0 0 0 3px #007aff1a}.mini-textarea[_ngcontent-%COMP%]{flex:1;background:var(--liquid-glass-bg-light);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);--color: rgba(0, 0, 0, .9);--placeholder-color: rgba(0, 0, 0, .5);--padding-start: .8rem;--padding-end: .8rem;--padding-top: .5rem;--padding-bottom: .5rem;border:.5px solid rgba(128,128,128,.4);border-radius:var(--glass-border-radius-small);font-size:.9rem;font-weight:500;min-height:2.2rem;max-height:2.2rem;resize:none;transition:var(--glass-transition)}.mini-textarea[_ngcontent-%COMP%]:focus-within{transform:translateY(-2px);border-color:var(--glass-accent-primary);box-shadow:0 8px 25px #007aff26,0 0 0 3px #007aff1a;background:var(--liquid-glass-bg)}.input-with-icon[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;cursor:pointer;z-index:2}.field-with-balance[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.2rem;position:relative}.balance-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.3rem .8rem;background:var(--liquid-glass-bg);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:var(--glass-border-radius-small);border:1px solid var(--liquid-glass-border);min-height:1.8rem;max-height:1.8rem;font-size:.75rem;direction:rtl;text-align:right;position:relative;overflow:hidden;transition:var(--glass-transition);margin-top:.1rem;z-index:1;width:100%;clear:both;animation:none}.balance-display[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.2;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.balance-display[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-2px;left:-50%;width:200%;height:2px;background:linear-gradient(90deg,transparent 0%,var(--liquid-glass-highlight) 50%,transparent 100%);animation:balanceShimmer 2s ease-in-out infinite;opacity:.6}.balance-display[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02);background:var(--liquid-glass-bg-light);box-shadow:0 8px 25px #00000026,0 0 0 1px var(--liquid-glass-highlight) inset}@keyframes balanceFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-2px)}}@keyframes balanceShimmer{0%{transform:translate(-100%);opacity:0}50%{opacity:.6}to{transform:translate(100%);opacity:0}}.balance-label[_ngcontent-%COMP%]{font-weight:700;color:#000000b3;font-size:.7rem;position:relative;z-index:1;text-shadow:0 1px 2px rgba(255,255,255,.5)}.balance-amount[_ngcontent-%COMP%]{font-weight:800;font-size:.8rem;flex:1;text-align:left;position:relative;z-index:1;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.balance-amount.positive[_ngcontent-%COMP%]{color:var(--glass-accent-success);text-shadow:0 0 10px rgba(52,199,89,.3)}.balance-amount.negative[_ngcontent-%COMP%]{color:var(--glass-accent-danger);text-shadow:0 0 10px rgba(255,59,48,.3)}.balance-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;color:var(--glass-accent-primary);font-size:.7rem;position:relative;z-index:1}.balance-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:12px;height:12px;filter:drop-shadow(0 0 5px rgba(0,122,255,.3))}.balance-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;text-shadow:0 1px 2px rgba(255,255,255,.5)}.balance-error[_ngcontent-%COMP%]{color:var(--glass-accent-danger);font-size:.7rem;font-style:italic;font-weight:600;position:relative;z-index:1;text-shadow:0 1px 2px rgba(255,255,255,.5);filter:drop-shadow(0 0 5px rgba(255,59,48,.2))}.dropdown-icon[_ngcontent-%COMP%]{position:absolute;right:.4rem;color:var(--ion-color-medium);font-size:.9rem;pointer-events:none}.button-row[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-top:.8rem;padding-top:.8rem;justify-content:center;border-top:1px solid var(--liquid-glass-border);position:relative}.button-row[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:20%;right:20%;height:1px;background:linear-gradient(90deg,transparent 0%,var(--liquid-glass-highlight) 50%,transparent 100%);opacity:.5}.mini-btn[_ngcontent-%COMP%]{flex:0 0 120px;border-radius:var(--glass-border-radius-small);font-size:1rem;font-weight:700;min-height:3.2rem;max-height:3.2rem;transition:var(--glass-transition);position:relative;overflow:hidden;transform-style:preserve-3d;background:var(--liquid-glass-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid var(--liquid-glass-border);box-shadow:0 6px 15px #0000001a,0 2px 4px #0000000d,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,var(--liquid-glass-highlight) 0%,transparent 100%);opacity:.3;pointer-events:none;border-radius:var(--glass-border-radius-small) var(--glass-border-radius-small) 0 0}.mini-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 12px 30px #00000026,0 4px 8px #0000001a,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn[_ngcontent-%COMP%]:hover:before{opacity:.5}.mini-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(.98);box-shadow:0 4px 10px #00000026,0 1px 2px #0000001a,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--glass-accent-success) 0%,rgba(52,199,89,.9) 100%);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);border-color:#34c7594d;box-shadow:0 6px 15px #34c7594d,0 2px 4px #34c75933,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(52,199,89,.9) 0%,#34c759 100%);box-shadow:0 12px 30px #34c75966,0 4px 8px #34c7594d,0 0 0 1px var(--liquid-glass-highlight) inset}.mini-btn.save-btn[_ngcontent-%COMP%]:disabled{background:var(--liquid-glass-bg-dark);color:#ffffff80;text-shadow:none;transform:none;box-shadow:0 2px 6px #0000001a,0 0 0 1px var(--liquid-glass-border) inset;cursor:not-allowed}.mini-btn.save-btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:0 2px 6px #0000001a,0 0 0 1px var(--liquid-glass-border) inset}.mini-btn.clear-btn[_ngcontent-%COMP%]{background:var(--liquid-glass-bg-light);color:#000000b3;border-color:var(--liquid-glass-border)}.mini-btn.clear-btn[_ngcontent-%COMP%]:hover{background:var(--liquid-glass-bg);color:#000000e6;border-color:var(--glass-accent-primary)}ion-popover[_ngcontent-%COMP%]{--width: 320px;--max-width: 90vw;--height: 60vh;--max-height: 400px;--border-radius: 8px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .2);direction:rtl}ion-searchbar[_ngcontent-%COMP%]{--background: #f8f9fa;--color: #000000;--placeholder-color: var(--ion-color-medium);--border-radius: 6px;--box-shadow: none;--icon-color: var(--ion-color-primary);padding:.4rem;--min-height: 2.5rem;direction:rtl;text-align:right}ion-list[_ngcontent-%COMP%]{--background: white}ion-item[_ngcontent-%COMP%]{--background: white;--color: #000000;--border-color: #f1f3f4;--padding-start: 1rem;--padding-end: 1rem;--min-height: 2.5rem;font-size:1rem;direction:rtl;text-align:right}ion-item[_ngcontent-%COMP%]:hover{--background: #f8f9fa}ion-item[_ngcontent-%COMP%]:active{--background: #e9ecef}ion-select[_ngcontent-%COMP%]{--placeholder-color: var(--ion-color-medium);--color: var(--ion-color-dark);font-size:.85rem}ion-select-option[_ngcontent-%COMP%]{font-size:.85rem;--color: var(--ion-color-dark)}ion-action-sheet[_ngcontent-%COMP%]{--button-color: var(--ion-color-dark);--button-background: white;--button-background-hover: #f8f9fa;--button-background-focused: #f8f9fa;--button-background-activated: #e9ecef}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]{width:92%;min-width:320px;animation:none}.main-container[_ngcontent-%COMP%]{padding:1rem;padding-bottom:80px;height:100dvh}.form-card[_ngcontent-%COMP%]{backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:16px}.form-card[_ngcontent-%COMP%]:hover{transform:none}.compact-content[_ngcontent-%COMP%]{padding:1.2rem;gap:1rem}.field-row[_ngcontent-%COMP%]{min-height:3.5rem;gap:1rem;flex-direction:column;align-items:stretch}.field-label-right[_ngcontent-%COMP%]{flex:none;text-align:right;font-size:1rem!important;margin-bottom:.3rem}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:3rem;max-height:3rem;font-size:1rem;border-radius:10px}.mini-input[_ngcontent-%COMP%]:focus-within, .mini-select[_ngcontent-%COMP%]:focus-within, .mini-textarea[_ngcontent-%COMP%]:focus-within{transform:none;border-color:var(--glass-accent-primary);box-shadow:0 4px 15px #007aff33,0 0 0 2px #007aff26}.mini-segment[_ngcontent-%COMP%]{height:3.5rem;min-height:3.5rem;border-radius:10px}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:2.5rem;font-size:.95rem;border-radius:8px}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{gap:.4rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem}.mini-btn[_ngcontent-%COMP%]{min-height:3.2rem;max-height:3.2rem;font-size:.95rem;flex:0 0 110px;border-radius:10px}.mini-btn[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.mini-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.balance-display[_ngcontent-%COMP%]{min-height:2.2rem;padding:.6rem .8rem;font-size:.85rem;border-radius:8px;animation:none}.balance-display[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.balance-label[_ngcontent-%COMP%]{font-size:.8rem}.balance-amount[_ngcontent-%COMP%]{font-size:.9rem}.button-row[_ngcontent-%COMP%]{gap:1rem;margin-top:1.5rem;flex-direction:column}.button-row[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{flex:none;width:100%}.modern-content[_ngcontent-%COMP%]:before{animation-duration:12s}}@media (max-width: 480px){.form-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.main-container[_ngcontent-%COMP%]{padding:.8rem;padding-bottom:70px}.compact-content[_ngcontent-%COMP%]{padding:1rem;gap:.8rem}.field-row[_ngcontent-%COMP%]{min-height:3rem}.field-label-right[_ngcontent-%COMP%]{font-size:.9rem!important}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:2.8rem;max-height:2.8rem;font-size:.9rem;border-radius:8px}.mini-segment[_ngcontent-%COMP%]{height:3rem;min-height:3rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:2.2rem;font-size:.85rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem}.mini-btn[_ngcontent-%COMP%]{min-height:2.8rem;max-height:2.8rem;font-size:.85rem}.balance-display[_ngcontent-%COMP%]{min-height:2rem;padding:.5rem .7rem;font-size:.8rem}.balance-label[_ngcontent-%COMP%]{font-size:.75rem}.balance-amount[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 480px){.form-container[_ngcontent-%COMP%]{width:95%}.main-container[_ngcontent-%COMP%]{padding:.5rem;padding-bottom:60px}.field-label-right[_ngcontent-%COMP%]{flex:0 0 70px;font-size:.9rem!important}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:2rem;max-height:2rem;font-size:.85rem}.mini-segment[_ngcontent-%COMP%]{height:2rem;min-height:2rem}.mini-btn[_ngcontent-%COMP%]{min-height:2rem;max-height:2rem;font-size:.75rem;flex:0 0 80px}.balance-display[_ngcontent-%COMP%]{min-height:1.3rem;padding:.1rem .25rem;font-size:.65rem}.balance-label[_ngcontent-%COMP%]{font-size:.65rem}.balance-amount[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-height: 600px){.main-container[_ngcontent-%COMP%]{height:calc(100vh - 50px)}.compact-content[_ngcontent-%COMP%]{gap:.2rem;padding:.3rem}.field-row[_ngcontent-%COMP%]{min-height:1.5rem;padding:.1rem 0}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:1.4rem;max-height:1.4rem}.mini-segment[_ngcontent-%COMP%]{height:1.4rem;min-height:1.4rem}.mini-btn[_ngcontent-%COMP%]{min-height:1.4rem;max-height:1.4rem}}@media (max-height: 500px){.compact-header[_ngcontent-%COMP%]{padding:.2rem .5rem}.form-title[_ngcontent-%COMP%]{font-size:.85rem}.compact-content[_ngcontent-%COMP%]{padding:.2rem;gap:.15rem}.field-row[_ngcontent-%COMP%]{min-height:1.3rem;padding:.05rem 0}.field-label-right[_ngcontent-%COMP%]{font-size:.8rem!important;flex:0 0 65px}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{min-height:1.3rem;max-height:1.3rem;font-size:.75rem}.mini-segment[_ngcontent-%COMP%]{height:1.3rem;min-height:1.3rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:1.1rem;font-size:.65rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.7rem}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65rem}.mini-btn[_ngcontent-%COMP%]{min-height:1.3rem;max-height:1.3rem;font-size:.7rem}}@media (prefers-color-scheme: dark){.modern-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgba(30, 30, 30, .95) 0%, rgba(0, 0, 0, .9) 50%, rgba(20, 20, 40, .95) 100%)}.modern-content[_ngcontent-%COMP%]:before{background:radial-gradient(circle at 20% 50%,rgba(60,60,120,.15) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(40,80,140,.15) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(255,255,255,.02) 0%,transparent 50%)}.form-card[_ngcontent-%COMP%]{background:var(--liquid-glass-bg-dark);border:.5px solid rgba(128,128,128,.2);box-shadow:0 12px 35px #00000080,0 6px 12px #0000004d,0 8px 32px #0006,0 0 0 1px #ffffff0d inset,0 1px #ffffff1a inset}.form-card[_ngcontent-%COMP%]:hover{border-color:#8080804d}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(0,122,255,.6) 0%,rgba(0,100,200,.8) 100%);border-bottom-color:#ffffff14}.card-title[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,255,255,.95) 0%,rgba(255,255,255,.7) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border:.5px solid rgba(128,128,128,.3);--color: rgba(255, 255, 255, .9);--placeholder-color: rgba(255, 255, 255, .4)}.mini-input[_ngcontent-%COMP%]:focus-within, .mini-select[_ngcontent-%COMP%]:focus-within, .mini-textarea[_ngcontent-%COMP%]:focus-within{background:rgba(0,0,0,.2);border-color:#007affcc;box-shadow:0 8px 25px #007aff33,0 0 0 3px #007aff26}.mini-input.readonly-input[_ngcontent-%COMP%]:hover, .mini-select.readonly-input[_ngcontent-%COMP%]:hover, .mini-textarea.readonly-input[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.mini-input.amount-input[_ngcontent-%COMP%], .mini-select.amount-input[_ngcontent-%COMP%], .mini-textarea.amount-input[_ngcontent-%COMP%]{--color: rgba(0, 180, 255, .9)}.mini-input.amount-input[_ngcontent-%COMP%]:focus-within, .mini-select.amount-input[_ngcontent-%COMP%]:focus-within, .mini-textarea.amount-input[_ngcontent-%COMP%]:focus-within{--color: rgba(0, 180, 255, 1);text-shadow:0 0 15px rgba(0,180,255,.4)}.mini-segment[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-color:#ffffff1a}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--color: rgba(255, 255, 255, .7);--color-checked: white}.mini-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);box-shadow:0 4px 15px rgba(var(--ion-color-primary-rgb),.4),0 0 0 1px #ffffff1a inset}.mini-btn[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-color:#ffffff1a;color:#ffffffe6}.mini-btn.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(52,199,89,.7) 0%,rgba(40,180,70,.8) 100%);border-color:#34c7594d;color:#fff}.mini-btn.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(52,199,89,.8) 0%,rgba(40,180,70,.9) 100%)}.mini-btn.save-btn[_ngcontent-%COMP%]:disabled{background:rgba(0,0,0,.4);color:#ffffff4d;border-color:#ffffff0d}.mini-btn.clear-btn[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:#ffffffb3;border-color:#ffffff1a}.mini-btn.clear-btn[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3);color:#ffffffe6;border-color:#007aff80}.balance-display[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border-color:#ffffff14}.balance-display[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.balance-label[_ngcontent-%COMP%]{color:#ffffffb3;text-shadow:0 1px 2px rgba(0,0,0,.5)}.balance-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .balance-error[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.5)}.field-label-right[_ngcontent-%COMP%]{color:#ffffffe6;text-shadow:0 1px 2px rgba(0,0,0,.3)}.loading-text[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,255,255,.8) 0%,rgba(0,180,255,.9) 50%,rgba(255,255,255,.8) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}}.mini-input[_ngcontent-%COMP%]:focus-within, .mini-select[_ngcontent-%COMP%]:focus-within, .mini-textarea[_ngcontent-%COMP%]:focus-within{border-color:var(--ion-color-primary);box-shadow:0 0 0 1px rgba(var(--ion-color-primary-rgb),.2)}@media (hover: none) and (pointer: coarse){.mini-input[_ngcontent-%COMP%], .mini-select[_ngcontent-%COMP%], .mini-textarea[_ngcontent-%COMP%], .mini-btn[_ngcontent-%COMP%]{min-height:32px}.mini-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:30px}.field-row[_ngcontent-%COMP%]{min-height:36px}}']}),o})()}];let Y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[b.Bz.forChild(S)],b.Bz]}),o})();var D=l(78565);let H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,m.u5,D.G,s.Pc,Y]]}),o})()}}]);
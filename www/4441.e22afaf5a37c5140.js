"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4441],{4441:(w,v,g)=>{g.d(v,{n:()=>Gt});var _=g(70655),t=g(29863),h=g(23349),f=g(6612),T=g(69808);function q(i,n){1&i&&(t.TgZ(0,"div",12),t._UZ(1,"ion-spinner",13),t.TgZ(2,"p",14),t._uU(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0635\u0648\u0631 \u0644\u0644\u0637\u0628\u0627\u0639\u0629..."),t.qZA(),t.TgZ(4,"p",15),t._uU(5,"Preparing images for printing..."),t.qZA(),t.qZA())}function b(i,n){1&i&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 \u0645\u0628\u0633\u0637\u0629 "),t.qZA())}function A(i,n){1&i&&(t.TgZ(0,"h3",9),t._uU(1," simple vat invoice "),t.qZA())}function y(i,n){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td",24),t._uU(4),t.qZA(),t.TgZ(5,"td",24),t._uU(6),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.qZA(),t.TgZ(9,"td",24),t._uU(10),t.qZA(),t.TgZ(11,"td",24),t._uU(12),t.qZA(),t.TgZ(13,"td",24),t._uU(14),t.qZA(),t.qZA()),2&i){const e=n.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(2),t.hij(" ",o.formatNumberWithSeparators(e.pay_price)," "),t.xp6(2),t.hij(" ",o.formatNumberWithSeparators(e.discount)," "),t.xp6(2),t.hij(" ",e.tax," "),t.xp6(2),t.Oqu(o.formatNumberWithSeparators(+e.pay_price+ +e.tax/100*+e.pay_price)),t.xp6(2),t.hij(" ",o.formatNumberWithSeparators(e.tot)," ")}}function r(i,n){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t.TgZ(3,"ion-label"),t._uU(4,"\u0635\u0627\u0641\u064a \u0627\u0644\u0645\u0628\u0644\u063a / total "),t.qZA(),t.qZA(),t.TgZ(5,"div",29),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",27),t.TgZ(9,"div",28),t.TgZ(10,"ion-label"),t._uU(11," \u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 % / VAT%"),t.qZA(),t.qZA(),t.TgZ(12,"div",29),t.TgZ(13,"ion-label"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",27),t.TgZ(16,"div",28),t.TgZ(17,"ion-label"),t._uU(18," \u0642\u064a\u0645\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 / VAT "),t.qZA(),t.qZA(),t.TgZ(19,"div",29),t.TgZ(20,"ion-label"),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",27),t.TgZ(23,"div",28),t.TgZ(24,"ion-label"),t._uU(25," \u0635\u0627\u0641\u064a \u0627\u0644\u0645\u0628\u0644\u063a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 / total include VAT "),t.qZA(),t.qZA(),t.TgZ(26,"div",29),t.TgZ(27,"ion-label"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.discount)," "),t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.discount)," "),t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr-+e.printArr[0].payInvo.discount)," ")}}function u(i,n){1&i&&t._UZ(0,"div")}function c(i,n){1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"h6",9),t.TgZ(2,"ion-label"),t._uU(3," Thank You For Visit "),t.qZA(),t.qZA(),t.TgZ(4,"h6",9),t.TgZ(5,"ion-label"),t._uU(6," \u0634\u0643\u0631\u0627 \u0644\u0632\u064a\u0627\u0631\u062a\u0643\u0645 "),t.qZA(),t.qZA(),t.qZA())}function p(i,n){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"h6",9),t.TgZ(2,"ion-label"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.hij(" : ",e.printArr[0].company.address," ")}}function P(i,n){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"h6",9),t.TgZ(2,"ion-label"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.hij(" \u0627\u0644\u0647\u0627\u062a\u0641 / phone : ",e.printArr[0].company.phone-e.printArr[0].company.phone2," ")}}function U(i,n){if(1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",18),t.TgZ(3,"ion-label"),t.TgZ(4,"ion-text"),t._uU(5,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e / date: "),t.qZA(),t.TgZ(6,"ion-text"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",18),t.TgZ(9,"ion-label"),t.TgZ(10,"ion-text"),t._uU(11," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 / user name:"),t.qZA(),t.TgZ(12,"ion-text"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",19),t.TgZ(15,"div",20),t.TgZ(16,"table",21),t.TgZ(17,"tr"),t.TgZ(18,"th",22),t._uU(19,"\u0627\u0644\u0635\u0646\u0641 item"),t.qZA(),t.TgZ(20,"th",22),t._uU(21,"\u0627\u0644\u0643\u0645\u064a\u0629 QTY"),t.qZA(),t.TgZ(22,"th",22),t._uU(23,"\u0633\u0639\u0631 unit price "),t.qZA(),t.TgZ(24,"th",22),t._uU(25,"\u0627\u0644\u062e\u0635\u0645 discount "),t.qZA(),t.TgZ(26,"th",22),t._uU(27,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 VAT%"),t.qZA(),t.TgZ(28,"th",22),t._uU(29,"\u0642\u064a\u0645\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 VAT "),t.qZA(),t.TgZ(30,"th",22),t._uU(31," \u0635\u0627\u0641\u064a \u0627\u0644\u0642\u064a\u0645\u0629 total "),t.qZA(),t.qZA(),t.YNc(32,y,15,7,"tr",23),t.TgZ(33,"tr"),t._UZ(34,"td"),t._UZ(35,"td"),t._UZ(36,"td"),t._UZ(37,"td"),t._UZ(38,"td"),t.TgZ(39,"td",24),t._uU(40),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(41,r,29,4,"div",25),t.YNc(42,u,1,0,"div",1),t.YNc(43,c,7,0,"div",25),t.YNc(44,p,4,1,"div",25),t.YNc(45,P,4,1,"div",25),t.qZA()),2&i){const e=t.oxw(2);t.xp6(7),t.AsE("",e.printArr[0].payInvo.pay_date," ",e.printArr[0].payInvo.pay_time,""),t.xp6(6),t.hij("",e.printArr[0].user_name," "),t.xp6(19),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(8),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function C(i,n){if(1&i&&(t.TgZ(0,"ion-content",2),t.YNc(1,q,6,0,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5,6),t.TgZ(5,"div",7),t._UZ(6,"img",8),t.qZA(),t.TgZ(7,"h4",9),t._uU(8),t.qZA(),t.TgZ(9,"h4",9),t._uU(10),t.qZA(),t.TgZ(11,"h4",9),t.TgZ(12,"ion-label"),t._uU(13,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a / VAT NO :"),t.qZA(),t.TgZ(14,"ion-text"),t._uU(15),t.qZA(),t.qZA(),t.YNc(16,b,2,0,"h3",10),t.YNc(17,A,2,0,"h3",10),t.YNc(18,U,46,10,"div",11),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.imagesLoaded),t.xp6(5),t.Q6J("src",e.printArr[0].company.logoUrl,t.LSH),t.xp6(2),t.hij("",e.printArr[0].company.engName," "),t.xp6(2),t.hij("",e.printArr[0].company.arName," "),t.xp6(5),t.Oqu(e.printArr[0].company.vatNo),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page||"pos-sales"==e.page),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page||"pos-sales"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr&&"perchOrderEn"!=e.page&&"perchOrderAr"!=e.page&&"perchOrderAr-record"!=e.page&&"perchOrderEn-record"!=e.page)}}function N(i,n){1&i&&(t.TgZ(0,"div",12),t._UZ(1,"ion-spinner",13),t.TgZ(2,"p",14),t._uU(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0635\u0648\u0631 \u0644\u0644\u0637\u0628\u0627\u0639\u0629..."),t.qZA(),t.TgZ(4,"p",15),t._uU(5,"Preparing images for printing..."),t.qZA(),t.qZA())}function M(i,n){if(1&i&&(t.TgZ(0,"div",44),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u064a\u0645 \u0645\u0639\u0631\u0648\u0636\u0629 \u0628\u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629 \u0645\u0639 \u0627\u0644\u0642\u064a\u0645\u0629 \u0628\u0627\u0644\u062c\u0646\u064a\u0647 \u0627\u0644\u0633\u0648\u062f\u0627\u0646\u064a"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE("\u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629: ",e.currentCurrency," - \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641: ",t.xi3(3,2,e.exchangeRate,"1.2-6"),"")}}function S(i,n){1&i&&(t.TgZ(0,"h1",45),t._uU(1," \u0628\u064a\u0627\u0646"),t.qZA())}function O(i,n){1&i&&(t.TgZ(0,"strong"),t._uU(1,"\u0627\u0644\u0639\u0645\u064a\u0644: "),t.qZA())}function E(i,n){1&i&&(t.TgZ(0,"strong"),t._uU(1,"\u0627\u0644\u0645\u0648\u0631\u062f: "),t.qZA())}function Y(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.printArr[0].selectedAccount.sub_name," ")}}function D(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.printArr[0].selectedAccount," ")}}function J(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.printArr[0].sub_nameNew)}}function Q(i,n){if(1&i&&(t.TgZ(0,"span",49),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646: "),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("",e.printArr[0].selectedAccount.address," ")}}function j(i,n){if(1&i&&(t.TgZ(0,"span",49),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u0647\u0627\u062a\u0641: "),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("",e.printArr[0].selectedAccount.phone," ")}}function L(i,n){if(1&i&&(t.TgZ(0,"div",46),t.TgZ(1,"div",47),t.TgZ(2,"div",48),t.TgZ(3,"span",49),t.TgZ(4,"strong"),t._uU(5,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e: "),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"span",49),t.YNc(8,O,2,0,"strong",1),t.YNc(9,E,2,0,"strong",1),t.YNc(10,Y,2,1,"span",1),t.YNc(11,D,2,1,"span",1),t.YNc(12,J,2,1,"span",1),t.qZA(),t.qZA(),t.TgZ(13,"div",50),t.YNc(14,Q,4,1,"span",51),t.YNc(15,j,4,1,"span",51),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(6),t.hij("",e.printArr[0].payInvo.pay_date," "),t.xp6(2),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&("sales"==e.page||"perch"==e.page)),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&("sales_record"==e.page||"perch_record"==e.page)),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0),t.xp6(2),t.Q6J("ngIf",e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim())}}function F(i,n){1&i&&(t.TgZ(0,"th",55),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629 "),t.qZA())}function R(i,n){1&i&&(t.TgZ(0,"th",55),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA())}function W(i,n){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.hij(" ",o.formatNumberWithSeparators(e.pay_price)," ")}}function G(i,n){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.hij(" ",o.formatNumberWithSeparators(e.perch_price)," ")}}function B(i,n){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",57),t._uU(2),t.qZA(),t.TgZ(3,"td",58),t._uU(4),t.qZA(),t.TgZ(5,"td",57),t._uU(6),t.qZA(),t.YNc(7,W,2,1,"td",59),t.YNc(8,G,2,1,"td",59),t.TgZ(9,"td",57),t._uU(10),t.qZA(),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(3);t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.Oqu(e.quantity),t.xp6(1),t.Q6J("ngIf","sales"==a.page||"sales_record"==a.page),t.xp6(1),t.Q6J("ngIf","perch"==a.page||"perch_record"==a.page),t.xp6(2),t.Oqu(a.formatNumberWithSeparators(e.tot))}}function $(i,n){if(1&i&&(t.TgZ(0,"div",52),t.TgZ(1,"table",53),t.TgZ(2,"thead"),t.TgZ(3,"tr",54),t.TgZ(4,"th",55),t._uU(5,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(6,"th",55),t._uU(7,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(8,"th",55),t._uU(9,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.YNc(10,F,2,0,"th",56),t.YNc(11,R,2,0,"th",56),t.TgZ(12,"th",55),t._uU(13,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,B,11,6,"tr",23),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(10),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(4),t.Q6J("ngForOf",e.printArr[0].itemList)}}function z(i,n){if(1&i&&(t.TgZ(0,"span",61),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("",e.formatNumberWithSeparators(e.printArr[0].payInvo.discount)," ")}}function k(i,n){if(1&i&&(t.TgZ(0,"span",61),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr-+e.printArr[0].payInvo.discount)," ")}}function H(i,n){if(1&i&&(t.TgZ(0,"div",60),t.TgZ(1,"div",47),t.TgZ(2,"div",48),t.TgZ(3,"span",61),t.TgZ(4,"strong"),t._uU(5,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a : "),t.qZA(),t._uU(6),t.qZA(),t.YNc(7,z,4,1,"span",62),t.YNc(8,k,4,1,"span",62),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(6),t.hij("",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)," "),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0)}}function V(i,n){if(1&i&&(t.TgZ(0,"div",63),t.TgZ(1,"p"),t.TgZ(2,"strong"),t._uU(3,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645:"),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.printArr[0].payInvo.user_name,"")}}function K(i,n){if(1&i&&(t.TgZ(0,"ion-content"),t.YNc(1,N,6,0,"div",3),t.YNc(2,M,6,5,"div",30),t.TgZ(3,"div",31),t.TgZ(4,"div",5,6),t.TgZ(6,"div",32),t.TgZ(7,"div",33),t._UZ(8,"img",34),t.qZA(),t.TgZ(9,"div",35),t.TgZ(10,"h2",36),t.TgZ(11,"strong"),t._uU(12,"GVS"),t.qZA(),t.qZA(),t.YNc(13,S,2,0,"h1",37),t.qZA(),t.TgZ(14,"div",38),t._UZ(15,"img",39),t.qZA(),t.qZA(),t.YNc(16,L,16,8,"div",40),t.YNc(17,$,16,3,"div",41),t.YNc(18,H,9,3,"div",42),t.YNc(19,V,5,1,"div",43),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.imagesLoaded),t.xp6(1),t.Q6J("ngIf","SDG"!==e.currentCurrency),t.xp6(6),t.Q6J("src",e.vehicleBase64||"assets/imgs/tuk.jpg",t.LSH),t.xp6(5),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(2),t.Q6J("src",e.logoBase64||"assets/imgs/logo.png",t.LSH),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function X(i,n){1&i&&(t.TgZ(0,"div",12),t._UZ(1,"ion-spinner",13),t.TgZ(2,"p",14),t._uU(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0635\u0648\u0631 \u0644\u0644\u0637\u0628\u0627\u0639\u0629..."),t.qZA(),t.TgZ(4,"p",15),t._uU(5,"Preparing images for printing..."),t.qZA(),t.qZA())}function tt(i,n){1&i&&(t.TgZ(0,"h4",9),t._uU(1,"POWERMAX , SIMBA , GIRISH \u0627\u0644\u0648\u0643\u064a\u0644 \u0627\u0644\u062d\u0635\u0631\u064a \u0644\u0645\u0627\u0631\u0643\u0627\u062a "),t.qZA())}function et(i,n){1&i&&(t.TgZ(0,"h4",9),t._uU(1," Exclusive agent for brands (POWERMAX , SIMBA , GIRISH ) "),t.qZA())}function it(i,n){1&i&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0628\u064a\u0639\u0627\u062a "),t.qZA())}function nt(i,n){1&i&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0634\u062a\u0631\u064a\u0627\u062a "),t.qZA())}function rt(i,n){1&i&&(t.TgZ(0,"h3",9),t._uU(1," Purchase Order "),t.qZA())}function ot(i,n){1&i&&(t.TgZ(0,"h3",9),t._uU(1," \u0627\u0645\u0631 \u0634\u0631\u0627\u0621 "),t.qZA())}function at(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0639\u0645\u064a\u0644 : ",e.printArr[0].selectedAccount.sub_name,"")}}function ut(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0639\u0645\u064a\u0644 : ",e.printArr[0].selectedAccount,"")}}function ct(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0639\u0645\u064a\u0644 : ",e.printArr[0].sub_nameNew,"")}}function st(i,n){if(1&i&&(t.TgZ(0,"div",73),t.YNc(1,at,2,1,"ion-label",1),t.YNc(2,ut,2,1,"ion-label",1),t.YNc(3,ct,2,1,"ion-label",1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"sales"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0)}}function pt(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount.sub_name,"")}}function lt(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount,"")}}function gt(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].sub_nameNew,"")}}function dt(i,n){if(1&i&&(t.TgZ(0,"div",73),t.YNc(1,pt,2,1,"ion-label",1),t.YNc(2,lt,2,1,"ion-label",1),t.YNc(3,gt,2,1,"ion-label",1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perch"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0)}}function _t(i,n){if(1&i&&(t.TgZ(0,"div",74),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.hij("\u0627\u0644\u0645\u0643\u0627\u0646 : ",e.printArr[0].selectedAccount.address,"")}}function ht(i,n){if(1&i&&(t.TgZ(0,"div",75),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.hij(" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 : ",e.printArr[0].selectedAccount.phone," ")}}function mt(i,n){1&i&&(t.TgZ(0,"th",70),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA())}function xt(i,n){1&i&&(t.TgZ(0,"th",70),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0647 "),t.qZA())}function Zt(i,n){if(1&i&&(t.TgZ(0,"td",72),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.hij(" ",o.formatNumberWithSeparators(e.pay_price)," ")}}function At(i,n){if(1&i&&(t.TgZ(0,"td",72),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.hij(" ",o.formatNumberWithSeparators(e.perch_price)," ")}}function ft(i,n){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",72),t._uU(2),t.qZA(),t.TgZ(3,"td",72),t._uU(4),t.qZA(),t.TgZ(5,"td",72),t._uU(6),t.qZA(),t.YNc(7,Zt,2,1,"td",76),t.YNc(8,At,2,1,"td",76),t.TgZ(9,"td",72),t._uU(10),t.qZA(),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(3);t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(1),t.Q6J("ngIf","sales"==a.page||"sales_record"==a.page),t.xp6(1),t.Q6J("ngIf","perch"==a.page||"perch_record"==a.page),t.xp6(2),t.Oqu(a.formatNumberWithSeparators(e.tot))}}function Tt(i,n){1&i&&(t.TgZ(0,"div",83),t.TgZ(1,"ion-label"),t._uU(2,"\u0627\u0644\u062e\u0635\u0640\u0640\u0645 "),t.qZA(),t.qZA())}function vt(i,n){if(1&i&&(t.TgZ(0,"div",77),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(2),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.discount))}}function qt(i,n){1&i&&(t.TgZ(0,"div",77),t.TgZ(1,"ion-label"),t._uU(2,"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f\u0627\u0644\u062e\u0635\u0645"),t.qZA(),t.qZA())}function bt(i,n){if(1&i&&(t.TgZ(0,"div",84),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(2),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr-+e.printArr[0].payInvo.discount))}}function yt(i,n){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",77),t.TgZ(3,"ion-label"),t._uU(4,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a "),t.qZA(),t.qZA(),t.TgZ(5,"div",78),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,Tt,3,0,"div",79),t.YNc(9,vt,3,1,"div",80),t.YNc(10,qt,3,0,"div",81),t.YNc(11,bt,3,1,"div",82),t.qZA(),t.TgZ(12,"div",75),t.TgZ(13,"ion-label"),t._uU(14),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(3),t.hij(" \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 : ",e.printArr[0].payInvo.user_name," ")}}function Pt(i,n){if(1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",66),t.TgZ(3,"ion-label"),t._uU(4,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),t.qZA(),t._uU(5),t.qZA(),t.YNc(6,st,4,3,"div",67),t.YNc(7,dt,4,3,"div",67),t.qZA(),t.TgZ(8,"div",17),t.YNc(9,_t,3,1,"div",68),t.YNc(10,ht,3,1,"div",69),t.qZA(),t.TgZ(11,"div",19),t.TgZ(12,"div",20),t.TgZ(13,"table",21),t.TgZ(14,"tr"),t.TgZ(15,"th",70),t._uU(16,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(17,"th",70),t._uU(18,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(19,"th",70),t._uU(20,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.YNc(21,mt,2,0,"th",71),t.YNc(22,xt,2,0,"th",71),t.TgZ(23,"th",70),t._uU(24,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.YNc(25,ft,11,6,"tr",23),t.TgZ(26,"tr"),t._UZ(27,"td"),t._UZ(28,"td"),t._UZ(29,"td"),t._UZ(30,"td"),t.TgZ(31,"td",72),t._uU(32),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(33,yt,15,6,"div",25),t.qZA()),2&i){const e=t.oxw(2);t.xp6(5),t.hij(" ",e.printArr[0].payInvo.pay_date," "),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(2),t.Q6J("ngIf",("sales"==e.page||"sales_record"==e.page)&&e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",("sales"==e.page||"sales_record"==e.page)&&e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim()),t.xp6(11),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(3),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(7),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function It(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount.sub_name,"")}}function wt(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount,"")}}function Ut(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].sub_nameNew,"")}}function Ct(i,n){if(1&i&&(t.TgZ(0,"div",74),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.hij("\u0627\u0644\u0639\u0646\u0648\u0627\u0646 : ",e.printArr[0].selectedAccount.address,"")}}function Nt(i,n){if(1&i&&(t.TgZ(0,"div",75),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.hij(" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 : ",e.printArr[0].selectedAccount.phone," ")}}function Mt(i,n){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",72),t._uU(2),t.qZA(),t.TgZ(3,"td",72),t._uU(4),t.qZA(),t.TgZ(5,"td",72),t._uU(6),t.qZA(),t.TgZ(7,"td",72),t._uU(8),t.qZA(),t.TgZ(9,"td",72),t._uU(10),t.qZA(),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(3);t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(2),t.hij(" ",a.formatNumberWithSeparators(e.perch_price)," "),t.xp6(2),t.Oqu(a.formatNumberWithSeparators(e.tot))}}function St(i,n){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",84),t.TgZ(3,"ion-label"),t._uU(4,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a "),t.qZA(),t.qZA(),t.TgZ(5,"div",85),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",86),t.TgZ(9,"ion-label"),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatCurrencyWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(3),t.hij(" \u062a\u0639\u0644\u064a\u0642: ",e.printArr[0].payInvo.payComment," ")}}function Ot(i,n){if(1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",66),t.TgZ(3,"ion-label"),t._uU(4,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",73),t.YNc(7,It,2,1,"ion-label",1),t.YNc(8,wt,2,1,"ion-label",1),t.YNc(9,Ut,2,1,"ion-label",1),t.qZA(),t.qZA(),t.TgZ(10,"div",17),t.YNc(11,Ct,3,1,"div",68),t.YNc(12,Nt,3,1,"div",69),t.qZA(),t.TgZ(13,"div",19),t.TgZ(14,"div",20),t.TgZ(15,"table",21),t.TgZ(16,"tr"),t.TgZ(17,"th",70),t._uU(18,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(19,"th",70),t._uU(20,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(21,"th",70),t._uU(22,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(23,"th",70),t._uU(24," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA(),t.TgZ(25,"th",70),t._uU(26,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.YNc(27,Mt,11,5,"tr",23),t.TgZ(28,"tr"),t._UZ(29,"td"),t._UZ(30,"td"),t._UZ(31,"td"),t._UZ(32,"td"),t.TgZ(33,"td",72),t._uU(34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,St,11,2,"div",25),t.qZA()),2&i){const e=t.oxw(2);t.xp6(5),t.hij(" ",e.printArr[0].payInvo.pay_date," "),t.xp6(2),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderAr"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderAr-record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0),t.xp6(2),t.Q6J("ngIf",e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim()),t.xp6(15),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(7),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function Et(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Supplier : ",e.printArr[0].selectedAccount.sub_name,"")}}function Yt(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Supplier : ",e.printArr[0].selectedAccount,"")}}function Dt(i,n){if(1&i&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Supplier : ",e.printArr[0].sub_nameNew,"")}}function Jt(i,n){if(1&i&&(t.TgZ(0,"div",74),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.hij("Address : ",e.printArr[0].selectedAccount.address,"")}}function Qt(i,n){if(1&i&&(t.TgZ(0,"div",75),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.hij(" Phone No : ",e.printArr[0].selectedAccount.phone," ")}}function jt(i,n){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",72),t._uU(2),t.qZA(),t.TgZ(3,"td",72),t._uU(4),t.qZA(),t.TgZ(5,"td",72),t._uU(6),t.qZA(),t.TgZ(7,"td",72),t._uU(8),t.qZA(),t.TgZ(9,"td",72),t._uU(10),t.qZA(),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(3);t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.item_desc),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(2),t.hij(" ",a.formatNumberWithSeparators(e.perch_price)," "),t.xp6(2),t.Oqu(a.formatNumberWithSeparators(e.tot))}}function Lt(i,n){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",84),t.TgZ(3,"ion-label"),t._uU(4," Total "),t.qZA(),t.qZA(),t.TgZ(5,"div",85),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",86),t.TgZ(9,"ion-label"),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(3),t.hij(" Comment: ",e.printArr[0].payInvo.payComment," ")}}function Ft(i,n){if(1&i&&(t.TgZ(0,"div",87),t.TgZ(1,"div",88),t.TgZ(2,"div",89),t.TgZ(3,"ion-label"),t._uU(4,"Date :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",90),t.YNc(7,Et,2,1,"ion-label",1),t.YNc(8,Yt,2,1,"ion-label",1),t.YNc(9,Dt,2,1,"ion-label",1),t.qZA(),t.qZA(),t.TgZ(10,"div",17),t.YNc(11,Jt,3,1,"div",68),t.YNc(12,Qt,3,1,"div",69),t.qZA(),t.TgZ(13,"div",19),t.TgZ(14,"div",20),t.TgZ(15,"table",21),t.TgZ(16,"tr"),t.TgZ(17,"th",70),t._uU(18,"No"),t.qZA(),t.TgZ(19,"th",70),t._uU(20,"Item"),t.qZA(),t.TgZ(21,"th",70),t._uU(22,"Qty"),t.qZA(),t.TgZ(23,"th",70),t._uU(24," Purchace price "),t.qZA(),t.TgZ(25,"th",70),t._uU(26,"Total "),t.qZA(),t.qZA(),t.YNc(27,jt,11,5,"tr",23),t.TgZ(28,"tr"),t._UZ(29,"td"),t._UZ(30,"td"),t._UZ(31,"td"),t._UZ(32,"td"),t.TgZ(33,"td",72),t._uU(34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,Lt,11,2,"div",25),t.qZA()),2&i){const e=t.oxw(2);t.xp6(5),t.hij(" ",e.printArr[0].payInvo.pay_date," "),t.xp6(2),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderEn"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderEn-record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0),t.xp6(2),t.Q6J("ngIf",e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim()),t.xp6(15),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(7),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function Rt(i,n){if(1&i&&(t.TgZ(0,"div",91),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getExchangeRateFooter()," ")}}function Wt(i,n){if(1&i&&(t.TgZ(0,"ion-content"),t.YNc(1,X,6,0,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5,6),t.TgZ(5,"h4",9),t._uU(6,"GVS FOR IMPORT AND EXPORT "),t.qZA(),t.TgZ(7,"h4",9),t._uU(8,"\u062c\u064a \u0641\u064a \u0627\u0633 \u0644\u0644\u0625\u0633\u062a\u064a\u0631\u0627\u062f \u0648\u0627\u0644\u062a\u0635\u062f\u064a\u0631 "),t.qZA(),t.YNc(9,tt,2,0,"h4",10),t.YNc(10,et,2,0,"h4",10),t.YNc(11,it,2,0,"h3",10),t.YNc(12,nt,2,0,"h3",10),t.YNc(13,rt,2,0,"h3",10),t.YNc(14,ot,2,0,"h3",10),t.YNc(15,Pt,34,10,"div",11),t.YNc(16,Ot,36,9,"div",11),t.YNc(17,Ft,36,9,"div",64),t.qZA(),t.YNc(18,Rt,2,1,"div",65),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.imagesLoaded),t.xp6(8),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page||"perch"==e.page||"perch_record"==e.page||"perchOrderAr"==e.page||"perchOrderAr-record"==e.page),t.xp6(1),t.Q6J("ngIf","perchOrderEn"==e.page||"perchOrderEn-record"==e.page),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf","perchOrderEn"==e.page||"perchOrderEn-record"==e.page),t.xp6(1),t.Q6J("ngIf","perchOrderAr"==e.page||" perchOrderAr-record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr&&"perchOrderEn"!=e.page&&"perchOrderAr"!=e.page&&"perchOrderAr-record"!=e.page&&"perchOrderEn-record"!=e.page),t.xp6(1),t.Q6J("ngIf",e.printArr&&("perchOrderAr"==e.page||"perchOrderAr-record"==e.page)),t.xp6(1),t.Q6J("ngIf",e.printArr&&("perchOrderEn"==e.page||"perchOrderEn-record"==e.page)),t.xp6(1),t.Q6J("ngIf",e.getExchangeRateFooter())}}let Gt=(()=>{class i{constructor(e,o,a,s){this.modalController=e,this.toast=o,this.currencyService=a,this.cdr=s,this.mode="enhanced",this.logoBase64="",this.vehicleBase64="",this.itemImagesBase64={},this.imagesLoaded=!1,this.imageLoadingAttempts={},this.maxRetryAttempts=3,this.currentCurrency="SDG",this.exchangeRate=1,this.fallbackLogo="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiNjY2MiLz4KPHRLEHT4PSJHVlMiIHg9IjUwIiB5PSI1NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzY2NiIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4Ij5HVlM8L3RleHQ+Cjwvc3ZnPg==",this.fallbackVehicle="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiNjY2MiLz4KPHRLEHT4PSLZgNmJ2YTYudmE2YTZhIiB4PSI1MCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2NjYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+2YDZidmE2LnZhNmq2YTZh9mE2Yk8L3RleHQ+Cjwvc3ZnPg==",this.mode="enhanced"}ngOnInit(){return(0,_.mG)(this,void 0,void 0,function*(){console.log(this.printArr[0]),this.sortItemListAlphabetically(),yield this.loadImages(),yield this.initializeCurrencyForPrint()})}ngOnDestroy(){this.currencySubscription&&this.currencySubscription.unsubscribe()}initializeCurrencyForPrint(){return(0,_.mG)(this,void 0,void 0,function*(){yield this.currencyService.initializeCurrency(),this.currentCurrency=this.currencyService.getCurrentCurrencyValue(),this.exchangeRate=this.currencyService.getExchangeRate(this.currentCurrency),this.currencySubscription=this.currencyService.getCurrentCurrency().subscribe(e=>{this.currentCurrency=e,this.exchangeRate=this.currencyService.getExchangeRate(e),this.cdr.detectChanges()}),this.addCurrencyToPrintData()})}addCurrencyToPrintData(){this.printArr&&this.printArr[0]&&(this.printArr[0].currency={code:this.currentCurrency,rate:this.exchangeRate,baseCurrency:"SDG"})}formatDualCurrency(e){if(!e&&0!==e)return"0.00";const o=this.currencyService.convertFromSDG(e,this.currentCurrency),a=this.currencyService.formatCurrency(e,"SDG"),s=this.currencyService.formatCurrency(o,this.currentCurrency);return"SDG"===this.currentCurrency?a:`${s} (${a})`}getExchangeRateFooter(){if("SDG"===this.currentCurrency)return"";const e=(new Date).toLocaleDateString("en-US");return`\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645: 1 ${this.currentCurrency} = ${this.exchangeRate} \u062c\u0646\u064a\u0647 \u0633\u0648\u062f\u0627\u0646\u064a (\u062a\u0627\u0631\u064a\u062e: ${e})`}sortItemListAlphabetically(){!this.printArr[0].itemList||0===this.printArr[0].itemList.length||(this.printArr[0].itemList=[...this.printArr[0].itemList].sort((e,o)=>{const a=e.item_name?e.item_name.toString().toLowerCase():"",s=o.item_name?o.item_name.toString().toLowerCase():"";return a.localeCompare(s,"ar",{numeric:!0})}))}loadImages(){return(0,_.mG)(this,void 0,void 0,function*(){console.log("Starting image loading process...");const e=[];this.imageLoadingAttempts.logo=0,this.imageLoadingAttempts.vehicle=0,e.push(this.loadImageWithRetry("assets/imgs/logo.png","logo").then(o=>{this.logoBase64=o,console.log("Logo loaded successfully")}).catch(o=>{console.warn("Failed to load logo after retries, using fallback:",o),this.logoBase64=this.fallbackLogo})),e.push(this.loadImageWithRetry("assets/imgs/tuk.jpg","vehicle").then(o=>{this.vehicleBase64=o,console.log("Vehicle image loaded successfully")}).catch(o=>{console.warn("Failed to load vehicle image after retries, using fallback:",o),this.vehicleBase64=this.fallbackVehicle}));try{yield Promise.all(e),this.imagesLoaded=!0,console.log("All images loaded. Ready to print."),this.cdr.detectChanges()}catch(o){console.error("Unexpected error during image loading:",o),this.imagesLoaded=!0,this.cdr.detectChanges()}})}loadItemImages(){return(0,_.mG)(this,void 0,void 0,function*(){if(!this.printArr||!this.printArr[0]||!this.printArr[0].itemList)return;const e=this.printArr[0].itemList,o=[];for(const a of e)a.imageUrl&&!this.itemImagesBase64[a.imageUrl]&&o.push(this.convertImageToBase64(a.imageUrl).then(s=>{this.itemImagesBase64[a.imageUrl]=s}).catch(s=>{console.log(`Failed to load item image ${a.imageUrl}:`,s)}));yield Promise.all(o),console.log("Loaded item images:",Object.keys(this.itemImagesBase64))})}loadImageWithRetry(e,o){return(0,_.mG)(this,void 0,void 0,function*(){const a=this.maxRetryAttempts;let s;for(let l=1;l<=a;l++){this.imageLoadingAttempts[o]=l,console.log(`Loading ${o} (attempt ${l}/${a}): ${e}`);try{const d=yield this.convertImageToBase64(e);return console.log(`Successfully loaded ${o} on attempt ${l}`),d}catch(d){if(s=d,console.warn(`Failed to load ${o} on attempt ${l}:`,d),l<a){const m=Math.min(1e3*Math.pow(2,l-1),5e3);console.log(`Retrying ${o} in ${m}ms...`),yield new Promise(x=>setTimeout(x,m))}}}throw new Error(`Failed to load ${o} after ${a} attempts: ${s}`)})}convertImageToBase64(e){return new Promise((o,a)=>{const s=new Image,l=setTimeout(()=>{a(new Error(`Image loading timeout: ${e}`))},1e4);s.crossOrigin="anonymous",s.onload=()=>{clearTimeout(l);try{const Z=document.createElement("canvas"),I=Z.getContext("2d");if(!I)return void a(new Error("Failed to get canvas context"));Z.width=s.width,Z.height=s.height,I.drawImage(s,0,0);const Bt=Z.toDataURL("image/png",.8);o(Bt)}catch(Z){console.error("Error converting image to base64:",Z),a(Z)}},s.onerror=Z=>{clearTimeout(l),console.error("Failed to load image:",e,Z),a(new Error(`Failed to load image: ${e}`))};const d=[e,e.replace("assets/","/assets/"),e.replace("assets/","./assets/"),e.replace("assets/","../assets/")];let m=0;const x=()=>{m<d.length?(console.log(`Trying path variation: ${d[m]}`),s.src=d[m],m++):(clearTimeout(l),a(new Error(`All path variations failed for: ${e}`)))};s.onerror=()=>{console.warn(`Path failed: ${d[m-1]||e}`),setTimeout(x,500)},x()})}ionViewDidEnter(){return(0,_.mG)(this,void 0,void 0,function*(){console.log("Print modal entered, waiting for images...");let e=0;for(;!this.imagesLoaded&&e<30;)yield new Promise(a=>setTimeout(a,500)),e++,console.log(`Waiting for images... (${e}/30)`);this.imagesLoaded||(console.warn("Images not loaded after timeout, proceeding with available images/fallbacks"),this.imagesLoaded=!0),console.log("Starting print process..."),yield this.Print("printarea1")})}Print(e){var o;return(0,_.mG)(this,void 0,void 0,function*(){console.log("Starting print process with images ready");try{let a=null===(o=document.getElementById(e))||void 0===o?void 0:o.innerHTML;if(!a)throw console.error("Print element not found:",e),new Error("Print content not available");console.log("Original content length:",a.length),a=this.replaceImagesInContent(a),console.log("Content after image replacement:",a.length);const s=window.open("","PRINT","height=600,width=800,scrollbars=1");if(!s)throw new Error("Failed to open print window - popup may be blocked");s.document.write('<html><head><meta charset="UTF-8">'),s.document.write("<title>\u0637\u0628\u0627\u0639\u0629 - Print</title>"),s.document.write('<style type="text/css">'),s.document.write("\n        @page { \n          size: A4; \n          margin: 10mm; \n        }\n        body { \n          font-family: Arial, 'Times New Roman', sans-serif; \n          font-size: 14px; \n          line-height: 1.4; \n          margin: 0; \n          padding: 10px;\n          direction: rtl;\n        }\n        .flr { display: block; float: right; }\n        .show { display: block; }\n        .hide { display: none; }\n        .w45 { width: 45%; }\n        .w35 { width: 35%; }\n        .w50 { width: 50%; }\n        .w100 { width: 100%; }\n        .bnone { border: 1px solid #000000; }\n        .td, .th { \n          border: 1px solid #000000; \n          text-align: center; \n          padding: 4px 6px; \n          font-size: 16px; \n          line-height: 1.2;\n        }\n        .hd { background-color: #b9b8b8; }\n        .table { \n          text-align: center; \n          width: 100%; \n          margin: 8px 0; \n          font-size: 16px; \n          border-collapse: collapse;\n        }\n        .ion-margin { margin: 8px; }\n        .ion-margin-top { margin-top: 8px; }\n        .rtl { direction: rtl; text-align: right; }\n        .ion-text-center { text-align: center; }\n        .ion-text-end { text-align: left; }\n        .ion-text-start { text-align: right; }\n        img { \n          max-width: 100%; \n          height: auto; \n          image-rendering: -webkit-optimize-contrast;\n          image-rendering: crisp-edges;\n        }\n        h1, h2, h3, h4, h5, h6 { \n          margin: 8px 0; \n          line-height: 1.3; \n        }\n        table { \n          page-break-inside: avoid; \n        }\n        tr { \n          page-break-inside: avoid; \n        }\n      "),s.document.write("</style></head><body>"),s.document.write(a),s.document.write("</body></html>"),s.document.close(),console.log("Print document prepared, waiting for images to load..."),setTimeout(()=>{try{s.focus(),s.print(),setTimeout(()=>{s.closed||s.close()},1e3)}catch(d){console.error("Error during printing:",d)}},1500)}catch(a){console.error("Print process failed:",a),yield this.showToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0637\u0628\u0627\u0639\u0629 - Print error: "+a.message,"danger")}this.modalController.dismiss()})}replaceImagesInContent(e){console.log("Replacing images in content...");let a=e,s=0;return[{pattern:/src=['"]assets\/imgs\/logo\.png['"]/gi,replacement:`src="${this.logoBase64}"`,name:"logo-direct"},{pattern:/src=['"]assets\/imgs\/tuk\.jpg['"]/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-direct"},{pattern:/src=assets\/imgs\/logo\.png/gi,replacement:`src="${this.logoBase64}"`,name:"logo-no-quotes"},{pattern:/src=assets\/imgs\/tuk\.jpg/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-no-quotes"},{pattern:/src=['"][^'"]*assets\/imgs\/logo\.png[^'"]*['"]/gi,replacement:`src="${this.logoBase64}"`,name:"logo-property-binding"},{pattern:/src=['"][^'"]*assets\/imgs\/tuk\.jpg[^'"]*['"]/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-property-binding"},{pattern:/assets\/imgs\/logo\.png/gi,replacement:this.logoBase64,name:"logo-any-occurrence"},{pattern:/assets\/imgs\/tuk\.jpg/gi,replacement:this.vehicleBase64,name:"vehicle-any-occurrence"}].forEach(({pattern:l,replacement:d,name:m})=>{const x=a.match(l);x&&(console.log(`Found ${x.length} matches for ${m}:`,x),a=a.replace(l,d),s+=x.length)}),console.log(`Total image replacements made: ${s}`),this.logoBase64&&a.includes(this.logoBase64)?console.log("\u2713 Logo base64 found in final content"):console.warn("\u26a0 Logo base64 NOT found in final content"),this.vehicleBase64&&a.includes(this.vehicleBase64)?console.log("\u2713 Vehicle base64 found in final content"):console.warn("\u26a0 Vehicle base64 NOT found in final content"),a}showToast(e,o="primary"){return(0,_.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:3e3,color:o,position:"top"})).present()})}formatBalance(e){return e||0===e?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e)):"0.00"}formatNumberWithSeparators(e){return!e&&0!==e||isNaN(e)?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}formatCurrencyWithSeparators(e,o=!0){if(!e&&0!==e)return o?"0.00 "+this.getCurrencySymbol():"0.00";if(isNaN(e))return o?"0.00 "+this.getCurrencySymbol():"0.00";const a=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return o?a+" "+this.getCurrencySymbol():a}getCurrencySymbol(){return this.currencyService.getCurrentCurrencySymbol()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.IN),t.Y36(h.yF),t.Y36(f.i),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-print-modal"]],inputs:{printArr:"printArr",page:"page"},decls:3,vars:3,consts:[["style","max-width : 30px",4,"ngIf"],[4,"ngIf"],[2,"max-width","30px"],["style","position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.9); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000;",4,"ngIf"],[1,"ion-padding"],["id","printarea1"],["printarea1",""],[2,"width","100px","height","100px","margin-left","20%"],["alt","",3,"src"],[1,"ion-text-center"],["class","ion-text-center",4,"ngIf"],["class","ion-margin-top rtl",4,"ngIf"],[2,"position","fixed","top","0","left","0","right","0","bottom","0","background","rgba(255,255,255,0.9)","display","flex","flex-direction","column","align-items","center","justify-content","center","z-index","1000"],["name","crescent","color","primary"],[2,"margin-top","16px","font-size","14px","color","#666"],[2,"font-size","12px","color","#999"],[1,"ion-margin-top","rtl"],[1,"w100","rtl",2,"display","inline-block"],[1,"rtl","flr","ion-margin",2,"width","100%","position","relative","float","right","text-align","right"],[1,"ion-margin","rtl"],[1,"ion-margin"],[1,"table"],[1,"th",2,"border-bottom",".5px solid #dddddd"],[4,"ngFor","ngForOf"],[1,"td",2,"border","none"],["class","w100 rtl ion-margin",4,"ngIf"],[1,"w100","rtl","ion-margin"],[1,"w100","rtl",2,"display","inline-block","margin-right","16px"],[1,"rtl","ion-text-center",2,"width","20%","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","30%","text-align","center","padding","8px","position","relative","float","right"],["class","currency-info","style","font-size: 0.8em; margin: 10px 20px; border-bottom: 1px solid #ccc; padding-bottom: 5px; text-align: center;",4,"ngIf"],[2,"padding","13px"],[2,"display","table","width","100%","margin-bottom","12px"],[2,"display","table-cell","width","150px","text-align","left","vertical-align","middle"],["alt","Vehicle",2,"width","120px","height","80px","object-fit","contain",3,"src"],[2,"display","table-cell","text-align","center","vertical-align","middle"],[2,"margin","5px 0 0 0","font-size","30px"],["style","margin: 0; padding: 10px; background-color: #f0f0f0; display: inline-block; font-size: 30px;",4,"ngIf"],[2,"display","table-cell","width","150px","text-align","right","vertical-align","middle"],["alt","Logo",2,"width","120px","height","80px","object-fit","contain",3,"src"],["style","margin-bottom: 13px;margin-top: 20px; border: 1px solid #ccc; padding: 15px; direction: rtl;",4,"ngIf"],["style","margin-bottom: 20px; direction: rtl;",4,"ngIf"],["style","margin-top: 20px; border: 1px solid #ccc; padding: 15px; direction: rtl;",4,"ngIf"],["style","margin-top: 20px; text-align: right; font-size: 12px; direction: rtl;",4,"ngIf"],[1,"currency-info",2,"font-size","0.8em","margin","10px 20px","border-bottom","1px solid #ccc","padding-bottom","5px","text-align","center"],[2,"margin","0","padding","10px","background-color","#f0f0f0","display","inline-block","font-size","30px"],[2,"margin-bottom","13px","margin-top","20px","border","1px solid #ccc","padding","15px","direction","rtl"],[2,"font-size","14px","margin-right","10px"],[2,"margin-bottom","8px","border-bottom","1px dotted #ccc","padding-bottom","8px"],[2,"display","inline-block","width","48%","text-align","right"],[2,"margin-bottom","8px"],["style","display: inline-block; width: 48%; text-align: right;",4,"ngIf"],[2,"margin-bottom","20px","direction","rtl"],[2,"width","100%","border-collapse","collapse","font-size","12px","direction","rtl"],[2,"background-color","#d3d3d3"],[2,"border","1px solid #000","padding","10px","text-align","center"],["style","border: 1px solid #000; padding: 10px; text-align: center;",4,"ngIf"],[2,"border","1px solid #000","padding","3px","text-align","center","font-size","16px"],[2,"border","1px solid #000","padding","3px","text-align","right","font-size","16px"],["style","border: 1px solid #000; padding: 3px; text-align: center;font-size: 16px;",4,"ngIf"],[2,"margin-top","20px","border","1px solid #ccc","padding","15px","direction","rtl"],[2,"display","inline-block","width","32%","text-align","right"],["style","display: inline-block; width: 32%; text-align: right;",4,"ngIf"],[2,"margin-top","20px","text-align","right","font-size","12px","direction","rtl"],["class","ion-margin-top",4,"ngIf"],["class","exchange-rate-footer","style","font-size: 0.7em; text-align: center; border-top: 1px solid #ccc; padding-top: 5px; margin-top: 20px;",4,"ngIf"],[1,"rtl","flr","ion-margin",2,"width","30%","position","relative","float","left","text-align","left"],["class","ion-margin ","style"," width: 60%; position: relative; float: right;",4,"ngIf"],["class","ion-margin","style","width: 30%; position: relative; float: right ; text-align:right;",4,"ngIf"],["class","rtl ion-margin","style","width: 30%; position: relative; float: left; text-align:left;",4,"ngIf"],[1,"th"],["class","th",4,"ngIf"],[1,"td"],[1,"ion-margin",2,"width","60%","position","relative","float","right"],[1,"ion-margin",2,"width","30%","position","relative","float","right","text-align","right"],[1,"rtl","ion-margin",2,"width","30%","position","relative","float","left","text-align","left"],["class","td",4,"ngIf"],[1,"rtl","ion-text-center",2,"width","15%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","18%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],["class","rtl ion-text-center","style"," width:12% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],["class","rtl ion-text-center ","style","width:15% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],["class","rtl ion-text-center","style"," width:15% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],["class","rtl ion-text-center ","style","width:20% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],[1,"rtl","ion-text-center",2,"width","12%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","20%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","30%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-margin",2,"margin-top","20px","width","30%","position","relative","float","right","text-align","right"],[1,"ion-margin-top"],[1,"w100",2,"display","inline-block"],[1,"flr","ion-margin",2,"width","30%","position","relative","float","right","text-align","right"],[1,"ion-margin",2,"width","60%","position","relative","float","left"],[1,"exchange-rate-footer",2,"font-size","0.7em","text-align","center","border-top","1px solid #ccc","padding-top","5px","margin-top","20px"]],template:function(e,o){1&e&&(t.YNc(0,C,19,8,"ion-content",0),t.YNc(1,K,20,9,"ion-content",1),t.YNc(2,Wt,19,11,"ion-content",1)),2&e&&(t.Q6J("ngIf","pos"==o.mode),t.xp6(1),t.Q6J("ngIf","enhanced"==o.mode),t.xp6(1),t.Q6J("ngIf","pos"!=o.mode&&"enhanced"!=o.mode))},directives:[T.O5,h.W2,h.Q$,h.yW,h.PQ,T.sg],pipes:[T.JJ],styles:['.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:16px}.th[_ngcontent-%COMP%]{padding:6px 8px;border:1px solid #000;text-align:center;font-weight:700;font-size:16px;line-height:1.2}.td[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid #000;text-align:center;font-size:16px;line-height:1.2}table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:6px 8px!important;font-size:16px!important;line-height:1.2!important}table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 8px!important;font-size:16px!important;line-height:1.2!important}ion-content[style*="max-width : 30px"][_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%], ion-content[style*="max-width : 30px"][_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{font-size:14px;padding:3px 6px;line-height:1.1}ion-label[_ngcontent-%COMP%]{font-size:16px}h4[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{line-height:1.3;margin:8px 0}.rtl[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px}']}),i})()},6612:(w,v,g)=>{g.d(v,{i:()=>b});var _=g(70655),t=g(40520),h=g(591),f=g(29863),T=g(90849),q=g(91472);let b=(()=>{class A{constructor(r,u,c){this.http=r,this.storage=u,this.servicesService=c,this.currentCurrency=new h.X("SDG"),this.currentYear=new h.X(null),this.exchangeRates=new h.X({}),this.supportedCurrencies=new h.X([]),this.ratesCache=new Map,this.api=this.servicesService.api}getCurrentCurrency(){return this.currentCurrency.asObservable()}getCurrentCurrencyValue(){return this.currentCurrency.value}setCurrency(r){this.currentCurrency.next(r),this.storage.set("selectedCurrency",r)}setCurrentYear(r){this.currentYear.next(r)}loadRatesByYear(r,u){return(0,_.mG)(this,void 0,void 0,function*(){try{const c=(new t.LE).set("store_id",r).set("year_id",u),p=yield this.http.get(this.api+"currency_rates/latest.php",{params:c}).toPromise();return p&&p.data&&(this.cacheRates(p.data,u),this.exchangeRates.next(p.data)),p}catch(c){return console.error("Error loading currency rates:",c),null}})}getExchangeRate(r){if("SDG"===r)return 1;const u=this.exchangeRates.value;if(Array.isArray(u)){const c=u.find(p=>p.target_currency===r);return c?parseFloat(c.exchange_rate):1}return 1}createCurrencyRate(r){const u={headers:new t.WM({"Content-Type":"application/json"})};return this.http.post(this.api+"currency_rates/create.php",r,u)}getCurrencyRates(r){let u=new t.LE;return Object.keys(r).forEach(c=>{r[c]&&(u=u.set(c,r[c]))}),this.http.get(this.api+"currency_rates/read.php",{params:u})}updateCurrencyRate(r,u){const c=Object.assign({id:r},u),p={headers:new t.WM({"Content-Type":"application/json"})};return this.http.put(this.api+"currency_rates/update.php",c,p)}deleteCurrencyRate(r){const u=(new t.LE).set("id",r);return this.http.delete(this.api+"currency_rates/delete.php",{params:u})}getNearestRate(r,u,c,p){const P=(new t.LE).set("currency",r).set("date",u).set("store_id",c).set("year_id",p);return this.http.get(this.api+"currency_rates/nearestDate.php",{params:P})}convertFromSDG(r,u){return"SDG"!==u&&r?r/this.getExchangeRate(u):r}convertToSDG(r,u){return"SDG"!==u&&r?r*this.getExchangeRate(u):r}formatCurrency(r,u){return`${r.toLocaleString("en-US",{minimumFractionDigits:2})} ${{SDG:"\u062c.\u0633",USD:"$",AED:"\u062f.\u0625",SAR:"\u0631.\u0633"}[u]||u}`}getSupportedCurrencies(){return this.http.get(this.api+"currencies/read.php")}getActiveCurrencies(){const r=(new t.LE).set("active_only","true");return this.http.get(this.api+"currencies/read.php",{params:r})}addSupportedCurrency(r){return this.http.post(this.api+"currencies/create.php",r)}updateSupportedCurrency(r,u){return this.http.put(this.api+"currencies/update.php",Object.assign({id:r},u))}deleteSupportedCurrency(r){const u=(new t.LE).set("id",r);return this.http.delete(this.api+"currencies/delete.php",{params:u})}cacheKey(r,u,c){return`${r}_${u}_${c}`}cacheRates(r,u){Array.isArray(r)&&r.forEach(c=>{const p=this.cacheKey(c.target_currency,c.rate_date,u);this.ratesCache.set(p,c)})}getCachedRate(r,u,c){const p=this.cacheKey(r,u,c);return this.ratesCache.get(p)}clearCache(){this.ratesCache.clear()}initializeCurrency(){return(0,_.mG)(this,void 0,void 0,function*(){try{yield this.storage.create();const r=yield this.storage.get("selectedCurrency");r&&this.currentCurrency.next(r)}catch(r){console.error("Error initializing currency:",r)}})}getCurrentExchangeRates(){return this.exchangeRates.asObservable()}getSupportedCurrenciesObservable(){return this.supportedCurrencies.asObservable()}loadSupportedCurrencies(){return(0,_.mG)(this,void 0,void 0,function*(){try{const r=yield this.getSupportedCurrencies().toPromise();r&&r.data&&this.supportedCurrencies.next(r.data)}catch(r){console.error("Error loading supported currencies:",r)}})}formatAmount(r,u){const c=u||this.getCurrentCurrencyValue();let p=r;return"SDG"!==c&&(p=this.convertFromSDG(r,c)),this.formatCurrency(p,c)}convertToCurrentCurrency(r,u="SDG"){const c=this.getCurrentCurrencyValue();if(u===c)return r;if("SDG"===u)return this.convertFromSDG(r,c);if("SDG"===c)return this.convertToSDG(r,u);{const p=this.convertToSDG(r,u);return this.convertFromSDG(p,c)}}getCurrentCurrencySymbol(){const r=this.getCurrentCurrencyValue();return{SDG:"\u062c.\u0633",USD:"$",AED:"\u062f.\u0625",SAR:"\u0631.\u0633"}[r]||r}getCurrentCurrencySymbolForHeader(r){return`${r} (${this.getCurrentCurrencySymbol()})`}formatAmountWithoutSymbol(r,u){const c=u||this.getCurrentCurrencyValue();let p=r;return"SDG"!==c&&(p=this.convertFromSDG(r,c)),p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}}return A.\u0275fac=function(r){return new(r||A)(f.LFG(t.eN),f.LFG(T.K),f.LFG(q.r))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6495],{6495:(U,g,c)=>{c.r(g),c.d(g,{EditsalessndPageModule:()=>F});var d=c(69808),h=c(34182),n=c(23349),_=c(94030),p=c(70655),y=c(79208),f=c(15439),t=c(29863),m=c(17158),I=c(90849),b=c(91472);const v=["dstEds"],A=["qtyEds"],T=["dstPop3"],Z=["popInput3"],C=["popover3"],L=["popoverNotif2"];function S(a,l){1&a&&t._UZ(0,"option",24),2&a&&t.Q6J("value",l.$implicit.sub_name)}function x(a,l){if(1&a&&(t.TgZ(0,"datalist",22),t.YNc(1,S,1,1,"option",23),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.sub_account)}}function q(a,l){1&a&&(t.TgZ(0,"ion-label"),t.TgZ(1,"ion-text",25),t._uU(2,"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644 "),t.qZA(),t.qZA())}function M(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"ion-button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).refresh("account")}),t._UZ(1,"ion-icon",27),t.qZA()}}function P(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"ion-col",18),t.TgZ(1,"ion-item",16),t.TgZ(2,"input",19),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).selectedAccount.sub_name=i})("change",function(i){return t.CHM(e),t.oxw(2).pickAccount(i)}),t.qZA(),t.YNc(3,x,2,1,"datalist",20),t.YNc(4,q,3,0,"ion-label",3),t.YNc(5,M,2,0,"ion-button",21),t.qZA(),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.selectedAccount.sub_name),t.xp6(1),t.Q6J("ngIf",e.sub_account),t.xp6(1),t.Q6J("ngIf",!e.sub_account),t.xp6(1),t.Q6J("ngIf",!e.sub_account)}}function E(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"ion-col",18),t.TgZ(1,"ion-item",16),t.TgZ(2,"ion-input",9),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).sub_nameNew=i}),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.sub_nameNew)}}function Q(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",5),t.TgZ(2,"ion-col",6),t.TgZ(3,"ion-card",7),t.TgZ(4,"ion-grid",7),t.TgZ(5,"ion-row",5),t.TgZ(6,"ion-col",8),t.TgZ(7,"ion-radio-group",9),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().radioVal=i}),t.TgZ(8,"ion-grid",7),t.TgZ(9,"ion-row"),t.TgZ(10,"ion-col",7),t.TgZ(11,"ion-item",10),t._UZ(12,"ion-radio",11),t.TgZ(13,"ion-label"),t._uU(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"ion-col",7),t.TgZ(16,"ion-item",10),t._UZ(17,"ion-radio",11),t.TgZ(18,"ion-label"),t._uU(19,"\u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"ion-col",12),t.TgZ(21,"ion-item",10),t.TgZ(22,"input",13),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.pay_date=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"ion-row"),t.YNc(24,P,6,4,"ion-col",14),t.YNc(25,E,3,1,"ion-col",14),t.TgZ(26,"ion-col",15),t.TgZ(27,"ion-item",16),t.TgZ(28,"ion-input",17),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.payComment=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.radioVal),t.xp6(5),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(5),t.Q6J("ngModel",e.payInvo.pay_date),t.xp6(2),t.Q6J("ngIf",0==e.radioVal),t.xp6(1),t.Q6J("ngIf",1==e.radioVal),t.xp6(3),t.Q6J("ngModel",e.payInvo.payComment)}}function N(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"ion-grid",28),t.TgZ(1,"ion-row",5),t.TgZ(2,"ion-col",29),t.TgZ(3,"ion-card"),t.TgZ(4,"ion-grid"),t.TgZ(5,"ion-row",30),t.TgZ(6,"ion-col",31),t.TgZ(7,"ion-label",32),t.TgZ(8,"strong"),t._uU(9,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t.qZA(),t.TgZ(10,"ion-item",16),t.TgZ(11,"ion-input",33),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.tot_pr=i})("ionChange",function(i){return t.CHM(e),t.oxw().totChange(i)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"ion-col",31),t.TgZ(13,"ion-label",32),t.TgZ(14,"strong"),t._uU(15," \u0627\u0644\u0645\u062f\u0641\u0648\u0639 \u0646\u0642\u062f\u0627"),t.qZA(),t.qZA(),t.TgZ(16,"ion-item",16),t.TgZ(17,"ion-input",33),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.pay=i})("ionChange",function(i){return t.CHM(e),t.oxw().payChange(i)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"ion-col",31),t.TgZ(19,"ion-label",32),t.TgZ(20,"strong"),t._uU(21,"\u0627\u0644\u0645\u062a\u0628\u0642\u064a"),t.qZA(),t.qZA(),t.TgZ(22,"ion-item",16),t.TgZ(23,"ion-input",34),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.changee=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"ion-row",30),t.TgZ(25,"ion-col",35),t.TgZ(26,"ion-button",36),t.NdJ("click",function(){return t.CHM(e),t.oxw().update()}),t.TgZ(27,"ion-label",37),t._uU(28," \u062d\u0641\u0640\u0640\u0638"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"ion-col",35),t.TgZ(30,"ion-button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().delete()}),t.TgZ(31,"ion-label",37),t._uU(32," \u062d\u0640\u0640\u0630\u0641"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.payInvo.tot_pr),t.xp6(6),t.Q6J("ngModel",e.payInvo.pay),t.xp6(6),t.Q6J("ngModel",e.payInvo.changee)("readonly",!0)}}const w=[{path:"",component:(()=>{class a{constructor(e,s,i,o,u,J,D,k,H,R,Y){this.behavApi=e,this._location=s,this.alertController=i,this.route=o,this.rout=u,this.storage=J,this.modalController=D,this.loadingController=k,this.datePipe=H,this.api=R,this.toast=Y,this.notifArr=[],this.showNotif=!1,this.LogHistoryLocalArr=[],this.logHistoryArr=[],this.isOpenNotif=!1,this.newNotif=!1,this.isOpen=!1,this.sub_account=[],this.sub_accountLocalSales=[],this.items=[],this.itemsLocal=[],this.itemList=[],this.salesLocal=[],this.salesLocalUpdate=[],this.salesLocalDelete=[],this.sub_accountSales=[],this.sales=[],this.randomsNumber=[],this.store_id=1,this.sub_nameNew="",this.discountPerc=0,this.radioVal=0,this.loading=!1,this.showMe=null,this.searchLang=0,this.searchTerm="",this.aliasTerm="",this.searchResult=[],this.aliasResult=[],this.finalResult=[],this.loadingItems=!1,this.currenQty=0,this.firstQty=0,this.perchTotQty=0,this.payTotQty=0,this.perchTot=0,this.qtyReal=0,this.availQty=0,this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_name:"",cat_id:"",currentCustumerStatus:0},this.route.queryParams.subscribe(r=>{r&&r.payInvo&&(this.payInvo=JSON.parse(r.payInvo),this.selectedAccount.sub_name=JSON.parse(r.sub_name),this.user_info=JSON.parse(r.user_info),this.store_info=JSON.parse(r.store_info),this.itemList=JSON.parse(r.itemList),this.discountPerc=(+this.payInvo.discount/+this.payInvo.tot_pr*100).toFixed(2),this.prepareOffline(),this.getAppInfo())}),this.selectedItem={id:void 0,dateCreated:"",pay_ref:"",item_desc:"",item_name:"",item_unit:"",parcode:0,pay_price:0,perch_price:0,qty:0,tot:0,availQty:0,aliasEn:""}}getOffliemode(){this.storage.get("offline").then(e=>{this.offline=e,console.log("mooooode",this.offline)})}ngOnInit(){}ionViewDidEnter(){setTimeout(()=>{},1e4)}prepareOffline(){this.storage.get("offline").then(e=>{this.offline=e}),this.storage.get("salesLocal").then(e=>{e&&(this.salesLocal=e)}),this.storage.get("sub_accountSales").then(e=>{e&&(this.sub_accountSales=e)}),this.storage.get("sub_accountLocalSales").then(e=>{e&&(this.sub_accountLocalSales=e)}),this.storage.get("sales").then(e=>{e&&(this.sales=e)})}getAppInfo(){this.storage.get("offline").then(e=>{this.offline=e}),this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,console.log(this.store_info),this.getAccountOffline())}),this.storage.get("salesLocalUpdate").then(e=>{e&&(this.salesLocalUpdate=e)}),this.storage.get("salesLocalDelete").then(e=>{e&&(this.salesLocalDelete=e)})}getItemLocalOff(){this.storage.get("itemsLocal").then(e=>{e&&(this.itemsLocal=e,this.items=this.itemsLocal,this.searchResult=this.items)})}getSalesAccountFirs(){0==this.offline?this.api.getSalesAccounts(this.store_info.id,this.year.id).subscribe(e=>{this.sub_account=e.data,this.recalSubBalance(),this.addSubaccountLocal(),this.pickAccount(this.selectedAccount.sub_name,"fl")},e=>{}):(this.MixSubaccountSalesOffline(),this.pickAccount(this.selectedAccount.sub_name,"fl"))}getAccountOffline(){this.storage.get("sub_accountSales").then(e=>{e&&(this.sub_account=e,this.getSubBalance(),this.addSubaccountLocal())})}recalSubBalance(){this.sub_account.forEach(e=>{e.sub_balance=0;let s=+e.changeeTot+ +e.fromDebitTot,i=+e.purchChangeeTot+ +e.toCreditTot;0==this.radioVal&&this.selectedAccount.id==e.id&&(s=+s+ +this.payInvo.changee),s==i?(e.sub_balance=0,e.currentCustumerStatus=""):s>i?(e.sub_balance=(+s-+i).toFixed(2),e.currentCustumerStatus="debit",+this.selectedAccount.id==+e.id&&(this.selectedAccount.sub_balance=e.sub_balance,this.selectedAccount.currentCustumerStatus=e.currentCustumerStatus)):i>s&&(e.sub_balance=(+i-+s).toFixed(2),e.currentCustumerStatus="credit",+this.selectedAccount.id==+e.id&&(this.selectedAccount.sub_balance=e.sub_balance,this.selectedAccount.currentCustumerStatus=e.currentCustumerStatus))})}getSubBalance(){this.sub_account.forEach(e=>{e.sub_balance=0;let s=+e.changeeTot+ +e.fromDebitTot,i=+e.purchChangeeTot+ +e.toCreditTot;s==i?(e.sub_balance=0,this.currentCustumerStatus=""):s>i?(e.sub_balance=(+s-+i).toFixed(2),this.currentCustumerStatus="debit"):i>s&&(e.sub_balance=(+i-+s).toFixed(2),this.currentCustumerStatus="credit")})}presentPopoverNotif(e){this.notifArr=[],this.showNotif=!1,this.popoverNotif2.event=e,this.isOpenNotif=!0}didDissmisNotif(){this.isOpenNotif=!1}getAllStockItemsWithouteCounts(){this.storage.get("year").then(e=>{e&&(this.year=e,0==this.offline?(this.loadingItems=!0,this.api.getAllStockItemsWithouteCounts(1,this.year.id).subscribe(s=>{this.items=s.data,this.loadingItems=!1,this.storage.set("itemsLocal",this.items).then(o=>{})},s=>{this.loadingItems=!1},()=>{this.loadingItems=!1})):(this.items=this.itemsLocal,this.searchResult=this.items))})}getItemPaysByItemId(){this.api.getItemQtyPaysByItemId(this.store_info.id,this.selectedItem.id,this.year.id).subscribe(e=>{console.log("getItemPaysByItemId",e),"No record Found"!=e.message&&(this.payTotQty=e.data[0].salesQuantity),this.getQtyPurchByItemId()},e=>{this.presentToast("1\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{})}getQtyPurchByItemId(){this.api.getQtyPurchByItemId(this.store_info.id,this.selectedItem.id,this.year.id).subscribe(e=>{let s=e;"No record Found"!=s.message&&(this.perchTotQty=s.data[0].perchQuantity,this.firstQty=s.data[0].firstQuantity),this.getQtyTswiaByItemId()},e=>{this.presentToast("  \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{})}getQtyTswiaByItemId(){this.api.getQtyTswiaByItemId(this.store_info.id,this.selectedItem.id,this.year.id).subscribe(e=>{console.log("getQtyTswiaByItemId",e);let s=e;"No record Found"!=s.message&&(this.availQty=s.data[0].availQty,this.qtyReal=s.data[0].qtyReal),this.getQtyTotalItemId()},e=>{this.presentToast("  \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{})}getQtyTotalItemId(){+this.availQty-+this.qtyReal<0?this.perchTotQty=+this.perchTotQty+Math.abs(+this.availQty-+this.qtyReal):+this.availQty-+this.qtyReal>0&&(this.payTotQty=+this.availQty-+this.qtyReal+ +this.payTotQty),this.availQty=+this.perchTotQty-+this.payTotQty,console.log(this.payTotQty,this.payTotQty)}getSalesAccount(){0==this.offline?this.api.getSalesAccounts(this.store_info.id,this.year.id).subscribe(e=>{this.sub_account=e.data,this.addSubaccountLocal()},e=>{}):this.MixSubaccountSalesOffline()}addSubaccountLocal(){if(this.sub_account){if(this.sub_accountLocalSales)for(let e=0;e<this.sub_accountLocalSales.length;e++)this.sub_account.push(this.sub_accountLocalSales[e])}else this.sub_accountLocalSales&&(this.sub_account=this.sub_accountLocalSales)}MixSubaccountSalesOffline(){if(this.sub_account=[],this.sub_accountLocalSales)for(let e=0;e<this.sub_accountLocalSales.length;e++)this.sub_account.push(this.sub_accountLocalSales[e]);if(this.sub_accountSales)for(let e=0;e<this.sub_accountSales.length;e++)this.sub_account.push(this.sub_accountSales[e])}prepareInvo(){this.sub_nameNew="",this.radioVal=0,this.payInvo={pay_id:this.payArray[0].pay_id,pay_ref:this.payArray[0].pay_ref,store_id:this.payArray[0].store_id,tot_pr:this.payArray[0].tot_pr,pay:this.payArray[0].pay,pay_date:this.payArray[0].pay_date,pay_time:this.payArray[0].pay_time,user_id:this.user_info.id,cust_id:this.payArray[0].cust_id,pay_method:this.payArray[0].pay_method,discount:this.payArray[0].discount,changee:this.payArray[0].changee,sub_name:this.payArray[0].sub_name,payComment:this.payArray[0].payComment,nextPay:this.payArray[0].nextPay,yearId:this.payArray[0].yearId},this.selectedAccount.sub_name=this.payArray[0].sub_name,this.pickAccount(this.payArray[0].sub_name),this.itemList=this.payArray.details,this.setFocusOnInput("dstEp")}setFocusOnInput(e){"dst"==e?this.dstEds.nativeElement.focus():"dstPop3"==e?(this.dstPop3.setFocus(),this.isOpen=!0,this.clear(),this.searchResult=this.items,setTimeout(()=>{this.popInput3.setFocus()},1500)):"qtyEds"==e?this.qtyEds.setFocus():"popInput3"==e&&this.popInput3.setFocus()}getItems(){0==this.offline?this.api.getItems().subscribe(e=>{this.items=e.data},e=>{}):this.items=this.itemsLocal}getStockItems(){this.storage.get("year").then(e=>{e&&(this.year=e,0==this.offline?(this.loadingItems=!0,this.api.stockItems(1,this.year.id).subscribe(s=>{this.items=s.data,this.storage.set("itemsLocal",this.items).then(o=>{}),this.searchResult=this.items,this.loadingItems=!1},s=>{this.loadingItems=!1},()=>{this.loadingItems=!1})):(this.items=this.itemsLocal,this.searchResult=this.items))})}generateRandom2(e){let s=new Date,i=s.getMonth().toString()+s.getDay().toString()+s.getHours().toString()+s.getMinutes().toString()+s.getSeconds().toString()+s.getMilliseconds().toString()+e;return this.store_info.store_ref+i}saveLogHistory(e){let s,i,o;this.logHistoryArr.length>1?(o=this.logHistoryArr[1],i=this.logHistoryArr[0],s="new account"):(o=this.logHistoryArr[0],s=void 0),this.api.saveLogHistoryMultiSales(o,i,s).subscribe(u=>{"Post Not Created"!=u.message?this.presentToast("delete"==e?"\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d":"\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},u=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}performSync(){return(0,p.mG)(this,void 0,void 0,function*(){yield this.saveLogHistory(),yield this.getAllStockItemsWithouteCounts(),this.back()})}performSyncDel(){return(0,p.mG)(this,void 0,void 0,function*(){yield this.saveLogHistory("delete"),yield this.getAllStockItemsWithouteCounts(),this.back()})}presentToast(e,s){return(0,p.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:s,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}presentLoadingWithOptions(e){return(0,p.mG)(this,void 0,void 0,function*(){const s=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:e,translucent:!0,backdropDismiss:!1});yield s.present(),yield s.onDidDismiss()})}refresh(e){"account"==e?this.getSalesAccount():this.getAllStockItemsWithouteCounts()}pickAccount(e,s){let i;i=s?e:e.target.value;let o=this.sub_account.filter(u=>u.sub_name==i);o.length>0?(this.selectedAccount={id:o[0].id,ac_id:o[0].ac_id,sub_name:o[0].sub_name,sub_type:o[0].sub_type,sub_code:o[0].sub_code,store_id:o[0].store_id,sub_balance:o[0].sub_balance,cat_id:o[0].cat_id,cat_name:o[0].cat_name,currentCustumerStatus:o[0].currentCustumerStatus},this.payInvo.cust_id=this.selectedAccount.id):(this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger"),this.selectedItem.item_name="")}qtyClick(e){this.showMe=e}hideMe(e){this.showMe=null}editCell(e){+this.itemList[e].quantity>0&&+this.itemList[e].pay_price>0?(this.itemList[e].tot=+this.itemList[e].quantity*+this.itemList[e].pay_price,this.discountPerc=0,this.payInvo.discount=0,this.hideMe(e),this.getTotal()):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062f\u062e\u0627\u0644 ","danger")}selectFromPop(e){this.selectedItem={id:e.id,dateCreated:e.dateCreated,pay_ref:this.payInvo.pay_ref,item_desc:e.item_desc,item_name:e.item_name,item_unit:e.item_unit,parcode:e.parcode,pay_price:e.pay_price,perch_price:e.perch_price,qty:"",tot:e.pay_price,availQty:e.quantity,aliasEn:e.aliasEn},this.searchTerm=e.item_name,this.didDissmis()}pickDetail(e){let s=[];s=this.items.filter(1==this.searchLang?i=>i.item_desc==e.target.value:i=>i.item_name==e.target.value),s.length>0?(this.selectedItem={id:s[0].id,dateCreated:s[0].dateCreated,pay_ref:this.payInvo.pay_ref,item_desc:s[0].item_desc,item_name:s[0].item_name,item_unit:s[0].item_unit,parcode:s[0].parcode,pay_price:s[0].pay_price,perch_price:s[0].perch_price,qty:"",tot:s[0].pay_price,availQty:s[0].quantity,aliasEn:s[0].aliasEn},this.setFocusOnInput("qtyEds")):(this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641 ","danger"),this.selectedItem.item_name="")}ionViewDidLeave(){this.subiscribtionNotif.unsubscribe()}presentPopover(e){this.popover3.event=e,this.isOpen=!0,this.clear(),this.searchResult=this.items,setTimeout(()=>{this.setFocusOnInput("popInput3")},2e3)}didDissmis(){this.isOpen=!1,this.getItemPaysByItemId(),this.setFocusOnInput("qtyEds")}searchItem(e){this.searchResult=[],this.aliasTerm=e.target.value;let i=(new y.g).transform(this.items,e.target.value);i.length>0&&i.forEach(o=>{this.searchResult.push(o)})}clear(e){e?this.selectedItem={id:void 0,dateCreated:"",pay_ref:this.payInvo.pay_ref,item_desc:"",item_name:"",item_unit:"",parcode:0,pay_price:0,perch_price:0,qty:0,tot:0,availQty:0,aliasEn:""}:this.searchTerm=""}qtyhange(e){this.selectedItem.tot=(this.selectedItem.qty*+this.selectedItem.pay_price).toFixed(2);let s=[];this.itemList.length>0?(s=this.itemList.filter(i=>i.item_name==this.selectedItem.item_name),s.length>0?+this.selectedItem.qty+ +s[0].quantity>+this.selectedItem.availQty&&this.presentToast("\u0627\u0644\u0635\u0646\u0641 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0642\u0627\u0626\u0645\u0629 , \u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062c\u062f\u064a\u062f \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631 \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0646","warning"):+this.selectedItem.qty>+this.selectedItem.availQty&&this.presentToast("\u0627\u0644\u0643\u0645\u064a\u0629 \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0646 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a\u0629","warning")):+this.selectedItem.qty>+this.selectedItem.availQty&&this.presentToast("\u0627\u0644\u0643\u0645\u064a\u0629 \u0641\u064a \u0627\u0644\u0645\u062e\u0632\u0646 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a\u0629","warning")}pricehange(e){this.selectedItem.tot=(this.selectedItem.qty*+this.selectedItem.pay_price).toFixed(2)}payChange(e){this.payInvo.changee=+(this.payInvo.tot_pr-+this.payInvo.discount)-e.target.value}totChange(e){this.payInvo.changee=+(e.target.value-+this.payInvo.discount)-+this.payInvo.pay}discountChange(e){this.discountPerc=(+this.payInvo.discount/+this.payInvo.tot_pr*100).toFixed(2),this.payInvo.changee=+(this.payInvo.tot_pr-e.target.value)-this.payInvo.pay}discountPerChange(e){this.payInvo.discount=(+this.payInvo.tot_pr*+this.discountPerc/100).toFixed(2),this.payInvo.changee=+(this.payInvo.tot_pr-this.payInvo.discount)-this.payInvo.pay}back(){this._location.back()}deleteItem(e){this.itemList.splice(e,1),this.payInvo.pay=0,this.discountPerc=0,this.payInvo.discount=0,this.getTotal()}getTotal(){let e=this.itemList.reduce((s,i)=>s+ +i.tot,0);this.payInvo.tot_pr=e-+this.payInvo.discount,this.payInvo.changee=+(e-+this.payInvo.discount)-this.payInvo.pay,this.payInvo.tot_pr=this.payInvo.tot_pr.toFixed(2),this.payInvo.changee=this.payInvo.changee.toFixed(2)}addTolist(){if(""==this.selectedItem.item_name||""==this.selectedItem.id||0==+this.selectedItem.qty)this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0635\u0646\u0641 \u0648\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0645\u064a\u0629","danger");else{let e=[];if(this.itemList&&(e=this.itemList.filter(s=>s.item_name==this.selectedItem.item_name&&s.pay_price==this.selectedItem.pay_price)),0==e.length){let s=new Date,i=this.datePipe.transform(s,"dd-MM-YYYY");this.itemList.push({id:"NULL",pay_ref:this.selectedItem.pay_ref,item_name:this.selectedItem.item_name,pay_price:this.selectedItem.pay_price,quantity:+this.selectedItem.qty,tot:this.selectedItem.tot,store_id:+this.store_info.id,yearId:+this.year.id,item_id:+this.selectedItem.id,dateCreated:i,perch_price:this.selectedItem.perch_price})}else{this.selectedItem.qty=+e[0].quantity+ +this.selectedItem.qty;let s=this.itemList.map(i=>i.item_name).indexOf(this.selectedItem.item_name);this.itemList[s].quantity=+this.selectedItem.qty,this.itemList[s].tot=(+this.selectedItem.qty*+this.selectedItem.pay_price).toFixed(),this.itemList[s].tot.toFixed(2)}this.selectedItem={id:void 0,dateCreated:"",pay_ref:this.payInvo.pay_ref,item_desc:"",item_name:"",item_unit:"",parcode:0,pay_price:0,perch_price:0,qty:0,tot:0,availQty:0,aliasEn:""},this.discountPerc=0,this.payInvo.discount=0,this.getTotal(),this.setFocusOnInput("dstPop3")}}validate(){let e=[];return this.sub_account&&(e=this.sub_account.filter(s=>s.sub_name==this.sub_nameNew)),1==this.radioVal&&""==this.sub_nameNew?(this.presentToast("s\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","danger"),!1):0==this.radioVal&&""==this.selectedAccount.sub_name?(this.presentToast("w\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","danger"),!1):0==this.payInvo.cust_id&&0==this.radioVal?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","danger"),!1):""==this.payInvo.pay_date||null==this.payInvo.pay_date?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u062a\u0627\u0631\u064a\u062e ","danger"),!1):this.payInvo.changee<0?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u0633\u062a\u0644\u0645 \u0648\u0627\u0644\u062e\u0635\u0645  ","danger"),!1):!(1==this.radioVal&&e.length>0&&(this.presentToast("\u0627\u0644\u0639\u0645\u064a\u0644 \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627 , \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631\u0629 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621","danger"),1))}preparenewaccount(){this.selectedAccount.sub_name.length>0&&null==this.selectedAccount.id||(this.selectedAccount.sub_name=this.sub_nameNew,this.payInvo.sub_name=this.selectedAccount.sub_name),this.selectedAccount.id=null,this.selectedAccount.ac_id=2,this.selectedAccount.sub_type="debit",this.selectedAccount.sub_code=null,this.selectedAccount.cat_id=1,this.selectedAccount.cat_name="\u0627\u0644\u0639\u0645\u0644\u0627\u0621",this.selectedAccount.sub_balance="0",this.selectedAccount.store_id=this.store_info.id}update(){let e=this.payInvo.pay_date;this.payInvo.sub_name=this.selectedAccount.sub_name,this.payInvo.pay_date=this.datePipe.transform(e,"yyyy-MM-dd"),1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),0==this.radioVal&&null!=this.selectedAccount.id?1==this.offline&&this.payInvo.pay_id||1==this.offline&&!this.payInvo.pay_id||0==this.offline&&!this.payInvo.pay_id?this.saveInvoLocal():this.updateInvo():0==this.radioVal&&null==this.selectedAccount.id&&""!=this.selectedAccount.sub_name?1==this.offline&&!this.payInvo.pay_id||0==this.offline&&!this.payInvo.pay_id?this.saveInvoLocal():this.saveSubAccount():1==this.offline?this.saveSubAccountlocal():this.saveSubAccount())}updateInvo(){this.api.updateSalesInvo(this.payInvo).subscribe(e=>{this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"),this.sales=this.sales.filter(s=>s.payInvo.pay_ref!=this.payInvo.pay_ref),this.sales.push({payInvo:this.payInvo,itemList:[]}),this.storage.set("sales",this.sales).then(s=>{[].push({payInvo:this.payInvo,itemList:[]}),this.back()})},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger").then(()=>{this.loadingController.dismiss()})})}saveSubAccount(){this.preparenewaccount(),this.api.saveSubAccount(this.selectedAccount).subscribe(e=>{"Post Not Created"!=e.message?(this.payInvo.cust_id=e.message,0==this.radioVal&&null==this.selectedAccount.id&&0==this.offline&&(this.sub_accountLocalSales=this.sub_accountLocalSales.filter(s=>s.sub_name!=this.selectedAccount.sub_name),this.storage.set("sub_accountLocalSales",this.sub_accountLocalSales).then(s=>{})),this.updateInvo()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger").then(()=>{this.loadingController.dismiss()})})}deleteSalesitemList4update(){this.api.deleteSalesitemList(this.payInvo.pay_ref).subscribe(e=>{"Post Not Deleted"!=e.message?this.saveitemList():this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger").then(()=>{this.loadingController.dismiss()})},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger").then(()=>{this.loadingController.dismiss()})})}saveSubAccountlocal(){this.preparenewaccount(),this.sub_account||(this.sub_account=[]),this.sub_account.push(this.selectedAccount),this.sub_accountLocalSales.push(this.selectedAccount),this.storage.set("sub_accountLocalSales",this.sub_accountLocalSales).then(e=>{this.saveInvoLocal()})}saveInvoLocal(){let e=[];if(e=this.salesLocal.filter(s=>s.payInvo.pay_ref==this.payInvo.pay_ref),e.length>0)this.salesLocal=this.salesLocal.filter(s=>s.payInvo.pay_ref!=this.payInvo.pay_ref),this.salesLocal.push({payInvo:this.payInvo,itemList:[]});else{let s=this.salesLocalUpdate.filter(i=>i.payInvo.pay_ref!=this.payInvo.pay_ref);this.salesLocalUpdate=s,this.salesLocalUpdate.push({payInvo:this.payInvo,itemList:[]})}null!=this.payInvo.pay_id&&(this.sales=this.sales.filter(s=>s.payInvo.pay_ref!=this.payInvo.pay_ref),this.sales.push({payInvo:this.payInvo,itemList:[]}),this.storage.set("sales",this.sales).then(s=>{})),this.storage.set("salesLocalUpdate",this.salesLocalUpdate).then(s=>{}),this.storage.set("salesLocal",this.salesLocal).then(s=>{this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"),this.back()})}saveitemList(){this.api.saveSalesitemList(this.itemList).subscribe(e=>{this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"),this.sales=this.sales.filter(s=>s.payInvo.pay_ref!=this.payInvo.pay_ref),this.sales.push({payInvo:this.payInvo,itemList:this.itemList}),this.storage.set("sales",this.sales).then(s=>{let i=[];i.push({payInvo:this.payInvo,itemList:this.itemList}),this.logHistoryArr.push({id:null,logRef:this.generateRandom2("update sales"),userId:this.user_info.id,typee:"update sales",datee:f(new Date).locale("en").format("YYYY-MM-DD HH:mm:ss"),logStatus:0,logToken:JSON.stringify(i[0]),yearId:this.year.id,store_id:this.store_info.id}),this.performSync()})},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}presentAlertConfirm(){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f!",mode:"ios",message:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644 \u061f ",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:s=>{console.log("Confirm Cancel: blah")}},{text:"\u0645\u0648\u0627\u0641\u0642",id:"confirm-button",handler:()=>{console.log(0==this.offline,"Confirm nnn  Cancel: blah\u0645\u0648\u0627\u0641\u0642",this.payInvo.pay_id),0==this.offline&&null!=this.payInvo.pay_id?(console.log("1"),this.deleteSalesInvo()):0==this.offline&&null==this.payInvo.pay_id?(console.log("2"),this.deleteSalesInvoLocal()):1==this.offline&&(console.log("3"),this.deleteSalesInvoLocal())}}]})).present()})}delete(){this.presentAlertConfirm()}deleteSalesInvo(){console.log("deleteSalesInvo"),[].push({payInvo:this.payInvo,itemList:[]}),this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.deleteSalesInvo(this.payInvo.pay_id).subscribe(s=>{"Post Not Deleted"!=s.message?this.back():this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},s=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}deleteSalesInvoLocal(){this.storage.get("salesLocalDelete").then(e=>{e&&(this.salesLocalDelete=e)}),null==this.payInvo.pay_id?(this.salesLocal=this.salesLocal.filter(e=>e.payInvo.pay_ref!=this.payInvo.pay_ref),this.storage.set("salesLocal",this.salesLocal).then(e=>{this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d","success"),this.back()})):(this.sales=this.sales.filter(e=>e.payInvo.pay_ref!=this.payInvo.pay_ref),this.storage.set("sales",this.sales).then(e=>{this.salesLocalDelete.push({payInvo:this.payInvo,itemList:[]}),this.storage.set("salesLocalDelete",this.salesLocalDelete).then(s=>{this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d","success"),this.back()})}))}deleteSalesitemList(){this.api.deleteSalesitemList(this.payInvo.pay_ref).subscribe(e=>{"Post Not Deleted"!=e.message?(this.sales=this.sales.filter(s=>s.payInvo.pay_ref!=this.payInvo.pay_ref),this.storage.set("sales",this.sales).then(s=>{})):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.h),t.Y36(d.Ye),t.Y36(n.Br),t.Y36(_.gz),t.Y36(_.F0),t.Y36(I.K),t.Y36(n.IN),t.Y36(n.HT),t.Y36(d.uU),t.Y36(b.r),t.Y36(n.yF))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-editsalessnd"]],viewQuery:function(e,s){if(1&e&&(t.Gf(v,5),t.Gf(A,5),t.Gf(T,5),t.Gf(Z,5),t.Gf(C,5),t.Gf(L,5)),2&e){let i;t.iGM(i=t.CRH())&&(s.dstEds=i.first),t.iGM(i=t.CRH())&&(s.qtyEds=i.first),t.iGM(i=t.CRH())&&(s.dstPop3=i.first),t.iGM(i=t.CRH())&&(s.popInput3=i.first),t.iGM(i=t.CRH())&&(s.popover3=i.first),t.iGM(i=t.CRH())&&(s.popoverNotif2=i.first)}},decls:10,vars:2,consts:[["slot","end"],["fill","clear",3,"click"],["name","arrow-back-sharp"],[4,"ngIf"],["class","ion-margin-top",4,"ngIf"],["dir","rtl"],["size","12"],[1,"ion-no-padding","ion-no-margin"],["size","4","offset","5"],[3,"ngModel","ngModelChange"],["lines","none"],[1,"ion-margin-end",3,"value"],["size","3",1,"ion-text-end"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],["size","4","offset","4",4,"ngIf"],["size","4",1,"ion-text-start"],[1,"custInput"],["placeholder","\u0623\u0643\u062a\u0628 \u062a\u0639\u0644\u064a\u0642\u0627",3,"ngModel","ngModelChange"],["size","4","offset","4"],["placeholder","\u0627\u062e\u062a\u0631  \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","list","accounts","id","account",1,"bnone",3,"ngModel","ngModelChange","change"],["style","border: none;","id","accounts","style","height: auto;max-height: 20px;",4,"ngIf"],["fill","clear","size","small","slot","end",3,"click",4,"ngIf"],["id","accounts",2,"height","auto","max-height","20px"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","danger"],["fill","clear","size","small","slot","end",3,"click"],["name","refresh","color","success"],[1,"ion-margin-top"],["size","9",1,"ion-no-padding"],[1,"ion-justify-content-center"],["size","9"],[1,"ion-padding"],[3,"ngModel","ngModelChange","ionChange"],[3,"ngModel","readonly","ngModelChange"],["size","5"],["expand","block","routerDirection","root","color","success",3,"click"],[1,"ion-text-center"],["expand","block","routerDirection","root","color","danger",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-title"),t._uU(3," \u062a\u0639\u062f\u064a\u0644 \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0628\u064a\u0639\u0627\u062a"),t.qZA(),t.TgZ(4,"ion-buttons",0),t.TgZ(5,"ion-button",1),t.NdJ("click",function(){return s.back()}),t._UZ(6,"ion-icon",2),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"ion-content"),t.YNc(8,Q,29,7,"ion-grid",3),t.YNc(9,N,33,4,"ion-grid",4),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngIf",s.payInvo),t.xp6(1),t.Q6J("ngIf",s.payInvo))},directives:[n.Gu,n.sr,n.wd,n.Sm,n.YG,n.gu,n.W2,d.O5,n.jY,n.Nd,n.wI,n.PM,n.se,n.QI,h.JJ,h.On,n.Ie,n.B7,n.U5,n.Q$,h.Fj,n.pK,n.j9,d.sg,h.YN,h.Kr,n.yW],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.cust-card[_ngcontent-%COMP%]{border-radius:5px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.table[_ngcontent-%COMP%]{text-align:center;width:100%;margin:12px}.red[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.darko[_ngcontent-%COMP%]{color:var(--ion-color-dark)}ion-popover[_ngcontent-%COMP%]{--offset-y: -30px }.bnone[_ngcontent-%COMP%]{border:none}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px;font-size:16px;font-weight:700;color:#000}"]}),a})()}];let O=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[_.Bz.forChild(w)],_.Bz]}),a})(),F=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[d.ez,h.u5,n.Pc,O]]}),a})()}}]);
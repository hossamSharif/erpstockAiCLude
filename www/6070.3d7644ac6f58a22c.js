"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6070],{16070:(ot,d,s)=>{s.r(d),s.d(d,{SubAccountPageModule:()=>tt});var r=s(69808),_=s(34182),a=s(23349),p=s(94030),g=s(70655),t=s(29863),h=s(90849),A=s(91472);function b(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"input",32),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).selectedAccount.sub_name=i})("change",function(i){return t.CHM(e),t.oxw(2).pickAccount(i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.selectedAccount.sub_name)}}function m(n,c){1&n&&t._UZ(0,"option",35),2&n&&t.Q6J("value",c.$implicit.sub_name)}function f(n,c){if(1&n&&(t.TgZ(0,"datalist",33),t.YNc(1,m,1,1,"option",34),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.sub_account)}}function Z(n,c){1&n&&(t.TgZ(0,"ion-label"),t.TgZ(1,"ion-text",36),t._uU(2,"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644 "),t.qZA(),t.qZA())}function T(n,c){1&n&&(t.TgZ(0,"ion-button",37),t._UZ(1,"ion-icon",38),t.qZA())}function x(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",7),t.TgZ(2,"ion-col",21),t.TgZ(3,"ion-grid",22),t.TgZ(4,"ion-row"),t.TgZ(5,"ion-col",23),t.TgZ(6,"ion-item",24),t.TgZ(7,"ion-label"),t._uU(8," \u0628\u062d\u062b \u0628\u0625\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.YNc(9,b,1,1,"input",25),t.YNc(10,f,2,1,"datalist",26),t.YNc(11,Z,3,0,"ion-label",1),t.YNc(12,T,2,0,"ion-button",27),t.qZA(),t.qZA(),t.TgZ(13,"ion-col",28),t.TgZ(14,"ion-item",24),t.TgZ(15,"ion-label"),t._uU(16," \u0628\u062d\u062b \u0628\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.TgZ(17,"ion-input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().codeSe=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"ion-col",30),t.TgZ(19,"ion-button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.searchCode(i.codeSe)}),t._uU(20," \u0628\u062d\u0640\u0640\u062b "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("ngIf",e.sub_account),t.xp6(1),t.Q6J("ngIf",e.sub_account),t.xp6(1),t.Q6J("ngIf",!e.sub_account),t.xp6(1),t.Q6J("ngIf",!e.sub_account),t.xp6(5),t.Q6J("ngModel",e.codeSe)}}function y(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"ion-label"),t.TgZ(2,"ion-note"),t._uU(3),t.qZA(),t.TgZ(4,"ion-text"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"ion-buttons",39),t.TgZ(7,"ion-button",40),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().searchId(u.id)}),t._UZ(8,"ion-icon",41),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=c.$implicit;t.xp6(3),t.hij("",e.id,"-"),t.xp6(2),t.Oqu(e.sub_name)}}function q(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",24),t.TgZ(1,"ion-input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.sub_name=i}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.payInvo.sub_name)}}function C(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function M(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"input",45),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).selectedMainAccount.ac_name=i})("change",function(i){return t.CHM(e),t.oxw(2).pickMainAccount(i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.selectedMainAccount.ac_name)}}function I(n,c){1&n&&t._UZ(0,"option",35),2&n&&t.Q6J("value",c.$implicit.ac_name)}function S(n,c){if(1&n&&(t.TgZ(0,"datalist",46),t.YNc(1,I,1,1,"option",34),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.main_account)}}function v(n,c){1&n&&(t.TgZ(0,"ion-label"),t.TgZ(1,"ion-text",36),t._uU(2,"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644 "),t.qZA(),t.qZA())}function P(n,c){1&n&&(t.TgZ(0,"ion-button",37),t._UZ(1,"ion-icon",38),t.qZA())}function k(n,c){if(1&n&&(t.TgZ(0,"ion-item",24),t.YNc(1,M,1,1,"input",43),t.YNc(2,S,2,1,"datalist",44),t.YNc(3,v,3,0,"ion-label",1),t.YNc(4,P,2,0,"ion-button",27),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.main_account),t.xp6(1),t.Q6J("ngIf",e.main_account),t.xp6(1),t.Q6J("ngIf",!e.main_account),t.xp6(1),t.Q6J("ngIf",!e.main_account)}}function J(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function N(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",24),t.TgZ(1,"ion-input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.sub_code=i}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.payInvo.sub_code)}}function Q(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function w(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",24),t.TgZ(1,"ion-input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.sub_balance=i}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.payInvo.sub_balance)}}function U(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function Y(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-radio-group",47),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.sub_type=i})("ionChange",function(i){return t.CHM(e),t.oxw().radioChange(i)}),t.TgZ(1,"ion-grid",22),t.TgZ(2,"ion-row",24),t.TgZ(3,"ion-col",22),t.TgZ(4,"ion-item",48),t._UZ(5,"ion-radio",49),t.TgZ(6,"ion-label"),t._uU(7,"\u062f\u0627\u0626\u0646-credit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-col",22),t.TgZ(9,"ion-item",48),t._UZ(10,"ion-radio",50),t.TgZ(11,"ion-label"),t._uU(12,"\u0645\u062f\u064a\u0646-debit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.payInvo.sub_type)}}function F(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function D(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"input",53),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).selectedCategory.cat_name=i})("change",function(i){return t.CHM(e),t.oxw(2).pickAccountCategory(i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.selectedCategory.cat_name)}}function E(n,c){1&n&&t._UZ(0,"option",35),2&n&&t.Q6J("value",c.$implicit.cat_name)}function O(n,c){if(1&n&&(t.TgZ(0,"datalist",54),t.YNc(1,E,1,1,"option",34),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.account_category)}}function H(n,c){1&n&&(t.TgZ(0,"ion-label"),t.TgZ(1,"ion-text",36),t._uU(2,"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644 "),t.qZA(),t.qZA())}function z(n,c){1&n&&(t.TgZ(0,"ion-button",37),t._UZ(1,"ion-icon",38),t.qZA())}function B(n,c){if(1&n&&(t.TgZ(0,"ion-item",24),t.YNc(1,D,1,1,"input",51),t.YNc(2,O,2,1,"datalist",52),t.YNc(3,H,3,0,"ion-label",1),t.YNc(4,z,2,0,"ion-button",27),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.main_account),t.xp6(1),t.Q6J("ngIf",e.account_category),t.xp6(1),t.Q6J("ngIf",!e.main_account),t.xp6(1),t.Q6J("ngIf",!e.main_account)}}function j(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function G(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",24),t.TgZ(1,"ion-input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.phone=i}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.payInvo.phone)}}function L(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function R(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",24),t.TgZ(1,"ion-input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().payInvo.address=i}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.payInvo.address)}}function W(n,c){1&n&&t._UZ(0,"ion-skeleton-text",42)}function $(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",55),t.NdJ("click",function(){return t.CHM(e),t.oxw().save()}),t.TgZ(1,"ion-label",56),t._uU(2," \u062d\u0641\u0640\u0640\u0638"),t.qZA(),t.qZA()}}function K(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",57),t.NdJ("click",function(){return t.CHM(e),t.oxw().update()}),t.TgZ(1,"ion-label",56),t._uU(2," \u062a\u0639\u062f\u064a\u0644 "),t.qZA(),t.qZA()}}const V=[{path:"",component:(()=>{class n{constructor(e,o,i,u,l,et,nt){this.storage=e,this.alertController=o,this.modalController=i,this.loadingController=u,this.datePipe=l,this.api=et,this.toast=nt,this.radioVal=0,this.radioVal2=0,this.account_category=[],this.sub_account=[],this.main_account=[],this.status="save",this.codeSe="",this.sklton=!1,this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedCategory={id:"",cat_name:""},this.payInvo={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedMainAccount={ac_id:"",actype_id:"",ac_name:"",ac_code:"",eng_name:"",ac_type:""},this.store_info={id:"",store_ref:"",store_name:"",location:""},this.getAppInfo()}ngOnInit(){}presentToast(e,o){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:o,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}radioChange(e){}radioChange2(e){}pickAccount(e){this.showSklt(),this.selectedCategory.cat_name="";let o=this.sub_account.filter(i=>i.sub_name==e.target.value);if(o.length>0){this.selectedAccount={id:o[0].id,ac_id:o[0].ac_id,sub_name:o[0].sub_name,sub_type:o[0].sub_type,sub_code:o[0].sub_code,store_id:o[0].store_id,sub_balance:o[0].sub_balance,cat_id:o[0].cat_id,cat_name:o[0].cat_name,ac_behavior:o[0].ac_behavior,phone:o[0].phone,address:o[0].address},this.payInvo=this.selectedAccount,this.status="edit";let i=this.account_category.filter(u=>u.id==+this.selectedAccount.cat_id);this.pickAccountCategory(i[0].cat_name,"fisrtLoad")}else this.presentToast(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger")}searchCode(e){this.showSklt();let o=this.sub_account.filter(i=>i.sub_code==e);o.length>0?(this.selectedAccount={id:o[0].id,ac_id:o[0].ac_id,sub_name:o[0].sub_name,sub_type:o[0].sub_type,sub_code:o[0].sub_code,store_id:o[0].store_id,sub_balance:o[0].sub_balance,cat_id:o[0].cat_id,cat_name:o[0].cat_name,ac_behavior:o[0].ac_behavior,phone:o[0].phone,address:o[0].address},this.payInvo=this.selectedAccount,this.status="edit"):this.presentToast("\u062e\u0637\u0623 , \u0644\u0627 \u064a\u0648\u062c\u062f \u062d\u0633\u0627\u0628 \u0628\u0647\u0630\u0627 \u0627\u0644\u0631\u0645\u0632 ","danger")}searchId(e){this.showSklt();let o=this.sub_account.filter(i=>i.id==e);o.length>0?(this.selectedAccount={id:o[0].id,ac_id:o[0].ac_id,sub_name:o[0].sub_name,sub_type:o[0].sub_type,sub_code:o[0].sub_code,store_id:o[0].store_id,sub_balance:o[0].sub_balance,cat_id:o[0].cat_id,cat_name:o[0].cat_name,ac_behavior:o[0].ac_behavior,phone:o[0].phone,address:o[0].address},this.payInvo=this.selectedAccount,this.status="edit"):this.presentToast("\u062e\u0637\u0623 , \u0644\u0627 \u064a\u0648\u062c\u062f \u062d\u0633\u0627\u0628 \u0628\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645 ","danger")}pickAccountCategory(e,o){let i;i=o?e:e.target.value;let u=this.account_category.filter(l=>l.cat_name==i);u.length>0?(this.selectedCategory={id:u[0].id,cat_name:u[0].cat_name},this.selectedAccount.cat_id=u[0].cat_id,this.selectedAccount.cat_name=u[0].cat_name,this.payInvo.cat_id=this.selectedCategory.id,this.payInvo.cat_name=this.selectedCategory.cat_name):this.presentToast(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062a\u0635\u0646\u064a\u0641 ","danger")}showSklt(){this.sklton=!0,setTimeout(()=>{this.sklton=!1},3e3)}pickMainAccount(e,o){let i;i=o?e:e.target.value;let u=this.main_account.filter(l=>l.ac_name==i);u.length>0?(this.selectedMainAccount={ac_id:u[0].ac_id,ac_name:u[0].ac_name,actype_id:u[0].actype_id,ac_code:u[0].ac_code,eng_name:u[0].eng_name,ac_type:u[0].ac_type},this.payInvo.ac_id=this.selectedMainAccount.ac_id,this.payInvo.sub_type=this.selectedMainAccount.ac_type,this.payInvo.store_id=this.store_info.id,this.payInvo.ac_behavior=this.selectedMainAccount.ac_type):this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger")}getAppInfo(){this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getAllAccount())})}prepareInvo(){this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedCategory={id:"",cat_name:""},this.payInvo={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:this.store_info.id,cat_id:"",cat_name:"",ac_behavior:"",phone:"",address:""},this.selectedMainAccount={ac_id:"",actype_id:"",ac_name:"",ac_code:"",eng_name:"",ac_type:""},this.status="save"}refresh(){this.showSklt(),this.prepareInvo()}getAllAccount(){this.api.getAllAccounts(this.store_info.id,this.year.id).subscribe(e=>{this.sub_account=e.data,this.getMainAccount()},e=>{})}getAccountCategory(){this.api.getAccountCategory(this.store_info.id).subscribe(e=>{this.account_category=e.data},e=>{})}getMainAccount(){this.api.getMainAccounts().subscribe(e=>{this.main_account=e.data,this.getAccountCategory()},e=>{})}presentLoadingWithOptions(e){return(0,g.mG)(this,void 0,void 0,function*(){const o=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:e,translucent:!0,backdropDismiss:!1});yield o.present(),yield o.onDidDismiss()})}save(){if(1==this.validate()){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ...");let e=[];e.push(this.payInvo),this.api.createMultiAccount(e).subscribe(o=>{"Post Not Created"!=o.message?(this.prepareInvo(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success"),this.getAllAccount()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},o=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}}update(){1==this.validate()&&(this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.updateSubAccount(this.payInvo).subscribe(e=>{"Post Not Created"!=e.message?(this.prepareInvo(),this.presentToast("\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d","success"),this.getAllAccount()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0644\u0644\u0639\u0645\u064a\u0644 , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()}))}validate(){let e=[];this.sub_account&&(e=this.sub_account.filter(i=>i.sub_name==this.payInvo.sub_name),e.length>0&&"edit"!=this.status&&this.presentToast("\u062a\u0637\u0627\u0628\u0642 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0639 \u062d\u0633\u0627\u0628 \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627   ","danger"));let o=[];return this.sub_account&&(o=this.sub_account.filter(i=>i.sub_code==this.payInvo.sub_code),o.length>0&&"edit"!=this.status&&this.presentToast("\u062a\u0637\u0627\u0628\u0642 \u0641\u064a \u0631\u0645\u0632 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0639 \u062d\u0633\u0627\u0628 \u0645\u0648\u062c\u0648\u062f \u0645\u0633\u0628\u0642\u0627   ","danger")),""==this.payInvo.sub_name?(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger"),!1):""==this.payInvo.sub_type?(this.presentToast(" \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0637\u0628\u064a\u0639\u0629 \u0627\u0644\u062d\u0633\u0627\u0628","danger"),!1):""!=this.selectedMainAccount.ac_id&&""!=this.selectedMainAccount.ac_name||(this.presentToast(" \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064a\u0633\u064a","danger"),!1)}presentAlertConfirm(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f!",mode:"ios",message:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644 \u061f ",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:o=>{}},{text:"\u0645\u0648\u0627\u0641\u0642",id:"confirm-button",handler:()=>{this.delete()}}]})).present()})}delete(){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.deleteSubAccont(this.payInvo.id).subscribe(e=>{"Post Not Deleted"!=e.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d","success"),this.prepareInvo(),this.getAllAccount()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},e=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.K),t.Y36(a.Br),t.Y36(a.IN),t.Y36(a.HT),t.Y36(r.uU),t.Y36(A.r),t.Y36(a.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sub-account"]],decls:85,vars:20,consts:[["slot","start"],[4,"ngIf"],["size","5",1,"ion-margin-top"],[1,"bgP"],["color","light"],[4,"ngFor","ngForOf"],["size","7"],["dir","rtl"],[1,"ion-justify-content-center"],["size","12",1,"ion-padding-end","ion-padding-start"],["size","small","fill","outline","slot","end","color","light",3,"click"],["name","add","color","light"],["size","6",1,"ion-margin-top"],[1,"ion-padding"],["class","custInput",4,"ngIf"],["animated","","style","width: 100% ;height : 100%;",4,"ngIf"],["size","12",1,"ion-margin-top"],[3,"ngModel","ngModelChange","ionChange",4,"ngIf"],["size","8",1,"ion-margin-top","ion-text-center"],["fill","outline","color","success",3,"click",4,"ngIf"],["fill","outline","color","warning",3,"click",4,"ngIf"],["size","12"],[1,"ion-no-padding","ion-no-margin"],["size","4","offset","2"],[1,"custInput"],["class","bnone","placeholder","\u0627\u062e\u062a\u0631  \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","list","accountsSales","id","accountSales",3,"ngModel","ngModelChange","change",4,"ngIf"],["style","border: none;","id","accountsSales","style","height: auto;max-height: 20px;",4,"ngIf"],["fill","clear","size","small","slot","end",4,"ngIf"],["size","3","offset","1"],[3,"ngModel","ngModelChange"],["size","2"],["fill","outline","color","primary",3,"click"],["placeholder","\u0627\u062e\u062a\u0631  \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","list","accountsSales","id","accountSales",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsSales",2,"height","auto","max-height","20px"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","danger"],["fill","clear","size","small","slot","end"],["name","refresh","color","success"],["slot","end"],["size","small","fill","clear","slot","end","color","primary",3,"click"],["name","create-outline","color","primary"],["animated","",2,"width","100%","height","100%"],["class","bnone","placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628  \u0627\u0644\u0631\u0626\u064a\u0633\u064a","list","accountmain","id","accountmainid",3,"ngModel","ngModelChange","change",4,"ngIf"],["style","border: none;","id","accountmain","style","height: auto;max-height: 20px;",4,"ngIf"],["placeholder","\u0627\u062e\u062a\u0631  \u0627\u0644\u062d\u0633\u0627\u0628  \u0627\u0644\u0631\u0626\u064a\u0633\u064a","list","accountmain","id","accountmainid",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountmain",2,"height","auto","max-height","20px"],[3,"ngModel","ngModelChange","ionChange"],["lines","none"],["disabled","true","value","credit",1,"ion-margin-end"],["disabled","true","value","debit",1,"ion-margin-end"],["class","bnone","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0635\u0646\u064a\u0641   ","list","accountcategory","id","accountcategoryid",3,"ngModel","ngModelChange","change",4,"ngIf"],["style","border: none;","id","accountcategory","style","height: auto;max-height: 20px;",4,"ngIf"],["placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0635\u0646\u064a\u0641   ","list","accountcategory","id","accountcategoryid",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountcategory",2,"height","auto","max-height","20px"],["fill","outline","color","success",3,"click"],[1,"ion-text-center"],["fill","outline","color","warning",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a "),t.qZA(),t.qZA(),t.TgZ(6,"ion-toolbar"),t.YNc(7,x,21,5,"ion-grid",1),t.qZA(),t.qZA(),t.TgZ(8,"ion-content"),t.TgZ(9,"ion-grid"),t.TgZ(10,"ion-row"),t.TgZ(11,"ion-col",2),t.TgZ(12,"ion-card"),t.TgZ(13,"ion-item",3),t.TgZ(14,"h4"),t.TgZ(15,"ion-text",4),t._uU(16,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a "),t.qZA(),t.qZA(),t.qZA(),t.YNc(17,y,9,2,"ion-item",5),t.qZA(),t.qZA(),t.TgZ(18,"ion-col",6),t.TgZ(19,"ion-grid",7),t.TgZ(20,"ion-row",8),t.TgZ(21,"ion-col",9),t.TgZ(22,"ion-card"),t.TgZ(23,"ion-item",3),t.TgZ(24,"h4"),t.TgZ(25,"ion-text",4),t._uU(26,"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.qZA(),t.TgZ(27,"ion-button",10),t.NdJ("click",function(){return o.refresh()}),t._UZ(28,"ion-icon",11),t._uU(29," \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f "),t.qZA(),t.qZA(),t.TgZ(30,"ion-grid"),t.TgZ(31,"ion-row"),t.TgZ(32,"ion-col",12),t.TgZ(33,"ion-label",13),t.TgZ(34,"strong"),t._uU(35,"\u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.qZA(),t.YNc(36,q,2,1,"ion-item",14),t.YNc(37,C,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(38,"ion-col",12),t.TgZ(39,"ion-label",13),t.TgZ(40,"strong"),t._uU(41,"\u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064a\u0633\u064a"),t.qZA(),t.qZA(),t.YNc(42,k,5,4,"ion-item",14),t.YNc(43,J,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(44,"ion-col",12),t.TgZ(45,"ion-label",13),t.TgZ(46,"strong"),t._uU(47," \u0643\u0648\u062f \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.qZA(),t.YNc(48,N,2,1,"ion-item",14),t.YNc(49,Q,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(50,"ion-col",12),t.TgZ(51,"ion-label",13),t.TgZ(52,"strong"),t._uU(53,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0625\u0641\u062a\u062a\u0627\u062d\u064a "),t.qZA(),t.qZA(),t.YNc(54,w,2,1,"ion-item",14),t.YNc(55,U,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(56,"ion-col",16),t.TgZ(57,"ion-label",13),t.TgZ(58,"strong"),t._uU(59,"\u0637\u0628\u064a\u0639\u0629 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.qZA(),t.YNc(60,Y,13,1,"ion-radio-group",17),t.YNc(61,F,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(62,"ion-col",12),t.TgZ(63,"ion-label",13),t.TgZ(64,"strong"),t._uU(65,"\u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.qZA(),t.YNc(66,B,5,4,"ion-item",14),t.YNc(67,j,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(68,"ion-col",12),t.TgZ(69,"ion-label",13),t.TgZ(70,"strong"),t._uU(71,"\u0627\u0644\u0647\u0627\u062a\u0641 "),t.qZA(),t.qZA(),t.YNc(72,G,2,1,"ion-item",14),t.YNc(73,L,1,0,"ion-skeleton-text",15),t.qZA(),t.TgZ(74,"ion-col",16),t.TgZ(75,"ion-label",13),t.TgZ(76,"strong"),t._uU(77," \u0627\u0644\u0639\u0646\u0648\u0627\u0646"),t.qZA(),t.qZA(),t.YNc(78,R,2,1,"ion-item",14),t.YNc(79,W,1,0,"ion-skeleton-text",15),t.qZA(),t.qZA(),t._UZ(80,"ion-item-divider"),t.TgZ(81,"ion-row",8),t.TgZ(82,"ion-col",18),t.YNc(83,$,3,0,"ion-button",19),t.YNc(84,K,3,0,"ion-button",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf",o.user_info&&o.store_info),t.xp6(10),t.Q6J("ngForOf",o.sub_account),t.xp6(19),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(5),t.Q6J("ngIf",0==o.sklton),t.xp6(1),t.Q6J("ngIf",1==o.sklton),t.xp6(4),t.Q6J("ngIf","save"==o.status),t.xp6(1),t.Q6J("ngIf","edit"==o.status))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.wd,r.O5,a.W2,a.jY,a.Nd,a.wI,a.PM,a.Ie,a.yW,r.sg,a.YG,a.gu,a.Q$,a.rH,a.pK,a.j9,_.JJ,_.On,_.Fj,_.YN,_.Kr,a.uN,a.CK,a.se,a.QI,a.B7,a.U5],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.cust-card[_ngcontent-%COMP%]{border-radius:5px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.bgP[_ngcontent-%COMP%]{--background: var(--ion-color-success)}"]}),n})()}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(V)],p.Bz]}),n})(),tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,_.u5,a.Pc,X]]}),n})()}}]);
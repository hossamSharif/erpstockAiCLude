{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { AuthServiceService } from \"../../app/auth/auth-service.service\";\nimport { Storage } from '@ionic/storage';\nimport { ServicesService } from '../stockService/services.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\n\nexport class LoginPage implements OnInit {\n  USER_INFO : {\n    id: any ,\n    user_name: any,\n    store_id :any,\n    full_name:any,\n    password:any,\n  };\n  yearArr : Array<any> =[]\n  year : {id:any ,yearDesc:any ,yearStart :any,yearEnd:any}\n  stores:Array<any> =[]\n  store_info : {id:any ,store_ref:any , store_name:any , location :any }\n  company : { id: any , phone: any, phone2  :any, address :any, logoUrl:any,engName:any,arName:any ,tradNo:any , vatNo:any};\n\n  constructor(private api:ServicesService,private storage: Storage,private toast:ToastController ,private loadingController:LoadingController , private authenticationService: AuthServiceService) {\n    this.store_info = {id:\"1\" ,store_ref:\"sh\" , store_name:\"sooq sha'by\" , location :\"sha'aby\" } \n    this.USER_INFO = {\n      id: \"\" ,\n      user_name: \"\",\n      store_id :1,\n      full_name:\"\",\n      password:\"\", \n    }\n   }\n\n  ngOnInit() {\n    this.getStore()\n  //  this.getCompany()\n    this.getyear()\n  }\n\n  pickDetail(ev){\n    let fl= this.stores.filter(x=>x.store_name == ev.target.value)\n    //console.log(fl);\n    this.store_info = {\n      id:fl[0]['id'],\n      store_name:fl[0]['store_name'],\n      store_ref: fl[0]['store_ref'],\n      location:fl[0]['location'] \n    }\n    this.USER_INFO.store_id =fl[0]['id']\n    //console.log( this.store_info); \n  }\n\n  getStore(){\n    this.api.getStores().subscribe(data =>{\n       //console.log(data)\n       let res = data\n       this.stores = res['data']\n     }, (err) => {\n     //console.log(err);\n   })  \n  }\n\n  getCompany(){\n    this.api.getCompany().subscribe(data =>{\n        console.log('companay',data)\n       let res = data\n       this.company = res['data']\n     }, (erriho) => {\n     //console.log(err);\n   })  \n  }\n\n\n  getyear(){ \n    this.api.getYear().subscribe(data =>{\n     let res = data\n     this.yearArr = res ['data'] \n     this.setCurrentYear()\n   }, (err) => {\n    this.presentToast('حدث خطأ ما , الرجاء اعادة المحاولة ', 'danger')\n    //console.log(err);\n   })   \n  } \n\n  setCurrentYear(){\n    this.storage.get('year').then((response) => {\n      if (response) {\n         this.year = response \n      }else{\n        this.year = this.yearArr[0]\n        this.storage.set('year', this.year).then((response) => {\n          //console.log('year set',  this.year) \n        }); \n      }\n    });\n  }\n\n  setCurrentStoreLocaly(){\n    this.storage.set('STORE_INFO', this.store_info).then((response) => {\n      \n    }) \n    this.storage.set('company', this.company).then((response) => {\n      \n    }) \n  }\n \n  async presentToast(msg,color?) {\n    const toast = await this.toast.create({\n      message: msg,\n      duration: 2000,\n      color:color,\n      cssClass:'cust_Toast',\n      mode:'ios',\n      position:'top' \n    });\n    toast.present();\n  }\n\n  async presentLoadingWithOptions(msg?) {\n    const loading = await this.loadingController.create({\n      spinner: 'bubbles',\n      mode:'ios',\n      duration: 2000,\n      message: msg,\n      translucent: true,\n     // cssClass: 'custom-class custom-loading',\n      backdropDismiss: false\n    });\n    await loading.present();\n    const { role, data } = await loading.onDidDismiss()\n       loading.onDidDismiss().then(data=>{\n          //console.log(data)\n        });\n\n    //console.log('Loading dismissed with role:', role);\n  }\n\n   loginUser(){\n   if(this.USER_INFO.user_name == \"\" || this.USER_INFO.password == \"\"){\n    this.presentToast('الرجاء إكمال بيانات تسجيل الدخول' ,'danger') \n   }else{ \n    \n    this.storage.set('STORE_INFO', this.store_info).then((response) => {\n      \n    })\n    this.storage.set('company', this.company).then((response) => {\n      \n    })\n   \n         this.authenticationService.login(this.USER_INFO)    \n   }\n\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}
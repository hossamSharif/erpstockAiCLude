"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4441],{4441:(M,b,g)=>{g.d(b,{n:()=>Gt});var d=g(70655),t=g(29863),h=g(23349),f=g(6612),T=g(90849),v=g(69808);function P(n,i){1&n&&(t.TgZ(0,"div",12),t._UZ(1,"ion-spinner",13),t.TgZ(2,"p",14),t._uU(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0635\u0648\u0631 \u0644\u0644\u0637\u0628\u0627\u0639\u0629..."),t.qZA(),t.TgZ(4,"p",15),t._uU(5,"Preparing images for printing..."),t.qZA(),t.qZA())}function Z(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 \u0645\u0628\u0633\u0637\u0629 "),t.qZA())}function y(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," simple vat invoice "),t.qZA())}function r(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td",24),t._uU(4),t.qZA(),t.TgZ(5,"td",24),t._uU(6),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.qZA(),t.TgZ(9,"td",24),t._uU(10),t.qZA(),t.TgZ(11,"td",24),t._uU(12),t.qZA(),t.TgZ(13,"td",24),t._uU(14),t.qZA(),t.qZA()),2&n){const e=i.$implicit,a=t.oxw(3);t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(2),t.hij(" ",a.formatNumberWithSeparators(e.pay_price)," "),t.xp6(2),t.hij(" ",a.formatNumberWithSeparators(e.discount)," "),t.xp6(2),t.hij(" ",e.tax," "),t.xp6(2),t.Oqu(a.formatNumberWithSeparators(+e.pay_price+ +e.tax/100*+e.pay_price)),t.xp6(2),t.hij(" ",a.formatNumberWithSeparators(e.tot)," ")}}function c(n,i){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t.TgZ(3,"ion-label"),t._uU(4,"\u0635\u0627\u0641\u064a \u0627\u0644\u0645\u0628\u0644\u063a / total "),t.qZA(),t.qZA(),t.TgZ(5,"div",29),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",27),t.TgZ(9,"div",28),t.TgZ(10,"ion-label"),t._uU(11," \u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 % / VAT%"),t.qZA(),t.qZA(),t.TgZ(12,"div",29),t.TgZ(13,"ion-label"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",27),t.TgZ(16,"div",28),t.TgZ(17,"ion-label"),t._uU(18," \u0642\u064a\u0645\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 / VAT "),t.qZA(),t.qZA(),t.TgZ(19,"div",29),t.TgZ(20,"ion-label"),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",27),t.TgZ(23,"div",28),t.TgZ(24,"ion-label"),t._uU(25," \u0635\u0627\u0641\u064a \u0627\u0644\u0645\u0628\u0644\u063a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 / total include VAT "),t.qZA(),t.qZA(),t.TgZ(26,"div",29),t.TgZ(27,"ion-label"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.discount)," "),t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.discount)," "),t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr-+e.printArr[0].payInvo.discount)," ")}}function u(n,i){1&n&&t._UZ(0,"div")}function s(n,i){1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"h6",9),t.TgZ(2,"ion-label"),t._uU(3," Thank You For Visit "),t.qZA(),t.qZA(),t.TgZ(4,"h6",9),t.TgZ(5,"ion-label"),t._uU(6," \u0634\u0643\u0631\u0627 \u0644\u0632\u064a\u0627\u0631\u062a\u0643\u0645 "),t.qZA(),t.qZA(),t.qZA())}function q(n,i){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"h6",9),t.TgZ(2,"ion-label"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij(" : ",e.printArr[0].company.address," ")}}function I(n,i){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"h6",9),t.TgZ(2,"ion-label"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij(" \u0627\u0644\u0647\u0627\u062a\u0641 / phone : ",e.printArr[0].company.phone-e.printArr[0].company.phone2," ")}}function w(n,i){if(1&n&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",18),t.TgZ(3,"ion-label"),t.TgZ(4,"ion-text"),t._uU(5,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e / date: "),t.qZA(),t.TgZ(6,"ion-text"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",18),t.TgZ(9,"ion-label"),t.TgZ(10,"ion-text"),t._uU(11," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 / user name:"),t.qZA(),t.TgZ(12,"ion-text"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",19),t.TgZ(15,"div",20),t.TgZ(16,"table",21),t.TgZ(17,"thead"),t.TgZ(18,"tr"),t.TgZ(19,"th",22),t._uU(20,"\u0627\u0644\u0635\u0646\u0641 item"),t.qZA(),t.TgZ(21,"th",22),t._uU(22,"\u0627\u0644\u0643\u0645\u064a\u0629 QTY"),t.qZA(),t.TgZ(23,"th",22),t._uU(24,"\u0633\u0639\u0631 unit price "),t.qZA(),t.TgZ(25,"th",22),t._uU(26,"\u0627\u0644\u062e\u0635\u0645 discount "),t.qZA(),t.TgZ(27,"th",22),t._uU(28,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 VAT%"),t.qZA(),t.TgZ(29,"th",22),t._uU(30,"\u0642\u064a\u0645\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629 VAT "),t.qZA(),t.TgZ(31,"th",22),t._uU(32," \u0635\u0627\u0641\u064a \u0627\u0644\u0642\u064a\u0645\u0629 total "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"tbody"),t.YNc(34,r,15,7,"tr",23),t.TgZ(35,"tr"),t._UZ(36,"td"),t._UZ(37,"td"),t._UZ(38,"td"),t._UZ(39,"td"),t._UZ(40,"td"),t.TgZ(41,"td",24),t._uU(42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(43,c,29,4,"div",25),t.YNc(44,u,1,0,"div",1),t.YNc(45,s,7,0,"div",25),t.YNc(46,q,4,1,"div",25),t.YNc(47,I,4,1,"div",25),t.qZA()),2&n){const e=t.oxw(2);t.xp6(7),t.AsE("",e.getInvoiceDate()," ",e.getInvoiceTime(),""),t.xp6(6),t.hij("",e.printArr[0].user_name," "),t.xp6(21),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(8),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function O(n,i){if(1&n&&(t.TgZ(0,"ion-content",2),t.YNc(1,P,6,0,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5,6),t.TgZ(5,"div",7),t._UZ(6,"img",8),t.qZA(),t.TgZ(7,"h4",9),t._uU(8),t.qZA(),t.TgZ(9,"h4",9),t._uU(10),t.qZA(),t.TgZ(11,"h4",9),t.TgZ(12,"ion-label"),t._uU(13,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a / VAT NO :"),t.qZA(),t.TgZ(14,"ion-text"),t._uU(15),t.qZA(),t.qZA(),t.YNc(16,Z,2,0,"h3",10),t.YNc(17,y,2,0,"h3",10),t.YNc(18,w,48,10,"div",11),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.imagesLoaded),t.xp6(5),t.Q6J("src",e.printArr[0].company.logoUrl,t.LSH),t.xp6(2),t.hij("",e.printArr[0].company.engName," "),t.xp6(2),t.hij("",e.printArr[0].company.arName," "),t.xp6(5),t.Oqu(e.printArr[0].company.vatNo),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page||"pos-sales"==e.page),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page||"pos-sales"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr&&"perchOrderEn"!=e.page&&"perchOrderAr"!=e.page&&"perchOrderAr-record"!=e.page&&"perchOrderEn-record"!=e.page)}}function U(n,i){1&n&&(t.TgZ(0,"div",12),t._UZ(1,"ion-spinner",13),t.TgZ(2,"p",14),t._uU(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0635\u0648\u0631 \u0644\u0644\u0637\u0628\u0627\u0639\u0629..."),t.qZA(),t.TgZ(4,"p",15),t._uU(5,"Preparing images for printing..."),t.qZA(),t.qZA())}function N(n,i){if(1&n&&(t.TgZ(0,"div",44),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\u062c\u0645\u064a\u0639 \u0627\u0644\u0642\u064a\u0645 \u0645\u0639\u0631\u0648\u0636\u0629 \u0628\u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629 \u0645\u0639 \u0627\u0644\u0642\u064a\u0645\u0629 \u0628\u0627\u0644\u062c\u0646\u064a\u0647 \u0627\u0644\u0633\u0648\u062f\u0627\u0646\u064a"),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE("\u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629: ",e.currentCurrency," - \u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641: ",t.xi3(3,2,e.exchangeRate,"1.2-6"),"")}}function S(n,i){1&n&&(t.TgZ(0,"h1",45),t._uU(1," \u0628\u064a\u0627\u0646"),t.qZA())}function D(n,i){1&n&&(t.TgZ(0,"strong"),t._uU(1,"\u0627\u0644\u0639\u0645\u064a\u0644: "),t.qZA())}function E(n,i){1&n&&(t.TgZ(0,"strong"),t._uU(1,"\u0627\u0644\u0645\u0648\u0631\u062f: "),t.qZA())}function Y(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.printArr[0].selectedAccount.sub_name," ")}}function j(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.printArr[0].selectedAccount," ")}}function J(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(e.printArr[0].sub_nameNew)}}function Q(n,i){if(1&n&&(t.TgZ(0,"span",49),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646: "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",e.printArr[0].selectedAccount.address," ")}}function L(n,i){if(1&n&&(t.TgZ(0,"span",49),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u0647\u0627\u062a\u0641: "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",e.printArr[0].selectedAccount.phone," ")}}function k(n,i){if(1&n&&(t.TgZ(0,"div",46),t.TgZ(1,"div",47),t.TgZ(2,"div",48),t.TgZ(3,"span",49),t.TgZ(4,"strong"),t._uU(5,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e: "),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"span",49),t.YNc(8,D,2,0,"strong",1),t.YNc(9,E,2,0,"strong",1),t.YNc(10,Y,2,1,"span",1),t.YNc(11,j,2,1,"span",1),t.YNc(12,J,2,1,"span",1),t.qZA(),t.qZA(),t.TgZ(13,"div",50),t.YNc(14,Q,4,1,"span",51),t.YNc(15,L,4,1,"span",51),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(6),t.hij("",e.printArr[0].payInvo.pay_date," "),t.xp6(2),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&("sales"==e.page||"perch"==e.page)),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&("sales_record"==e.page||"perch_record"==e.page)),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0),t.xp6(2),t.Q6J("ngIf",e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim())}}function F(n,i){1&n&&(t.TgZ(0,"th",55),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629 "),t.qZA())}function R(n,i){1&n&&(t.TgZ(0,"th",55),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA())}function W(n,i){if(1&n&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.hij(" ",a.formatNumberWithSeparators(e.pay_price)," ")}}function B(n,i){if(1&n&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.hij(" ",a.formatNumberWithSeparators(e.perch_price)," ")}}function G(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",57),t._uU(2),t.qZA(),t.TgZ(3,"td",58),t._uU(4),t.qZA(),t.TgZ(5,"td",57),t._uU(6),t.qZA(),t.YNc(7,W,2,1,"td",59),t.YNc(8,B,2,1,"td",59),t.TgZ(9,"td",57),t._uU(10),t.qZA(),t.qZA()),2&n){const e=i.$implicit,a=i.index,o=t.oxw(3);t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.Oqu(e.quantity),t.xp6(1),t.Q6J("ngIf","sales"==o.page||"sales_record"==o.page),t.xp6(1),t.Q6J("ngIf","perch"==o.page||"perch_record"==o.page),t.xp6(2),t.Oqu(o.formatNumberWithSeparators(e.tot))}}function $(n,i){if(1&n&&(t.TgZ(0,"div",52),t.TgZ(1,"table",53),t.TgZ(2,"thead"),t.TgZ(3,"tr",54),t.TgZ(4,"th",55),t._uU(5,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(6,"th",55),t._uU(7,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(8,"th",55),t._uU(9,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.YNc(10,F,2,0,"th",56),t.YNc(11,R,2,0,"th",56),t.TgZ(12,"th",55),t._uU(13,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,G,11,6,"tr",23),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(10),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(4),t.Q6J("ngForOf",e.printArr[0].itemList)}}function z(n,i){if(1&n&&(t.TgZ(0,"span",61),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",e.formatNumberWithSeparators(e.printArr[0].payInvo.discount)," ")}}function H(n,i){if(1&n&&(t.TgZ(0,"span",61),t.TgZ(1,"strong"),t._uU(2,"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645 : "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr-+e.printArr[0].payInvo.discount)," ")}}function V(n,i){if(1&n&&(t.TgZ(0,"div",60),t.TgZ(1,"div",47),t.TgZ(2,"div",48),t.TgZ(3,"span",61),t.TgZ(4,"strong"),t._uU(5,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a : "),t.qZA(),t._uU(6),t.qZA(),t.YNc(7,z,4,1,"span",62),t.YNc(8,H,4,1,"span",62),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(6),t.hij("",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)," "),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0)}}function K(n,i){if(1&n&&(t.TgZ(0,"div",63),t.TgZ(1,"p"),t.TgZ(2,"strong"),t._uU(3,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645:"),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.printArr[0].payInvo.user_name,"")}}function X(n,i){if(1&n&&(t.TgZ(0,"ion-content"),t.YNc(1,U,6,0,"div",3),t.YNc(2,N,6,5,"div",30),t.TgZ(3,"div",31),t.TgZ(4,"div",5,6),t.TgZ(6,"div",32),t.TgZ(7,"div",33),t._UZ(8,"img",34),t.qZA(),t.TgZ(9,"div",35),t.TgZ(10,"h2",36),t.TgZ(11,"strong"),t._uU(12,"GVS"),t.qZA(),t.qZA(),t.YNc(13,S,2,0,"h1",37),t.qZA(),t.TgZ(14,"div",38),t._UZ(15,"img",39),t.qZA(),t.qZA(),t.YNc(16,k,16,8,"div",40),t.YNc(17,$,16,3,"div",41),t.YNc(18,V,9,3,"div",42),t.YNc(19,K,5,1,"div",43),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.imagesLoaded),t.xp6(1),t.Q6J("ngIf","SDG"!==e.currentCurrency),t.xp6(6),t.Q6J("src",e.vehicleBase64||e.getVehicleImagePath(),t.LSH),t.xp6(5),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(2),t.Q6J("src",e.logoBase64||"assets/imgs/logo.png",t.LSH),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function tt(n,i){1&n&&(t.TgZ(0,"div",12),t._UZ(1,"ion-spinner",13),t.TgZ(2,"p",14),t._uU(3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0636\u064a\u0631 \u0627\u0644\u0635\u0648\u0631 \u0644\u0644\u0637\u0628\u0627\u0639\u0629..."),t.qZA(),t.TgZ(4,"p",15),t._uU(5,"Preparing images for printing..."),t.qZA(),t.qZA())}function et(n,i){1&n&&(t.TgZ(0,"h4",9),t._uU(1,"POWERMAX , SIMBA , GIRISH \u0627\u0644\u0648\u0643\u064a\u0644 \u0627\u0644\u062d\u0635\u0631\u064a \u0644\u0645\u0627\u0631\u0643\u0627\u062a "),t.qZA())}function nt(n,i){1&n&&(t.TgZ(0,"h4",9),t._uU(1," Exclusive agent for brands (POWERMAX , SIMBA , GIRISH ) "),t.qZA())}function it(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0628\u064a\u0639\u0627\u062a "),t.qZA())}function rt(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0634\u062a\u0631\u064a\u0627\u062a "),t.qZA())}function ot(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0631\u062a\u062c\u0639\u0629 \u0645\u0628\u064a\u0639\u0627\u062a "),t.qZA())}function at(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," Purchase Order "),t.qZA())}function ct(n,i){1&n&&(t.TgZ(0,"h3",9),t._uU(1," \u0627\u0645\u0631 \u0634\u0631\u0627\u0621 "),t.qZA())}function ut(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0639\u0645\u064a\u0644 : ",e.printArr[0].selectedAccount.sub_name,"")}}function lt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0639\u0645\u064a\u0644 : ",e.printArr[0].selectedAccount,"")}}function st(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0639\u0645\u064a\u0644 : ",e.printArr[0].sub_nameNew,"")}}function pt(n,i){if(1&n&&(t.TgZ(0,"div",74),t.YNc(1,ut,2,1,"ion-label",1),t.YNc(2,lt,2,1,"ion-label",1),t.YNc(3,st,2,1,"ion-label",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"sales"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0)}}function gt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount.sub_name,"")}}function dt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount,"")}}function _t(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].sub_nameNew,"")}}function ht(n,i){if(1&n&&(t.TgZ(0,"div",74),t.YNc(1,gt,2,1,"ion-label",1),t.YNc(2,dt,2,1,"ion-label",1),t.YNc(3,_t,2,1,"ion-label",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perch"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0)}}function mt(n,i){if(1&n&&(t.TgZ(0,"div",75),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij("\u0627\u0644\u0645\u0643\u0627\u0646 : ",e.printArr[0].selectedAccount.address,"")}}function xt(n,i){if(1&n&&(t.TgZ(0,"div",76),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij(" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 : ",e.printArr[0].selectedAccount.phone," ")}}function At(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA())}function Zt(n,i){1&n&&(t.TgZ(0,"th",71),t._uU(1," \u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0647 "),t.qZA())}function ft(n,i){if(1&n&&(t.TgZ(0,"td",73),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.hij(" ",a.formatNumberWithSeparators(e.pay_price)," ")}}function vt(n,i){if(1&n&&(t.TgZ(0,"td",73),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.hij(" ",a.formatNumberWithSeparators(e.perch_price)," ")}}function bt(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",73),t._uU(2),t.qZA(),t.TgZ(3,"td",73),t._uU(4),t.qZA(),t.TgZ(5,"td",73),t._uU(6),t.qZA(),t.YNc(7,ft,2,1,"td",77),t.YNc(8,vt,2,1,"td",77),t.TgZ(9,"td",73),t._uU(10),t.qZA(),t.qZA()),2&n){const e=i.$implicit,a=i.index,o=t.oxw(3);t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(1),t.Q6J("ngIf","sales"==o.page||"sales_record"==o.page),t.xp6(1),t.Q6J("ngIf","perch"==o.page||"perch_record"==o.page),t.xp6(2),t.Oqu(o.formatNumberWithSeparators(e.tot))}}function Tt(n,i){1&n&&(t.TgZ(0,"div",84),t.TgZ(1,"ion-label"),t._uU(2,"\u0627\u0644\u062e\u0635\u0640\u0640\u0645 "),t.qZA(),t.qZA())}function Pt(n,i){if(1&n&&(t.TgZ(0,"div",78),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.discount))}}function yt(n,i){1&n&&(t.TgZ(0,"div",78),t.TgZ(1,"ion-label"),t._uU(2,"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f\u0627\u0644\u062e\u0635\u0645"),t.qZA(),t.qZA())}function qt(n,i){if(1&n&&(t.TgZ(0,"div",85),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr-+e.printArr[0].payInvo.discount))}}function Ct(n,i){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",78),t.TgZ(3,"ion-label"),t._uU(4,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a "),t.qZA(),t.qZA(),t.TgZ(5,"div",79),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,Tt,3,0,"div",80),t.YNc(9,Pt,3,1,"div",81),t.YNc(10,yt,3,0,"div",82),t.YNc(11,qt,3,1,"div",83),t.qZA(),t.TgZ(12,"div",76),t.TgZ(13,"ion-label"),t._uU(14),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(1),t.Q6J("ngIf",+e.printArr[0].payInvo.discount>0),t.xp6(3),t.hij(" \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 : ",e.printArr[0].payInvo.user_name," ")}}function Mt(n,i){if(1&n&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",66),t.TgZ(3,"ion-label"),t._uU(4,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),t.qZA(),t._uU(5),t.qZA(),t.YNc(6,pt,4,3,"div",67),t.YNc(7,ht,4,3,"div",67),t.qZA(),t.TgZ(8,"div",17),t.YNc(9,mt,3,1,"div",68),t.YNc(10,xt,3,1,"div",69),t.qZA(),t.TgZ(11,"div",19),t.TgZ(12,"div",20),t.TgZ(13,"table",70),t.TgZ(14,"thead"),t.TgZ(15,"tr"),t.TgZ(16,"th",71),t._uU(17,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(18,"th",71),t._uU(19,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(20,"th",71),t._uU(21,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.YNc(22,At,2,0,"th",72),t.YNc(23,Zt,2,0,"th",72),t.TgZ(24,"th",71),t._uU(25,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"tbody"),t.YNc(27,bt,11,6,"tr",23),t.TgZ(28,"tr"),t._UZ(29,"td"),t._UZ(30,"td"),t._UZ(31,"td"),t._UZ(32,"td"),t.TgZ(33,"td",73),t._uU(34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,Ct,15,6,"div",25),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",e.printArr[0].payInvo.pay_date," "),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(2),t.Q6J("ngIf",("sales"==e.page||"sales_record"==e.page)&&e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",("sales"==e.page||"sales_record"==e.page)&&e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim()),t.xp6(12),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(4),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(7),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function It(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount.sub_name,"")}}function wt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].selectedAccount,"")}}function Ot(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\u0627\u0644\u0645\u0648\u0631\u062f : ",e.printArr[0].sub_nameNew,"")}}function Ut(n,i){if(1&n&&(t.TgZ(0,"div",75),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij("\u0627\u0644\u0639\u0646\u0648\u0627\u0646 : ",e.printArr[0].selectedAccount.address,"")}}function Nt(n,i){if(1&n&&(t.TgZ(0,"div",76),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij(" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 : ",e.printArr[0].selectedAccount.phone," ")}}function St(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",73),t._uU(2),t.qZA(),t.TgZ(3,"td",73),t._uU(4),t.qZA(),t.TgZ(5,"td",73),t._uU(6),t.qZA(),t.TgZ(7,"td",73),t._uU(8),t.qZA(),t.TgZ(9,"td",73),t._uU(10),t.qZA(),t.qZA()),2&n){const e=i.$implicit,a=i.index,o=t.oxw(3);t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.item_name),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(2),t.hij(" ",o.formatNumberWithSeparators(e.perch_price)," "),t.xp6(2),t.Oqu(o.formatNumberWithSeparators(e.tot))}}function Dt(n,i){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",85),t.TgZ(3,"ion-label"),t._uU(4,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0644\u063a "),t.qZA(),t.qZA(),t.TgZ(5,"div",86),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",87),t.TgZ(9,"ion-label"),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatCurrencyWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(3),t.hij(" \u062a\u0639\u0644\u064a\u0642: ",e.printArr[0].payInvo.payComment," ")}}function Et(n,i){if(1&n&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"div",66),t.TgZ(3,"ion-label"),t._uU(4,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",74),t.YNc(7,It,2,1,"ion-label",1),t.YNc(8,wt,2,1,"ion-label",1),t.YNc(9,Ot,2,1,"ion-label",1),t.qZA(),t.qZA(),t.TgZ(10,"div",17),t.YNc(11,Ut,3,1,"div",68),t.YNc(12,Nt,3,1,"div",69),t.qZA(),t.TgZ(13,"div",19),t.TgZ(14,"div",20),t.TgZ(15,"table",70),t.TgZ(16,"thead"),t.TgZ(17,"tr"),t.TgZ(18,"th",71),t._uU(19,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(20,"th",71),t._uU(21,"\u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(22,"th",71),t._uU(23,"\u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(24,"th",71),t._uU(25," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA(),t.TgZ(26,"th",71),t._uU(27,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"tbody"),t.YNc(29,St,11,5,"tr",23),t.TgZ(30,"tr"),t._UZ(31,"td"),t._UZ(32,"td"),t._UZ(33,"td"),t._UZ(34,"td"),t.TgZ(35,"td",73),t._uU(36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(37,Dt,11,2,"div",25),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",e.printArr[0].payInvo.pay_date," "),t.xp6(2),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderAr"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderAr-record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0),t.xp6(2),t.Q6J("ngIf",e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim()),t.xp6(17),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(7),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function Yt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("Supplier : ",e.printArr[0].selectedAccount.sub_name,"")}}function jt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("Supplier : ",e.printArr[0].selectedAccount,"")}}function Jt(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("Supplier : ",e.printArr[0].sub_nameNew,"")}}function Qt(n,i){if(1&n&&(t.TgZ(0,"div",75),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij("Address : ",e.printArr[0].selectedAccount.address,"")}}function Lt(n,i){if(1&n&&(t.TgZ(0,"div",76),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij(" Phone No : ",e.printArr[0].selectedAccount.phone," ")}}function kt(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",73),t._uU(2),t.qZA(),t.TgZ(3,"td",73),t._uU(4),t.qZA(),t.TgZ(5,"td",73),t._uU(6),t.qZA(),t.TgZ(7,"td",73),t._uU(8),t.qZA(),t.TgZ(9,"td",73),t._uU(10),t.qZA(),t.qZA()),2&n){const e=i.$implicit,a=i.index,o=t.oxw(3);t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.item_desc),t.xp6(2),t.hij(" ",e.quantity,""),t.xp6(2),t.hij(" ",o.formatNumberWithSeparators(e.perch_price)," "),t.xp6(2),t.Oqu(o.formatNumberWithSeparators(e.tot))}}function Ft(n,i){if(1&n&&(t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",85),t.TgZ(3,"ion-label"),t._uU(4," Total "),t.qZA(),t.qZA(),t.TgZ(5,"div",86),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",87),t.TgZ(9,"ion-label"),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(7),t.hij(" ",e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr),""),t.xp6(3),t.hij(" Comment: ",e.printArr[0].payInvo.payComment," ")}}function Rt(n,i){if(1&n&&(t.TgZ(0,"div",88),t.TgZ(1,"div",89),t.TgZ(2,"div",90),t.TgZ(3,"ion-label"),t._uU(4,"Date :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",91),t.YNc(7,Yt,2,1,"ion-label",1),t.YNc(8,jt,2,1,"ion-label",1),t.YNc(9,Jt,2,1,"ion-label",1),t.qZA(),t.qZA(),t.TgZ(10,"div",17),t.YNc(11,Qt,3,1,"div",68),t.YNc(12,Lt,3,1,"div",69),t.qZA(),t.TgZ(13,"div",19),t.TgZ(14,"div",20),t.TgZ(15,"table",70),t.TgZ(16,"thead"),t.TgZ(17,"tr"),t.TgZ(18,"th",71),t._uU(19,"No"),t.qZA(),t.TgZ(20,"th",71),t._uU(21,"Item"),t.qZA(),t.TgZ(22,"th",71),t._uU(23,"Qty"),t.qZA(),t.TgZ(24,"th",71),t._uU(25," Purchace price "),t.qZA(),t.TgZ(26,"th",71),t._uU(27,"Total "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"tbody"),t.YNc(29,kt,11,5,"tr",23),t.TgZ(30,"tr"),t._UZ(31,"td"),t._UZ(32,"td"),t._UZ(33,"td"),t._UZ(34,"td"),t.TgZ(35,"td",73),t._uU(36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(37,Ft,11,2,"div",25),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",e.printArr[0].payInvo.pay_date," "),t.xp6(2),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderEn"==e.page),t.xp6(1),t.Q6J("ngIf",0==e.printArr[0].sub_nameNew.length&&"perchOrderEn-record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr[0].sub_nameNew.length>0),t.xp6(2),t.Q6J("ngIf",e.printArr[0].selectedAccount.address&&""!=e.printArr[0].selectedAccount.address.trim()),t.xp6(1),t.Q6J("ngIf",e.printArr[0].selectedAccount.phone&&""!=e.printArr[0].selectedAccount.phone.trim()),t.xp6(17),t.Q6J("ngForOf",e.printArr[0].itemList),t.xp6(7),t.Oqu(e.formatNumberWithSeparators(e.printArr[0].payInvo.tot_pr)),t.xp6(1),t.Q6J("ngIf",e.printArr)}}function Wt(n,i){if(1&n&&(t.TgZ(0,"div",92),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getExchangeRateFooter()," ")}}function Bt(n,i){if(1&n&&(t.TgZ(0,"ion-content"),t.YNc(1,tt,6,0,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5,6),t.TgZ(5,"h4",9),t._uU(6,"GVS FOR IMPORT AND EXPORT "),t.qZA(),t.TgZ(7,"h4",9),t._uU(8,"\u062c\u064a \u0641\u064a \u0627\u0633 \u0644\u0644\u0625\u0633\u062a\u064a\u0631\u0627\u062f \u0648\u0627\u0644\u062a\u0635\u062f\u064a\u0631 "),t.qZA(),t.YNc(9,et,2,0,"h4",10),t.YNc(10,nt,2,0,"h4",10),t.YNc(11,it,2,0,"h3",10),t.YNc(12,rt,2,0,"h3",10),t.YNc(13,ot,2,0,"h3",10),t.YNc(14,at,2,0,"h3",10),t.YNc(15,ct,2,0,"h3",10),t.YNc(16,Mt,36,10,"div",11),t.YNc(17,Et,38,9,"div",11),t.YNc(18,Rt,38,9,"div",64),t.qZA(),t.YNc(19,Wt,2,1,"div",65),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.imagesLoaded),t.xp6(8),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page||"perch"==e.page||"perch_record"==e.page||"perchOrderAr"==e.page||"perchOrderAr-record"==e.page),t.xp6(1),t.Q6J("ngIf","perchOrderEn"==e.page||"perchOrderEn-record"==e.page),t.xp6(1),t.Q6J("ngIf","sales"==e.page||"sales_record"==e.page),t.xp6(1),t.Q6J("ngIf","perch"==e.page||"perch_record"==e.page),t.xp6(1),t.Q6J("ngIf","sales_returns"==e.page||"sales_return_record"==e.page),t.xp6(1),t.Q6J("ngIf","perchOrderEn"==e.page||"perchOrderEn-record"==e.page),t.xp6(1),t.Q6J("ngIf","perchOrderAr"==e.page||" perchOrderAr-record"==e.page),t.xp6(1),t.Q6J("ngIf",e.printArr&&"perchOrderEn"!=e.page&&"perchOrderAr"!=e.page&&"perchOrderAr-record"!=e.page&&"perchOrderEn-record"!=e.page),t.xp6(1),t.Q6J("ngIf",e.printArr&&("perchOrderAr"==e.page||"perchOrderAr-record"==e.page)),t.xp6(1),t.Q6J("ngIf",e.printArr&&("perchOrderEn"==e.page||"perchOrderEn-record"==e.page)),t.xp6(1),t.Q6J("ngIf",e.getExchangeRateFooter())}}let Gt=(()=>{class n{constructor(e,a,o,l,p){this.modalController=e,this.toast=a,this.currencyService=o,this.storage=l,this.cdr=p,this.mode="enhanced",this.logoBase64="",this.vehicleBase64="",this.itemImagesBase64={},this.categoryId=1,this.imagesLoaded=!1,this.imageLoadingAttempts={},this.maxRetryAttempts=3,this.currentCurrency="SDG",this.exchangeRate=1,this.fallbackLogo="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiNjY2MiLz4KPHRLEHT4PSJHVlMiIHg9IjUwIiB5PSI1NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzY2NiIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4Ij5HVlM8L3RleHQ+Cjwvc3ZnPg==",this.fallbackVehicle="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiNjY2MiLz4KPHRLEHT4PSLZgNmJ2YTYudmE2YTZhIiB4PSI1MCIgeT0iNTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2NjYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+2YDZidmE2LnZhNmq2YTZh9mE2Yk8L3RleHQ+Cjwvc3ZnPg==",this.mode="enhanced"}ngOnInit(){return(0,d.mG)(this,void 0,void 0,function*(){console.log(this.printArr[0]),this.sortItemListAlphabetically(),yield this.loadCategoryFromStorage(),yield this.loadImages(),yield this.initializeCurrencyForPrint()})}ngOnDestroy(){this.currencySubscription&&this.currencySubscription.unsubscribe()}getVehicleImagePath(){return 1!==this.categoryId?"assets/imgs/track.jpg":"assets/imgs/tuk.jpg"}getInvoiceData(){return"sales_return"===this.page&&this.printArr&&this.printArr[0].returnInvo?this.printArr[0].returnInvo:this.printArr&&this.printArr[0].payInvo?this.printArr[0].payInvo:{}}getInvoiceRef(){const e=this.getInvoiceData();return"sales_return"===this.page?e.return_ref||"":e.pay_ref||""}getInvoiceDate(){const e=this.getInvoiceData();return"sales_return"===this.page?e.return_date||"":e.pay_date||""}getInvoiceTime(){const e=this.getInvoiceData();return"sales_return"===this.page?e.return_time||"":e.pay_time||""}getInvoiceTotal(){return this.getInvoiceData().tot_pr||0}getInvoiceDiscount(){return this.getInvoiceData().discount||0}getInvoiceComment(){const e=this.getInvoiceData();return"sales_return"===this.page?e.returnComment||e.return_reason||"":e.payComment||""}getUserName(){var e;return this.getInvoiceData().user_name||(null===(e=this.printArr[0])||void 0===e?void 0:e.user_name)||""}initializeCurrencyForPrint(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.currencyService.initializeCurrency(),this.currentCurrency=this.currencyService.getCurrentCurrencyValue(),this.exchangeRate=this.currencyService.getExchangeRate(this.currentCurrency),this.currencySubscription=this.currencyService.getCurrentCurrency().subscribe(e=>{this.currentCurrency=e,this.exchangeRate=this.currencyService.getExchangeRate(e),this.cdr.detectChanges()}),this.addCurrencyToPrintData()})}addCurrencyToPrintData(){this.printArr&&this.printArr[0]&&(this.printArr[0].currency={code:this.currentCurrency,rate:this.exchangeRate,baseCurrency:"SDG"})}formatDualCurrency(e){if(!e&&0!==e)return"0.00";const a=this.currencyService.convertFromSDG(e,this.currentCurrency),o=this.currencyService.formatCurrency(e,"SDG"),l=this.currencyService.formatCurrency(a,this.currentCurrency);return"SDG"===this.currentCurrency?o:`${l} (${o})`}getExchangeRateFooter(){if("SDG"===this.currentCurrency)return"";const e=(new Date).toLocaleDateString("en-US");return`\u0633\u0639\u0631 \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645: 1 ${this.currentCurrency} = ${this.exchangeRate} \u062c\u0646\u064a\u0647 \u0633\u0648\u062f\u0627\u0646\u064a (\u062a\u0627\u0631\u064a\u062e: ${e})`}loadCategoryFromStorage(){return(0,d.mG)(this,void 0,void 0,function*(){try{const e=yield this.storage.get("SELECTED_CATEGORY_ID");e?(this.categoryId=parseInt(e,10),console.log("Loaded category ID from storage:",this.categoryId)):(this.categoryId=1,console.log("No category ID in storage, using default:",this.categoryId))}catch(e){console.warn("Error loading category from storage:",e),this.categoryId=1}})}sortItemListAlphabetically(){!this.printArr[0].itemList||0===this.printArr[0].itemList.length||(this.printArr[0].itemList=[...this.printArr[0].itemList].sort((e,a)=>{const o=e.item_name?e.item_name.toString().toLowerCase():"",l=a.item_name?a.item_name.toString().toLowerCase():"";return o.localeCompare(l,"ar",{numeric:!0})}))}loadImages(){return(0,d.mG)(this,void 0,void 0,function*(){console.log("Starting image loading process...");const e=[];this.imageLoadingAttempts.logo=0,this.imageLoadingAttempts.vehicle=0,e.push(this.loadImageWithRetry("assets/imgs/logo.png","logo").then(o=>{this.logoBase64=o,console.log("Logo loaded successfully")}).catch(o=>{console.warn("Failed to load logo after retries, using fallback:",o),this.logoBase64=this.fallbackLogo}));const a=1!==this.categoryId?"assets/imgs/track.jpg":"assets/imgs/tuk.jpg";console.log(`Loading vehicle image based on categoryId ${this.categoryId}: ${a}`),e.push(this.loadImageWithRetry(a,"vehicle").then(o=>{this.vehicleBase64=o,console.log("Vehicle image loaded successfully:",a)}).catch(o=>{console.warn("Failed to load vehicle image after retries, using fallback:",o),this.vehicleBase64=this.fallbackVehicle}));try{yield Promise.all(e),this.imagesLoaded=!0,console.log("All images loaded. Ready to print."),this.cdr.detectChanges()}catch(o){console.error("Unexpected error during image loading:",o),this.imagesLoaded=!0,this.cdr.detectChanges()}})}loadItemImages(){return(0,d.mG)(this,void 0,void 0,function*(){if(!this.printArr||!this.printArr[0]||!this.printArr[0].itemList)return;const e=this.printArr[0].itemList,a=[];for(const o of e)o.imageUrl&&!this.itemImagesBase64[o.imageUrl]&&a.push(this.convertImageToBase64(o.imageUrl).then(l=>{this.itemImagesBase64[o.imageUrl]=l}).catch(l=>{console.log(`Failed to load item image ${o.imageUrl}:`,l)}));yield Promise.all(a),console.log("Loaded item images:",Object.keys(this.itemImagesBase64))})}loadImageWithRetry(e,a){return(0,d.mG)(this,void 0,void 0,function*(){const o=this.maxRetryAttempts;let l;for(let p=1;p<=o;p++){this.imageLoadingAttempts[a]=p,console.log(`Loading ${a} (attempt ${p}/${o}): ${e}`);try{const _=yield this.convertImageToBase64(e);return console.log(`Successfully loaded ${a} on attempt ${p}`),_}catch(_){if(l=_,console.warn(`Failed to load ${a} on attempt ${p}:`,_),p<o){const m=Math.min(1e3*Math.pow(2,p-1),5e3);console.log(`Retrying ${a} in ${m}ms...`),yield new Promise(x=>setTimeout(x,m))}}}throw new Error(`Failed to load ${a} after ${o} attempts: ${l}`)})}convertImageToBase64(e){return new Promise((a,o)=>{const l=new Image,p=setTimeout(()=>{o(new Error(`Image loading timeout: ${e}`))},1e4);l.crossOrigin="anonymous",l.onload=()=>{clearTimeout(p);try{const A=document.createElement("canvas"),C=A.getContext("2d");if(!C)return void o(new Error("Failed to get canvas context"));A.width=l.width,A.height=l.height,C.drawImage(l,0,0);const $t=A.toDataURL("image/png",.8);a($t)}catch(A){console.error("Error converting image to base64:",A),o(A)}},l.onerror=A=>{clearTimeout(p),console.error("Failed to load image:",e,A),o(new Error(`Failed to load image: ${e}`))};const _=[e,e.replace("assets/","/assets/"),e.replace("assets/","./assets/"),e.replace("assets/","../assets/")];let m=0;const x=()=>{m<_.length?(console.log(`Trying path variation: ${_[m]}`),l.src=_[m],m++):(clearTimeout(p),o(new Error(`All path variations failed for: ${e}`)))};l.onerror=()=>{console.warn(`Path failed: ${_[m-1]||e}`),setTimeout(x,500)},x()})}ionViewDidEnter(){return(0,d.mG)(this,void 0,void 0,function*(){console.log("Print modal entered, waiting for images...");let e=0;for(;!this.imagesLoaded&&e<30;)yield new Promise(o=>setTimeout(o,500)),e++,console.log(`Waiting for images... (${e}/30)`);this.imagesLoaded||(console.warn("Images not loaded after timeout, proceeding with available images/fallbacks"),this.imagesLoaded=!0),console.log("Starting print process..."),yield this.Print("printarea1")})}Print(e){var a;return(0,d.mG)(this,void 0,void 0,function*(){console.log("Starting print process with images ready");try{let o=null===(a=document.getElementById(e))||void 0===a?void 0:a.innerHTML;if(!o)throw console.error("Print element not found:",e),new Error("Print content not available");console.log("Original content length:",o.length),o=this.replaceImagesInContent(o),console.log("Content after image replacement:",o.length);const l=window.open("","PRINT","height=600,width=800,scrollbars=1");if(!l)throw new Error("Failed to open print window - popup may be blocked");l.document.write('<html><head><meta charset="UTF-8">'),l.document.write("<title>\u0637\u0628\u0627\u0639\u0629 - Print</title>"),l.document.write('<style type="text/css">'),l.document.write("\n        @page { \n          size: A4; \n          margin: 15mm 20mm 15mm 20mm; \n        }\n        body { \n          font-family: Arial, 'Times New Roman', sans-serif; \n          font-size: 14px; \n          line-height: 1.2; \n          margin: 0; \n          padding: 10px 15px;\n          direction: rtl;\n        }\n        .flr { display: block; float: right; }\n        .show { display: block; }\n        .hide { display: none; }\n        .w45 { width: 45%; }\n        .w35 { width: 35%; }\n        .w50 { width: 50%; }\n        .w100 { width: 100%; }\n        .bnone { border: 1px solid #000000; }\n        .td, .th { \n          border: 1px solid #000000; \n          text-align: center; \n          padding: 4px 6px; \n          font-size: 16px; \n          line-height: 1.2;\n        }\n        .hd { background-color: #b9b8b8; }\n        .table { \n          text-align: center; \n          width: 100%; \n          margin: 4px 0; \n          font-size: 14px; \n          border-collapse: collapse;\n        }\n        .ion-margin { margin: 4px; }\n        .ion-margin-top { margin-top: 4px; }\n        .rtl { direction: rtl; text-align: right; }\n        .ion-text-center { text-align: center; }\n        .ion-text-end { text-align: left; }\n        .ion-text-start { text-align: right; }\n        img { \n          max-width: 100%; \n          height: auto; \n          image-rendering: -webkit-optimize-contrast;\n          image-rendering: crisp-edges;\n        }\n        h1, h2, h3, h4, h5, h6 { \n          margin: 4px 0; \n          line-height: 1.2; \n          page-break-after: avoid;\n        }\n        table { \n          page-break-inside: auto;\n          table-layout: fixed;\n          width: 100%;\n          border-collapse: collapse;\n          orphans: 3;\n          widows: 3;\n        }\n        thead {\n          display: table-header-group;\n        }\n        tbody {\n          display: table-row-group;\n        }\n        tr { \n          page-break-inside: avoid;\n          page-break-after: auto;\n        }\n        tbody tr:nth-child(-n+3) {\n          page-break-before: avoid;\n        }\n        td, th {\n          padding: 3px 6px;\n          line-height: 1.1;\n          overflow: hidden;\n          word-wrap: break-word;\n        }\n        /* Column width adjustments for better item name display */\n        table th:nth-child(1), table td:nth-child(1) { width: 8%; } /* Serial number */\n        table th:nth-child(2), table td:nth-child(2) { width: 40%; text-align: right !important; } /* Item name - wider */\n        table th:nth-child(3), table td:nth-child(3) { width: 12%; } /* Quantity */\n        table th:nth-child(4), table td:nth-child(4) { width: 15%; } /* Unit price */\n        table th:nth-child(5), table td:nth-child(5) { width: 15%; } /* Discount or VAT% */\n        table th:nth-child(6), table td:nth-child(6) { width: 15%; } /* VAT or Total */\n        table th:nth-child(7), table td:nth-child(7) { width: 15%; } /* Total */\n        \n        /* For 5-column tables (purchase orders, etc.) */\n        table.five-column th:nth-child(1), table.five-column td:nth-child(1) { width: 8%; }\n        table.five-column th:nth-child(2), table.five-column td:nth-child(2) { width: 45%; text-align: right !important; }\n        table.five-column th:nth-child(3), table.five-column td:nth-child(3) { width: 12%; }\n        table.five-column th:nth-child(4), table.five-column td:nth-child(4) { width: 17%; }\n        table.five-column th:nth-child(5), table.five-column td:nth-child(5) { width: 18%; }\n      "),l.document.write("</style></head><body>"),l.document.write(o),l.document.write("</body></html>"),l.document.close(),console.log("Print document prepared, waiting for images to load..."),setTimeout(()=>{try{l.focus(),l.print(),setTimeout(()=>{l.closed||l.close()},1e3)}catch(_){console.error("Error during printing:",_)}},1500)}catch(o){console.error("Print process failed:",o),yield this.showToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0637\u0628\u0627\u0639\u0629 - Print error: "+o.message,"danger")}this.modalController.dismiss()})}replaceImagesInContent(e){console.log("Replacing images in content...");let o=e,l=0;return[{pattern:/src=['"]assets\/imgs\/logo\.png['"]/gi,replacement:`src="${this.logoBase64}"`,name:"logo-direct"},{pattern:/src=['"]assets\/imgs\/tuk\.jpg['"]/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-tuk-direct"},{pattern:/src=['"]assets\/imgs\/track\.jpg['"]/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-track-direct"},{pattern:/src=assets\/imgs\/logo\.png/gi,replacement:`src="${this.logoBase64}"`,name:"logo-no-quotes"},{pattern:/src=assets\/imgs\/tuk\.jpg/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-tuk-no-quotes"},{pattern:/src=assets\/imgs\/track\.jpg/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-track-no-quotes"},{pattern:/src=['"][^'"]*assets\/imgs\/logo\.png[^'"]*['"]/gi,replacement:`src="${this.logoBase64}"`,name:"logo-property-binding"},{pattern:/src=['"][^'"]*assets\/imgs\/tuk\.jpg[^'"]*['"]/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-tuk-property-binding"},{pattern:/src=['"][^'"]*assets\/imgs\/track\.jpg[^'"]*['"]/gi,replacement:`src="${this.vehicleBase64}"`,name:"vehicle-track-property-binding"},{pattern:/assets\/imgs\/logo\.png/gi,replacement:this.logoBase64,name:"logo-any-occurrence"},{pattern:/assets\/imgs\/tuk\.jpg/gi,replacement:this.vehicleBase64,name:"vehicle-tuk-any-occurrence"},{pattern:/assets\/imgs\/track\.jpg/gi,replacement:this.vehicleBase64,name:"vehicle-track-any-occurrence"}].forEach(({pattern:p,replacement:_,name:m})=>{const x=o.match(p);x&&(console.log(`Found ${x.length} matches for ${m}:`,x),o=o.replace(p,_),l+=x.length)}),console.log(`Total image replacements made: ${l}`),this.logoBase64&&o.includes(this.logoBase64)?console.log("\u2713 Logo base64 found in final content"):console.warn("\u26a0 Logo base64 NOT found in final content"),this.vehicleBase64&&o.includes(this.vehicleBase64)?console.log("\u2713 Vehicle base64 found in final content"):console.warn("\u26a0 Vehicle base64 NOT found in final content"),o}showToast(e,a="primary"){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:3e3,color:a,position:"top"})).present()})}formatBalance(e){return e||0===e?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e)):"0.00"}formatNumberWithSeparators(e){return!e&&0!==e||isNaN(e)?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}formatCurrencyWithSeparators(e,a=!0){if(!e&&0!==e)return a?"0.00 "+this.getCurrencySymbol():"0.00";if(isNaN(e))return a?"0.00 "+this.getCurrencySymbol():"0.00";const o=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return a?o+" "+this.getCurrencySymbol():o}getCurrencySymbol(){return this.currencyService.getCurrentCurrencySymbol()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.IN),t.Y36(h.yF),t.Y36(f.i),t.Y36(T.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-print-modal"]],inputs:{printArr:"printArr",page:"page"},decls:3,vars:3,consts:[["style","max-width : 30px",4,"ngIf"],[4,"ngIf"],[2,"max-width","30px"],["style","position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.9); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000;",4,"ngIf"],[1,"ion-padding"],["id","printarea1"],["printarea1",""],[2,"width","100px","height","100px","margin-left","20%"],["alt","",3,"src"],[1,"ion-text-center"],["class","ion-text-center",4,"ngIf"],["class","ion-margin-top rtl",4,"ngIf"],[2,"position","fixed","top","0","left","0","right","0","bottom","0","background","rgba(255,255,255,0.9)","display","flex","flex-direction","column","align-items","center","justify-content","center","z-index","1000"],["name","crescent","color","primary"],[2,"margin-top","16px","font-size","14px","color","#666"],[2,"font-size","12px","color","#999"],[1,"ion-margin-top","rtl"],[1,"w100","rtl",2,"display","inline-block"],[1,"rtl","flr","ion-margin",2,"width","100%","position","relative","float","right","text-align","right"],[1,"ion-margin","rtl"],[1,"ion-margin"],[1,"table"],[1,"th",2,"border-bottom",".5px solid #dddddd"],[4,"ngFor","ngForOf"],[1,"td",2,"border","none"],["class","w100 rtl ion-margin",4,"ngIf"],[1,"w100","rtl","ion-margin"],[1,"w100","rtl",2,"display","inline-block","margin-right","16px"],[1,"rtl","ion-text-center",2,"width","20%","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","30%","text-align","center","padding","8px","position","relative","float","right"],["class","currency-info","style","font-size: 0.8em; margin: 10px 20px; border-bottom: 1px solid #ccc; padding-bottom: 5px; text-align: center;",4,"ngIf"],[2,"padding","13px"],[2,"display","table","width","100%","margin-bottom","12px"],[2,"display","table-cell","width","150px","text-align","left","vertical-align","middle"],["alt","Vehicle",2,"width","120px","height","80px","object-fit","contain",3,"src"],[2,"display","table-cell","text-align","center","vertical-align","middle"],[2,"margin","5px 0 0 0","font-size","30px"],["style","margin: 0; padding: 10px; background-color: #f0f0f0; display: inline-block; font-size: 30px;",4,"ngIf"],[2,"display","table-cell","width","150px","text-align","right","vertical-align","middle"],["alt","Logo",2,"width","120px","height","80px","object-fit","contain",3,"src"],["style","margin-bottom: 13px;margin-top: 20px; border: 1px solid #ccc; padding: 15px; direction: rtl;",4,"ngIf"],["style","margin-bottom: 20px; direction: rtl;",4,"ngIf"],["style","margin-top: 20px; border: 1px solid #ccc; padding: 15px; direction: rtl;",4,"ngIf"],["style","margin-top: 20px; text-align: right; font-size: 12px; direction: rtl;",4,"ngIf"],[1,"currency-info",2,"font-size","0.8em","margin","10px 20px","border-bottom","1px solid #ccc","padding-bottom","5px","text-align","center"],[2,"margin","0","padding","10px","background-color","#f0f0f0","display","inline-block","font-size","30px"],[2,"margin-bottom","13px","margin-top","20px","border","1px solid #ccc","padding","15px","direction","rtl"],[2,"font-size","14px","margin-right","10px"],[2,"margin-bottom","8px","border-bottom","1px dotted #ccc","padding-bottom","8px"],[2,"display","inline-block","width","48%","text-align","right"],[2,"margin-bottom","8px"],["style","display: inline-block; width: 48%; text-align: right;",4,"ngIf"],[2,"margin-bottom","20px","direction","rtl"],[2,"width","100%","border-collapse","collapse","font-size","12px","direction","rtl"],[2,"background-color","#d3d3d3"],[2,"border","1px solid #000","padding","10px","text-align","center"],["style","border: 1px solid #000; padding: 10px; text-align: center;",4,"ngIf"],[2,"border","1px solid #000","padding","3px","text-align","center","font-size","16px"],[2,"border","1px solid #000","padding","3px","text-align","right","font-size","16px"],["style","border: 1px solid #000; padding: 3px; text-align: center;font-size: 16px;",4,"ngIf"],[2,"margin-top","20px","border","1px solid #ccc","padding","15px","direction","rtl"],[2,"display","inline-block","width","32%","text-align","right"],["style","display: inline-block; width: 32%; text-align: right;",4,"ngIf"],[2,"margin-top","20px","text-align","right","font-size","12px","direction","rtl"],["class","ion-margin-top",4,"ngIf"],["class","exchange-rate-footer","style","font-size: 0.7em; text-align: center; border-top: 1px solid #ccc; padding-top: 5px; margin-top: 20px;",4,"ngIf"],[1,"rtl","flr","ion-margin",2,"width","30%","position","relative","float","left","text-align","left"],["class","ion-margin ","style"," width: 60%; position: relative; float: right;",4,"ngIf"],["class","ion-margin","style","width: 30%; position: relative; float: right ; text-align:right;",4,"ngIf"],["class","rtl ion-margin","style","width: 30%; position: relative; float: left; text-align:left;",4,"ngIf"],[1,"table","five-column"],[1,"th"],["class","th",4,"ngIf"],[1,"td"],[1,"ion-margin",2,"width","60%","position","relative","float","right"],[1,"ion-margin",2,"width","30%","position","relative","float","right","text-align","right"],[1,"rtl","ion-margin",2,"width","30%","position","relative","float","left","text-align","left"],["class","td",4,"ngIf"],[1,"rtl","ion-text-center",2,"width","15%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","18%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],["class","rtl ion-text-center","style"," width:12% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],["class","rtl ion-text-center ","style","width:15% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],["class","rtl ion-text-center","style"," width:15% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],["class","rtl ion-text-center ","style","width:20% ;border: .5px solid #dddddd;text-align: center;padding: 8px; position: relative; float: right;",4,"ngIf"],[1,"rtl","ion-text-center",2,"width","12%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","20%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-text-center",2,"width","30%","border",".5px solid #dddddd","text-align","center","padding","8px","position","relative","float","right"],[1,"rtl","ion-margin",2,"margin-top","20px","width","30%","position","relative","float","right","text-align","right"],[1,"ion-margin-top"],[1,"w100",2,"display","inline-block"],[1,"flr","ion-margin",2,"width","30%","position","relative","float","right","text-align","right"],[1,"ion-margin",2,"width","60%","position","relative","float","left"],[1,"exchange-rate-footer",2,"font-size","0.7em","text-align","center","border-top","1px solid #ccc","padding-top","5px","margin-top","20px"]],template:function(e,a){1&e&&(t.YNc(0,O,19,8,"ion-content",0),t.YNc(1,X,20,9,"ion-content",1),t.YNc(2,Bt,20,12,"ion-content",1)),2&e&&(t.Q6J("ngIf","pos"==a.mode),t.xp6(1),t.Q6J("ngIf","enhanced"==a.mode),t.xp6(1),t.Q6J("ngIf","pos"!=a.mode&&"enhanced"!=a.mode))},directives:[v.O5,h.W2,h.Q$,h.yW,h.PQ,v.sg],pipes:[v.JJ],styles:['.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:16px}.th[_ngcontent-%COMP%]{padding:6px 8px;border:1px solid #000;text-align:center;font-weight:700;font-size:16px;line-height:1.2}.td[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid #000;text-align:center;font-size:16px;line-height:1.2}table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:6px 8px!important;font-size:16px!important;line-height:1.2!important}table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 8px!important;font-size:16px!important;line-height:1.2!important}ion-content[style*="max-width : 30px"][_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%], ion-content[style*="max-width : 30px"][_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{font-size:14px;padding:3px 6px;line-height:1.1}ion-label[_ngcontent-%COMP%]{font-size:16px}h4[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{line-height:1.3;margin:8px 0}.rtl[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px}@media print{*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}#printarea1[_ngcontent-%COMP%]{page-break-inside:auto!important;break-inside:auto!important}h4[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{page-break-after:auto!important;page-break-inside:avoid!important;margin:4px 0!important;line-height:1.2!important}.ion-margin-top[_ngcontent-%COMP%]{page-break-before:auto!important;page-break-after:auto!important;page-break-inside:avoid!important;margin-top:8px!important;margin-bottom:8px!important}.ion-margin.rtl[_ngcontent-%COMP%]{margin:4px!important;page-break-inside:auto!important}.table[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]{page-break-inside:auto!important;break-inside:auto!important;table-layout:fixed!important;width:100%!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table-header-group!important}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:table-row-group!important}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{page-break-inside:avoid!important;break-inside:avoid!important;page-break-after:auto!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px 6px!important;line-height:1.1!important;font-size:14px!important;overflow:hidden!important;word-wrap:break-word!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:8%!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%!important;text-align:right!important;padding-right:8px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:12%!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:10%!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(7), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7){width:15%!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){white-space:normal!important;word-wrap:break-word!important}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(-n+3), table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(-n+3){page-break-before:avoid!important}.w100.rtl.ion-margin[_ngcontent-%COMP%]{page-break-inside:avoid!important;page-break-before:auto!important;margin:8px 16px!important}ion-content[style*="max-width : 30px"][_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], ion-content[style*="max-width : 30px"][_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 2px!important;font-size:12px!important}div[style*="margin-bottom: 20px"][_ngcontent-%COMP%]{margin-bottom:10px!important;page-break-inside:auto!important}.ion-margin[_ngcontent-%COMP%]{margin:4px!important}.ion-padding[_ngcontent-%COMP%]{padding:8px!important}ion-label[_ngcontent-%COMP%], ion-text[_ngcontent-%COMP%]{font-size:14px!important;line-height:1.1!important}.w100.rtl[_ngcontent-%COMP%]{margin-bottom:8px!important}.w100.rtl[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px!important}.ion-margin-top[_ngcontent-%COMP%] + .ion-margin.rtl[_ngcontent-%COMP%]{page-break-before:auto!important;margin-top:0!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child, table[style*="border-collapse: collapse"][_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{page-break-before:avoid!important;page-break-after:avoid!important}.table[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]{orphans:3!important;widows:3!important}div.ion-margin[_ngcontent-%COMP%]:has(table){page-break-before:avoid!important;page-break-inside:auto!important}.table[_ngcontent-%COMP%], table[style*="border-collapse: collapse"][_ngcontent-%COMP%]{border-collapse:separate!important;border-spacing:0!important}ion-content[_ngcontent-%COMP%]{page-break-inside:auto!important}.ion-padding[_ngcontent-%COMP%]{page-break-inside:auto!important}}']}),n})()},6612:(M,b,g)=>{g.d(b,{i:()=>P});var d=g(70655),t=g(40520),h=g(591),f=g(29863),T=g(90849),v=g(91472);let P=(()=>{class Z{constructor(r,c,u){this.http=r,this.storage=c,this.servicesService=u,this.currentCurrency=new h.X("SDG"),this.currentYear=new h.X(null),this.exchangeRates=new h.X({}),this.supportedCurrencies=new h.X([]),this.ratesCache=new Map,this.api=this.servicesService.api}getCurrentCurrency(){return this.currentCurrency.asObservable()}getCurrentCurrencyValue(){return this.currentCurrency.value}setCurrency(r){this.currentCurrency.next(r),this.storage.set("selectedCurrency",r)}setCurrentYear(r){this.currentYear.next(r)}loadRatesByYear(r,c){return(0,d.mG)(this,void 0,void 0,function*(){try{const u=(new t.LE).set("store_id",r).set("year_id",c),s=yield this.http.get(this.api+"currency_rates/latest.php",{params:u}).toPromise();return s&&s.data&&(this.cacheRates(s.data,c),this.exchangeRates.next(s.data)),s}catch(u){return console.error("Error loading currency rates:",u),null}})}getExchangeRate(r){if("SDG"===r)return 1;const c=this.exchangeRates.value;if(Array.isArray(c)){const u=c.find(s=>s.target_currency===r);return u?parseFloat(u.exchange_rate):1}return 1}createCurrencyRate(r){const c={headers:new t.WM({"Content-Type":"application/json"})};return this.http.post(this.api+"currency_rates/create.php",r,c)}getCurrencyRates(r){let c=new t.LE;return Object.keys(r).forEach(u=>{r[u]&&(c=c.set(u,r[u]))}),this.http.get(this.api+"currency_rates/read.php",{params:c})}updateCurrencyRate(r,c){const u=Object.assign({id:r},c),s={headers:new t.WM({"Content-Type":"application/json"})};return this.http.put(this.api+"currency_rates/update.php",u,s)}deleteCurrencyRate(r){const c=(new t.LE).set("id",r);return this.http.delete(this.api+"currency_rates/delete.php",{params:c})}getNearestRate(r,c,u,s){const q=(new t.LE).set("currency",r).set("date",c).set("store_id",u).set("year_id",s);return this.http.get(this.api+"currency_rates/nearestDate.php",{params:q})}convertFromSDG(r,c){return"SDG"!==c&&r?r/this.getExchangeRate(c):r}convertToSDG(r,c){return"SDG"!==c&&r?r*this.getExchangeRate(c):r}formatCurrency(r,c){return`${r.toLocaleString("en-US",{minimumFractionDigits:2})} ${{SDG:"\u062c.\u0633",USD:"$",AED:"\u062f.\u0625",SAR:"\u0631.\u0633"}[c]||c}`}getSupportedCurrencies(){return this.http.get(this.api+"currencies/read.php")}getActiveCurrencies(){const r=(new t.LE).set("active_only","true");return this.http.get(this.api+"currencies/read.php",{params:r})}addSupportedCurrency(r){return this.http.post(this.api+"currencies/create.php",r)}updateSupportedCurrency(r,c){return this.http.put(this.api+"currencies/update.php",Object.assign({id:r},c))}deleteSupportedCurrency(r){const c=(new t.LE).set("id",r);return this.http.delete(this.api+"currencies/delete.php",{params:c})}cacheKey(r,c,u){return`${r}_${c}_${u}`}cacheRates(r,c){Array.isArray(r)&&r.forEach(u=>{const s=this.cacheKey(u.target_currency,u.rate_date,c);this.ratesCache.set(s,u)})}getCachedRate(r,c,u){const s=this.cacheKey(r,c,u);return this.ratesCache.get(s)}clearCache(){this.ratesCache.clear()}initializeCurrency(){return(0,d.mG)(this,void 0,void 0,function*(){try{yield this.storage.create();const r=yield this.storage.get("selectedCurrency");r&&this.currentCurrency.next(r)}catch(r){console.error("Error initializing currency:",r)}})}getCurrentExchangeRates(){return this.exchangeRates.asObservable()}getSupportedCurrenciesObservable(){return this.supportedCurrencies.asObservable()}loadSupportedCurrencies(){return(0,d.mG)(this,void 0,void 0,function*(){try{const r=yield this.getSupportedCurrencies().toPromise();r&&r.data&&this.supportedCurrencies.next(r.data)}catch(r){console.error("Error loading supported currencies:",r)}})}formatAmount(r,c){const u=c||this.getCurrentCurrencyValue();let s=r;return"SDG"!==u&&(s=this.convertFromSDG(r,u)),this.formatCurrency(s,u)}convertToCurrentCurrency(r,c="SDG"){const u=this.getCurrentCurrencyValue();if(c===u)return r;if("SDG"===c)return this.convertFromSDG(r,u);if("SDG"===u)return this.convertToSDG(r,c);{const s=this.convertToSDG(r,c);return this.convertFromSDG(s,u)}}getCurrentCurrencySymbol(){const r=this.getCurrentCurrencyValue();return{SDG:"\u062c.\u0633",USD:"$",AED:"\u062f.\u0625",SAR:"\u0631.\u0633"}[r]||r}getCurrentCurrencySymbolForHeader(r){return`${r} (${this.getCurrentCurrencySymbol()})`}formatAmountWithoutSymbol(r,c){const u=c||this.getCurrentCurrencyValue();let s=r;return"SDG"!==u&&(s=this.convertFromSDG(r,u)),s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}}return Z.\u0275fac=function(r){return new(r||Z)(f.LFG(t.eN),f.LFG(T.K),f.LFG(v.r))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()}}]);
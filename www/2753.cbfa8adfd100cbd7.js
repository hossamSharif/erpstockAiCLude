"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2753],{62753:(dt,x,d)=>{d.r(x),d.d(x,{SpendsRecodPageModule:()=>_t});var l=d(69808),p=d(34182),a=d(23349),T=d(94030),h=d(70655),A=d(4441),t=d(29863),m=d(90849),q=d(91472);function y(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item",17),t.TgZ(1,"input",18),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(3).startingDate=r}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngModel",e.startingDate)}}function b(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-col",9),t.TgZ(1,"ion-item",17),t.TgZ(2,"input",19),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(3).endDate=r}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngModel",e.endDate)}}function U(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",3),t.TgZ(2,"ion-col",4),t.TgZ(3,"ion-card",5),t.TgZ(4,"ion-grid",5),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",4),t.TgZ(7,"ion-grid",5),t.TgZ(8,"ion-row",3),t.TgZ(9,"ion-radio-group",6),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).radioVal=r})("ionChange",function(r){return t.CHM(e),t.oxw(2).radioChange(r)}),t.TgZ(10,"ion-grid",5),t.TgZ(11,"ion-row"),t.TgZ(12,"ion-col",5),t.TgZ(13,"ion-item",7),t._UZ(14,"ion-radio",8),t.TgZ(15,"ion-label"),t._uU(16," \u062d\u062f\u064a\u062b\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"ion-col",5),t.TgZ(18,"ion-item",7),t._UZ(19,"ion-radio",8),t.TgZ(20,"ion-label"),t._uU(21,"\u0628\u062d\u062b \u0641\u064a \u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"ion-col",5),t.TgZ(23,"ion-item",7),t._UZ(24,"ion-radio",8),t.TgZ(25,"ion-label"),t._uU(26,"\u0628\u062d\u062b \u0641\u064a \u0641\u062a\u0631\u0629"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-row",3),t.TgZ(28,"ion-col",9),t.YNc(29,y,2,1,"ion-item",10),t.qZA(),t.YNc(30,b,3,1,"ion-col",11),t.TgZ(31,"ion-col",12),t.TgZ(32,"ion-item",7),t.TgZ(33,"ion-buttons",13),t.TgZ(34,"ion-button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).search()}),t._UZ(35,"ion-icon",15),t.TgZ(36,"ion-label"),t.TgZ(37,"ion-text",16),t._uU(38,"\u0628\u062d\u0640\u0640\u062b"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("ngModel",e.radioVal),t.xp6(5),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(5),t.Q6J("value",2),t.xp6(5),t.Q6J("ngIf",0!=e.radioVal),t.xp6(1),t.Q6J("ngIf",2==e.radioVal)}}function P(i,s){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.from2)}}function J(i,s){1&i&&t._UZ(0,"ion-text")}function S(i,s){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.from3)}}function I(i,s){1&i&&t._UZ(0,"ion-text")}function D(i,s){if(1&i&&(t.TgZ(0,"ion-text",27),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.to2)}}function w(i,s){1&i&&t._UZ(0,"ion-text",27)}function N(i,s){if(1&i&&(t.TgZ(0,"ion-text",27),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.to3)}}function R(i,s){1&i&&t._UZ(0,"ion-text",27)}function C(i,s){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.debit2)}}function M(i,s){1&i&&t._UZ(0,"ion-text")}function v(i,s){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.debit3)}}function F(i,s){1&i&&t._UZ(0,"ion-text")}function O(i,s){1&i&&(t.TgZ(0,"tr",30),t._UZ(1,"ion-text"),t.qZA())}function Q(i,s){1&i&&(t.TgZ(0,"tr",30),t._UZ(1,"ion-text"),t.qZA())}function Y(i,s){1&i&&(t.TgZ(0,"tr",30),t._UZ(1,"ion-text",34),t.qZA())}function j(i,s){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.credit2," ")}}function k(i,s){1&i&&t._UZ(0,"ion-text")}function B(i,s){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.credit3," ")}}function E(i,s){1&i&&t._UZ(0,"ion-text")}function z(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",25),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.TgZ(12,"table",26),t.TgZ(13,"tr"),t.TgZ(14,"ion-text"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"tr"),t.YNc(17,P,2,1,"ion-text",1),t.YNc(18,J,1,0,"ion-text",1),t.qZA(),t.TgZ(19,"tr"),t.YNc(20,S,2,1,"ion-text",1),t.YNc(21,I,1,0,"ion-text",1),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"ion-text",27),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.YNc(26,D,2,1,"ion-text",28),t.YNc(27,w,1,0,"ion-text",28),t.qZA(),t.TgZ(28,"tr"),t.YNc(29,N,2,1,"ion-text",28),t.YNc(30,R,1,0,"ion-text",28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"td"),t.TgZ(32,"table"),t.TgZ(33,"tr",29),t.TgZ(34,"ion-text"),t._uU(35),t.qZA(),t.qZA(),t.TgZ(36,"tr",30),t.YNc(37,C,2,1,"ion-text",1),t.YNc(38,M,1,0,"ion-text",1),t.qZA(),t.TgZ(39,"tr",30),t.YNc(40,v,2,1,"ion-text",1),t.YNc(41,F,1,0,"ion-text",1),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"td"),t.TgZ(43,"table"),t.TgZ(44,"tr",30),t._UZ(45,"ion-text"),t.qZA(),t.YNc(46,O,2,0,"tr",31),t.YNc(47,Q,2,0,"tr",31),t.YNc(48,Y,2,0,"tr",31),t.TgZ(49,"tr"),t.TgZ(50,"ion-text"),t._uU(51),t.qZA(),t.qZA(),t.TgZ(52,"tr",30),t.YNc(53,j,2,1,"ion-text",1),t.YNc(54,k,1,0,"ion-text",1),t.qZA(),t.TgZ(55,"tr",30),t.YNc(56,B,2,1,"ion-text",1),t.YNc(57,E,1,0,"ion-text",1),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"td"),t.TgZ(59,"ion-button",32),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(3).delete(n.j_ref)}),t._UZ(60,"ion-icon",33),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,o=s.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.hij(" ",e.j_date,""),t.xp6(2),t.Oqu(e.j_type),t.xp6(2),t.Oqu(e.j_details),t.xp6(2),t.Oqu(e.j_pay),t.xp6(5),t.Oqu(e.from1),t.xp6(2),t.Q6J("ngIf",e.from2),t.xp6(1),t.Q6J("ngIf",!e.from2),t.xp6(2),t.Q6J("ngIf",e.from3),t.xp6(1),t.Q6J("ngIf",!e.from3),t.xp6(3),t.Oqu(e.to1),t.xp6(2),t.Q6J("ngIf",e.to2),t.xp6(1),t.Q6J("ngIf",!e.to2),t.xp6(2),t.Q6J("ngIf",e.to3),t.xp6(1),t.Q6J("ngIf",!e.to3),t.xp6(5),t.Oqu(e.debit),t.xp6(2),t.Q6J("ngIf",e.debit2),t.xp6(1),t.Q6J("ngIf",!e.debit2),t.xp6(2),t.Q6J("ngIf",e.debit3),t.xp6(1),t.Q6J("ngIf",!e.debit3),t.xp6(5),t.Q6J("ngIf",e.debit),t.xp6(1),t.Q6J("ngIf",e.debit&&e.debit2),t.xp6(1),t.Q6J("ngIf",e.debit&&e.debit2&&e.debit3),t.xp6(3),t.Oqu(e.credit),t.xp6(2),t.Q6J("ngIf",e.credit2),t.xp6(1),t.Q6J("ngIf",!e.credit2),t.xp6(2),t.Q6J("ngIf",e.credit3),t.xp6(1),t.Q6J("ngIf",!e.credit3)}}function H(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",35),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",35),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",35),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",35),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",35),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",35),t.qZA(),t.qZA())}function V(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",35),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",35),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",35),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",35),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",35),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",35),t.qZA(),t.qZA())}function $(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",35),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",35),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",35),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",35),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",35),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",35),t.qZA(),t.qZA())}function L(i,s){1&i&&(t.TgZ(0,"ion-row",36),t.TgZ(1,"ion-col",37),t.TgZ(2,"ion-label"),t._UZ(3,"ion-icon",38),t.qZA(),t.TgZ(4,"h4"),t._uU(5," \u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a "),t.qZA(),t.qZA(),t.qZA())}function G(i,s){if(1&i&&(t.TgZ(0,"ion-grid",20),t.TgZ(1,"ion-row",3),t.TgZ(2,"ion-col",21),t.TgZ(3,"ion-grid"),t.TgZ(4,"ion-row"),t.TgZ(5,"ion-col",4),t.TgZ(6,"ion-card"),t.TgZ(7,"table",22),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"\u0627\u0644\u0628\u064a\u0627\u0646"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"\u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"\u0627\u0644\u0642\u064a\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"\u0627\u0644\u0645\u062f\u064a\u0646 "),t.qZA(),t.TgZ(23,"th"),t._uU(24,"\u0627\u0644\u062f\u0627\u0626\u0646 "),t.qZA(),t.TgZ(25,"th"),t.TgZ(26,"strong"),t._uU(27,"\u062d\u0630\u0641"),t.qZA(),t.qZA(),t.qZA(),t.YNc(28,z,61,28,"tr",23),t.YNc(29,H,13,0,"tr",1),t.YNc(30,V,13,0,"tr",1),t.YNc(31,$,13,0,"tr",1),t.qZA(),t.YNc(32,L,6,0,"ion-row",24),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(28),t.Q6J("ngForOf",e.payArray),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.showEmpty)}}function W(i,s){if(1&i&&(t.TgZ(0,"ion-content"),t.YNc(1,U,39,6,"ion-grid",1),t.YNc(2,G,33,5,"ion-grid",2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info),t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info)}}function K(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item",17),t.TgZ(1,"input",18),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(3).startingDate=r}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngModel",e.startingDate)}}function X(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-col",39),t.TgZ(1,"ion-item",17),t.TgZ(2,"input",19),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(3).endDate=r}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngModel",e.endDate)}}function tt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",3),t.TgZ(2,"ion-col",4),t.TgZ(3,"ion-card",5),t.TgZ(4,"ion-grid",5),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",4),t.TgZ(7,"ion-grid",5),t.TgZ(8,"ion-row",3),t.TgZ(9,"ion-radio-group",6),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).radioVal=r})("ionChange",function(r){return t.CHM(e),t.oxw(2).radioChange(r)}),t.TgZ(10,"ion-grid",5),t.TgZ(11,"ion-row"),t.TgZ(12,"ion-col",5),t.TgZ(13,"ion-item",7),t._UZ(14,"ion-radio",8),t.TgZ(15,"ion-label"),t._uU(16," \u062d\u062f\u064a\u062b\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"ion-col",5),t.TgZ(18,"ion-item",7),t._UZ(19,"ion-radio",8),t.TgZ(20,"ion-label"),t._uU(21,"\u0628\u062d\u062b \u0641\u064a \u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"ion-col",5),t.TgZ(23,"ion-item",7),t._UZ(24,"ion-radio",8),t.TgZ(25,"ion-label"),t._uU(26,"\u0628\u062d\u062b \u0641\u064a \u0641\u062a\u0631\u0629"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-row",3),t.TgZ(28,"ion-col",39),t.YNc(29,K,2,1,"ion-item",10),t.qZA(),t.YNc(30,X,3,1,"ion-col",40),t.TgZ(31,"ion-col",41),t.TgZ(32,"ion-item",7),t.TgZ(33,"ion-buttons",13),t.TgZ(34,"ion-button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).search()}),t._UZ(35,"ion-icon",15),t.TgZ(36,"ion-label"),t.TgZ(37,"ion-text",16),t._uU(38,"\u0628\u062d\u0640\u0640\u062b"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("ngModel",e.radioVal),t.xp6(5),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(5),t.Q6J("value",2),t.xp6(5),t.Q6J("ngIf",0!=e.radioVal),t.xp6(1),t.Q6J("ngIf",2==e.radioVal)}}function et(i,s){1&i&&(t.TgZ(0,"ion-list"),t.TgZ(1,"ion-item"),t._UZ(2,"ion-skeleton-text",35),t.qZA(),t.TgZ(3,"ion-item"),t._UZ(4,"ion-skeleton-text",35),t.qZA(),t.TgZ(5,"ion-item"),t._UZ(6,"ion-skeleton-text",35),t.qZA(),t.qZA())}function it(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-accordion",43),t.TgZ(1,"ion-item",44),t._UZ(2,"ion-icon",45),t.TgZ(3,"ion-grid"),t.TgZ(4,"ion-row"),t.TgZ(5,"ion-col",4),t.TgZ(6,"ion-label"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-col",9),t.TgZ(9,"ion-label"),t.TgZ(10,"ion-note"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"ion-col",41),t.TgZ(14,"ion-label"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",46),t.TgZ(17,"ion-item",34),t._UZ(18,"ion-skeleton-text",35),t.qZA(),t._UZ(19,"ion-item-divider"),t.TgZ(20,"ion-list"),t.TgZ(21,"ion-item",7),t.TgZ(22,"ion-label"),t.TgZ(23,"ion-note"),t._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f: "),t.qZA(),t.TgZ(25,"strong"),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-item",7),t.TgZ(28,"ion-label"),t.TgZ(29,"ion-note"),t._uU(30,"\u0627\u0644\u0628\u064a\u0627\u0646: "),t.qZA(),t.TgZ(31,"strong"),t._uU(32),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"ion-item",7),t.TgZ(34,"ion-label"),t.TgZ(35,"ion-note"),t._uU(36," \u0627\u0644\u0645\u0628\u0644\u063a : "),t.qZA(),t.TgZ(37,"strong"),t._uU(38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"ion-item",7),t.TgZ(40,"ion-label"),t.TgZ(41,"ion-note"),t._uU(42," \u0645\u0646 "),t._UZ(43,"ion-icon",47),t.qZA(),t.TgZ(44,"strong"),t._uU(45),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"ion-item",7),t.TgZ(47,"ion-label"),t.TgZ(48,"ion-note"),t._uU(49," \u0627\u0644\u064a "),t._UZ(50,"ion-icon",47),t.qZA(),t.TgZ(51,"strong"),t._uU(52),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"ion-row",48),t.TgZ(54,"ion-col",39),t.TgZ(55,"ion-button",14),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw(4).delete(n.j_ref)}),t._UZ(56,"ion-icon",49),t.TgZ(57,"ion-label"),t.TgZ(58,"ion-text",16),t._uU(59,"\u062d\u0630\u0641"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit;t.Q6J("value",s.index),t.xp6(7),t.Oqu(e.to1),t.xp6(4),t.Oqu(t.xi3(12,9,e.pay_date,"dd-MM")),t.xp6(4),t.Oqu(e.j_pay),t.xp6(11),t.Oqu(e.j_type),t.xp6(6),t.Oqu(e.j_details),t.xp6(6),t.hij(" ",e.j_pay," "),t.xp6(7),t.hij(" ",e.to1," "),t.xp6(7),t.hij(" ",e.from1," ")}}function ot(i,s){if(1&i&&(t.TgZ(0,"ion-accordion-group"),t.YNc(1,it,60,12,"ion-accordion",42),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.payArray)}}function nt(i,s){if(1&i&&(t.TgZ(0,"ion-grid",20),t.YNc(1,et,7,0,"ion-list",1),t.YNc(2,ot,2,1,"ion-accordion-group",1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",e.payArray)}}function st(i,s){if(1&i&&(t.TgZ(0,"ion-content"),t.YNc(1,tt,39,6,"ion-grid",1),t.YNc(2,nt,3,2,"ion-grid",2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info),t.xp6(1),t.Q6J("ngIf",e.user_info&&e.store_info)}}const rt=[{path:"",component:(()=>{class i{constructor(e,o,r,n,_,u,Z,g,c){this.platform=e,this.alertController=o,this.rout=r,this.storage=n,this.modalController=_,this.loadingController=u,this.datePipe=Z,this.api=g,this.toast=c,this.jdetailsFrom=[],this.jdetailsTo=[],this.payArray=[],this.purchase=[],this.sales=[],this.printArr=[],this.showEmpty=!1,this.printMode=!1,this.itemList=[],this.radioVal=0,this.loading=!1,this.device="",this.checkPlatform(),this.getAppInfo();let f=new Date;this.startingDate=this.datePipe.transform(f,"yyyy-MM-dd"),this.endDate=this.datePipe.transform(f,"yyyy-MM-dd")}checkPlatform(){this.platform.is("desktop")?this.device="desktop":this.platform.is("mobile")&&(this.device="mobile")}getAppInfo(){this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getTopSales())})}ionViewDidEnter(){this.getAppInfo()}ngOnInit(){}printInvo(e,o){this.paInvo=o,this.api.getPayInvoDetail(this.store_info.id,o.pay_ref,this.year.id).subscribe(r=>{this.itemList=r.data,this.printArr=[],this.printArr.push({payInvo:this.paInvo,itemList:this.itemList,selectedAccount:this.paInvo.sub_name,sub_nameNew:""}),this.presentModal(this.printArr,"sales_record")},r=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{})}presentModal(e,o){return(0,h.mG)(this,void 0,void 0,function*(){const r=yield this.modalController.create({component:A.n,componentProps:{printArr:this.printArr,page:o}});return r.onDidDismiss().then(n=>{}),yield r.present()})}preparedPrin(e,o,r){e&&o&&r&&(this.printMode=!0,this.Print(e,this.paInvo,this.itemList))}Print(e,o,r){if(e&&o&&r){var n=window.open("","PRINT","height=400,width=600");return n.document.write("<html><head>"),n.document.write('<style type="text/css">'),n.document.write(".flr{ display: block; float: right; } .show{ } .hide{width:0px;height:0px} .w45 {width:45%} .w50 {width:50%} .w100 {width:100%} td, th {border: 1px solid #dddddd;text-align: center;padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} .table{text-align: center;width: 100%; margin: 12px;}.ion-margin{ margin: 10px; } .ion-margin-top{ margin-top: 10px; } .rtl {  direction: rtl; } .ion-text-center{ text-align: center; } .ion-text-end{ text-align: left; } .ion-text-start{ text-align: right; }"),n.document.write("</style></head><body>"),n.document.write(document.getElementById(e).innerHTML),n.document.write("</body></html>"),n.document.close(),n.focus(),n.print(),n.close(),this.printMode=!1,!0}}getTopSales(){this.payArray=[],this.loading=!0,this.api.getTopJournale(this.store_info.id,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.payArray=e.data,this.getTopJto()),this.loading=!1,this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{this.loading=!1})}getTopPurchase(){this.purchase=[],this.api.getTopPerch(this.store_info.id,this.year.id).subscribe(e=>{this.purchase=e.data,this.getTopSales()},e=>{this.loading=!1})}getTopSalesRec(){this.sales=[],this.api.getTopSales(this.store_info.id,this.year.id).subscribe(e=>{this.sales=e.data,this.prepareArray()},e=>{this.loading=!1})}prepareArray(){this.payArray.forEach(e=>{let o=e.standard_details,r=o.indexOf("\u0627\u0644\u064a"),n=o.substring(0,r),_=o.substring(r,e.standard_details.length),u=n.indexOf(",");if(-1==u)e.from1=n;else{e.from1=n.substring(0,u);let g=e.from1.substring(u,e.from1.length),c=g.indexOf(",");-1==c?e.from2=n.substring(e.from1.length,n.length):(e.from2=g.substring(0,c),-1==g.indexOf(",")||(e.from3=e.newstr.substring(e.from2.length,g.length)))}let Z=_.indexOf(",");if(-1==Z)e.to1=_;else{e.to1=_.substring(0,Z);let g=e.to1.substring(Z,e.to1.length),c=g.indexOf(",");-1==c?e.to2=_.substring(e.to1.length,_.length):(e.to2=g.substring(0,c),-1==g.indexOf(",")||(e.from3=e.newstr.substring(e.from2.length,g.length)))}}),this.payArray.forEach(e=>{let o=[];if(o=this.jdetailsFrom.filter(n=>n.j_ref==e.j_ref),o=o.sort((n,_)=>n.id<_.id?-1:1),o.length>0)for(let n=0;n<o.length;n++){const _=o[n];0==n?e.debit=_.debit:1==n?e.debit2=_.debit:2==n&&(e.debit3=_.debit)}let r=[];if(r=this.jdetailsTo.filter(n=>n.j_ref==e.j_ref),r=r.sort((n,_)=>n.id<_.id?-1:1),r.length>0)for(let n=0;n<r.length;n++){const _=r[n];0==n?e.credit=_.credit:1==n?e.credit2=_.credit:2==n&&(e.credit3=_.credit)}})}getSalesByDate(){this.payArray=[],this.api.getJournaleByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.payArray=e.data),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{})}getPurchByDate(){this.purchase=[],this.api.getPerchByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.purchase=e.data)},e=>{},()=>{})}getSalesrecByDate(){this.sales=[],this.api.getSalesByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.sales=e.data)},e=>{},()=>{})}getSales2Date(){this.payArray=[],this.loading=!0,this.api.getJournale2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.payArray=e.data),this.showEmpty=0==this.payArray.length,this.loading=!1},e=>{this.loading=!1})}getTopJto(){this.jdetailsTo=[],this.loading=!0,this.api.getTopJTo(this.store_info.id,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsTo=e.data),this.getTopJfrom()},e=>{this.loading=!1})}getTopJfrom(){this.jdetailsFrom=[],this.api.getTopJfrom(this.store_info.id,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsFrom=e.data),this.prepareArray()},e=>{this.loading=!1})}getJFromByDate(){this.jdetailsFrom=[],this.loading=!0,this.api.getJFromByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsFrom=e.data),this.getJToByDate()},e=>{this.loading=!1})}getJToByDate(){this.jdetailsTo=[],this.api.getJToByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsTo=e.data),this.prepareArray()},e=>{this.loading=!1},()=>{})}getJTo2Date(){this.jdetailsTo=[],this.api.getJTo2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsTo=e.data),this.getJFrom2Date()},e=>{this.loading=!1})}getJFrom2Date(){this.jdetailsFrom=[],this.loading=!0,this.api.getJFrom2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsFrom=e.data),this.prepareArray()},e=>{this.loading=!1},()=>{})}getPurchase2Date(){this.purchase=[],this.api.getPerch2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.purchase=e.data)},e=>{},()=>{})}getSalesrec2Date(){this.sales=[],this.api.getSales2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.sales=e.data)},e=>{},()=>{})}radioChange(e){this.payArray=[],this.showEmpty=!1,this.loading=!1}search(){0==this.radioVal?this.getTopSales():1==this.radioVal?this.getSalesByDate():2==this.radioVal&&this.getSales2Date()}getPayInvoDetail(e){this.api.getPayInvoDetail(this.store_info.id,e,this.year.id).subscribe(o=>{let r=o,n={queryParams:{payArray:JSON.stringify(this.payArray),user_info:JSON.stringify(this.user_info),store_info:JSON.stringify(this.store_info),itemList:JSON.stringify(r.data)}};this.rout.navigate(["folder/edit-sales"],n)},o=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentToast(e,o){return(0,h.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:o,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}presentLoadingWithOptions(e){return(0,h.mG)(this,void 0,void 0,function*(){const o=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:3e3,message:e,translucent:!0,backdropDismiss:!1});yield o.present(),yield o.onDidDismiss()})}presentAlertConfirm(e){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f!",mode:"ios",message:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644 \u061f ",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:r=>{}},{text:"\u0645\u0648\u0627\u0641\u0642",id:"confirm-button",handler:()=>{this.deleteSalesInvo(e)}}]})).present()})}delete(e){this.presentAlertConfirm(e)}deleteSalesInvo(e){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.deleteJournal(e).subscribe(o=>{"Post Not Deleted"!=o.message?this.deleteJfrom(e):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},o=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}deleteJfrom(e){this.api.deleteJFrom(e).subscribe(o=>{"Post Not Deleted"!=o.message?this.deleteJto(e):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},o=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}deleteJto(e){this.api.deleteJto(e).subscribe(o=>{"Post Not Deleted"!=o.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d","success"),this.search()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},o=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.t4),t.Y36(a.Br),t.Y36(T.F0),t.Y36(m.K),t.Y36(a.IN),t.Y36(a.HT),t.Y36(l.uU),t.Y36(q.r),t.Y36(a.yF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-spends-recod"]],decls:8,vars:2,consts:[["slot","start"],[4,"ngIf"],["class","ion-margin-top",4,"ngIf"],["dir","rtl"],["size","12"],[1,"ion-no-padding","ion-no-margin"],[3,"ngModel","ngModelChange","ionChange"],["lines","none"],[1,"ion-margin-end",3,"value"],["size","4"],["class","custInput",4,"ngIf"],["size","4",4,"ngIf"],["size","4",1,"ion-text-end"],["slot","end"],["fill","outline","color","success",3,"click"],["name","search-outline","color","success"],["color","dark"],[1,"custInput"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],["type","date","id","endDate","name","endDate",2,"width","100%",3,"ngModel","ngModelChange"],[1,"ion-margin-top"],["size","12",1,"ion-no-padding"],[1,"table"],[4,"ngFor","ngForOf"],["class","ion-justify-content-center ion-margin-top",4,"ngIf"],[2,"max-width","180px"],[1,"tabl2"],[1,"mgR"],["class","mgR",4,"ngIf"],[1,""],[1,"h15"],["class","h15 ",4,"ngIf"],["fill","clear","size","small",3,"click"],["name","trash","color","danger"],["color","light"],["animated","",2,"width","100%"],[1,"ion-justify-content-center","ion-margin-top"],["size","4",1,"ion-text-center"],["name","archive-outline",2,"font-size","30px"],["size","6"],["size","6",4,"ngIf"],["size","8",1,"ion-text-end"],["toggleIcon","caret-down-circle","toggleIconSlot","end",3,"value",4,"ngFor","ngForOf"],["toggleIcon","caret-down-circle","toggleIconSlot","end",3,"value"],["slot","header","color","light"],["name","newspaper-outline","color","primary","slot","start"],["slot","content",1,"ion-padding"],["name","arrow-up-outline","color","danger"],[1,"ion-justify-content-center"],["name"," trash ","color","danger"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," \u0633\u062c\u0644 \u0627\u0644\u0642\u064a\u0648\u062f \u0627\u0644\u0645\u062d\u0627\u0633\u0628\u064a\u0629"),t.qZA(),t.qZA(),t.qZA(),t.YNc(6,W,3,2,"ion-content",1),t.YNc(7,st,3,2,"ion-content",1)),2&e&&(t.xp6(6),t.Q6J("ngIf","desktop"==o.device),t.xp6(1),t.Q6J("ngIf","mobile"==o.device))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.wd,l.O5,a.W2,a.jY,a.Nd,a.wI,a.PM,a.se,a.QI,p.JJ,p.On,a.Ie,a.B7,a.U5,a.Q$,a.YG,a.gu,a.yW,p.Fj,l.sg,a.CK,a.q_,a.eh,a.We,a.uN,a.rH],pipes:[l.uU],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden}.cust-card[_ngcontent-%COMP%]{border-radius:5px}.mgR[_ngcontent-%COMP%]{margin-right:60px}.h15[_ngcontent-%COMP%]{height:15px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.table[_ngcontent-%COMP%]{text-align:center;width:100%;margin:12px}.tabl2[_ngcontent-%COMP%]{text-align:right;width:100%;margin:12px}.tr2[_ngcontent-%COMP%]{background-color:none}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px;font-size:16px;font-weight:700;color:#000}"]}),i})()}];let at=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[T.Bz.forChild(rt)],T.Bz]}),i})(),_t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,p.u5,a.Pc,at]]}),i})()}}]);
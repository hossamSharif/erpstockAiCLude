"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[605],{70605:(B,h,l)=>{l.r(h),l.d(h,{StatementPageModule:()=>Y});var g=l(69808),d=l(34182),r=l(23349),_=l(94030),c=l(70655),p=l(4441),t=l(29863),A=l(90849),T=l(91472);function m(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"input",22),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).selectedAccount.sub_name=o})("change",function(o){return t.CHM(e),t.oxw(2).pickAccount(o)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.selectedAccount.sub_name)}}function f(n,a){1&n&&t._UZ(0,"option",25),2&n&&t.Q6J("value",a.$implicit.sub_name)}function x(n,a){if(1&n&&(t.TgZ(0,"datalist",23),t.YNc(1,f,1,1,"option",24),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.sub_account)}}function b(n,a){1&n&&(t.TgZ(0,"ion-label"),t.TgZ(1,"ion-text",26),t._uU(2,"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644 "),t.qZA(),t.qZA())}function q(n,a){1&n&&(t.TgZ(0,"ion-button",27),t._UZ(1,"ion-icon",28),t.qZA())}function y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",10),t.TgZ(1,"input",29),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).startingDate=o}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.startingDate)}}function U(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-col",14),t.TgZ(1,"ion-item",10),t.TgZ(2,"input",30),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).endDate=o}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.endDate)}}function J(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",3),t.TgZ(2,"ion-col",4),t.TgZ(3,"ion-card",5),t.TgZ(4,"ion-grid",5),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",4),t.TgZ(7,"ion-grid",5),t.TgZ(8,"ion-row",3),t.TgZ(9,"ion-radio-group",6),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().radioVal=o})("ionChange",function(o){return t.CHM(e),t.oxw().radioChange(o)}),t.TgZ(10,"ion-grid",5),t.TgZ(11,"ion-row"),t.TgZ(12,"ion-col",5),t.TgZ(13,"ion-item",7),t._UZ(14,"ion-radio",8),t.TgZ(15,"ion-label"),t._uU(16," \u062d\u062f\u064a\u062b\u0629"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"ion-col",5),t.TgZ(18,"ion-item",7),t._UZ(19,"ion-radio",8),t.TgZ(20,"ion-label"),t._uU(21,"\u0628\u062d\u062b \u0641\u064a \u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"ion-col",5),t.TgZ(23,"ion-item",7),t._UZ(24,"ion-radio",8),t.TgZ(25,"ion-label"),t._uU(26,"\u0628\u062d\u062b \u0641\u064a \u0641\u062a\u0631\u0629"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"ion-row",3),t.TgZ(28,"ion-col",9),t.TgZ(29,"ion-item",10),t.YNc(30,m,1,1,"input",11),t.YNc(31,x,2,1,"datalist",12),t.YNc(32,b,3,0,"ion-label",1),t.YNc(33,q,2,0,"ion-button",13),t.qZA(),t.qZA(),t.TgZ(34,"ion-col",14),t.YNc(35,y,2,1,"ion-item",15),t.qZA(),t.YNc(36,U,3,1,"ion-col",16),t.TgZ(37,"ion-col",17),t.TgZ(38,"ion-item",7),t.TgZ(39,"ion-buttons",18),t.TgZ(40,"ion-button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().search()}),t._UZ(41,"ion-icon",20),t.TgZ(42,"ion-label"),t.TgZ(43,"ion-text",21),t._uU(44,"\u0628\u062d\u0640\u0640\u062b"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("ngModel",e.radioVal),t.xp6(5),t.Q6J("value",0),t.xp6(5),t.Q6J("value",1),t.xp6(5),t.Q6J("value",2),t.xp6(6),t.Q6J("ngIf",e.sub_account),t.xp6(1),t.Q6J("ngIf",e.sub_account),t.xp6(1),t.Q6J("ngIf",!e.sub_account),t.xp6(1),t.Q6J("ngIf",!e.sub_account),t.xp6(2),t.Q6J("ngIf",0!=e.radioVal),t.xp6(1),t.Q6J("ngIf",2==e.radioVal)}}function C(n,a){if(1&n&&(t.TgZ(0,"ion-label",21),t._uU(1," \u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a : "),t.TgZ(2,"ion-text"),t._uU(3,"\u0645\u062f\u064a\u0646 \u0628\u0640 "),t.qZA(),t.TgZ(4,"ion-text"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(e.selectedAccount.debit)}}function F(n,a){if(1&n&&(t.TgZ(0,"ion-label",21),t._uU(1," \u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u062d\u0627\u0644\u064a : "),t.TgZ(2,"ion-text"),t._uU(3,"\u0645\u062f\u064a\u0646 \u0628\u0640 "),t.qZA(),t.TgZ(4,"ion-text"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(e.selectedAccount.credit)}}function P(n,a){if(1&n&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row",3),t.TgZ(2,"ion-col",4),t.TgZ(3,"ion-card",5),t.TgZ(4,"ion-grid"),t.TgZ(5,"ion-row"),t.TgZ(6,"ion-col",31),t.TgZ(7,"h5"),t.TgZ(8,"ion-label",21),t._uU(9,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0625\u0641\u062a\u062a\u0627\u062d\u064a :"),t.qZA(),t.TgZ(10,"ion-text"),t.TgZ(11,"b"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"ion-col",31),t.TgZ(14,"h5"),t.YNc(15,C,7,1,"ion-label",32),t.YNc(16,F,7,1,"ion-label",32),t.qZA(),t.qZA(),t.TgZ(17,"ion-col",31),t.TgZ(18,"h5"),t.TgZ(19,"ion-label",21),t._uU(20,"\u0637\u0628\u064a\u0639\u0629 \u0627\u0644\u062d\u0633\u0627\u0628 :"),t.qZA(),t.TgZ(21,"ion-text"),t.TgZ(22,"b"),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(12),t.Oqu(e.selectedAccount.sub_balance),t.xp6(3),t.Q6J("ngIf",e.selectedAccount.debit>0),t.xp6(1),t.Q6J("ngIf",e.selectedAccount.credit>0),t.xp6(7),t.Oqu(e.selectedAccount.sub_type)}}function M(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"ion-button",38),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).delete(s.j_ref)}),t._UZ(15,"ion-icon",39),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit,i=a.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.hij(" ",e.j_date,""),t.xp6(2),t.Oqu(e.j_type),t.xp6(2),t.Oqu(e.desc),t.xp6(2),t.Oqu(e.debit),t.xp6(2),t.Oqu(e.credit)}}function D(n,a){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",40),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",40),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",40),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",40),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",40),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",40),t.qZA(),t.qZA())}function S(n,a){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",40),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",40),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",40),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",40),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",40),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",40),t.qZA(),t.qZA())}function v(n,a){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"ion-skeleton-text",40),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ion-skeleton-text",40),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ion-skeleton-text",40),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ion-skeleton-text",40),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ion-skeleton-text",40),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ion-skeleton-text",40),t.qZA(),t.qZA())}function I(n,a){1&n&&(t.TgZ(0,"ion-row",41),t.TgZ(1,"ion-col",31),t.TgZ(2,"ion-label"),t._UZ(3,"ion-icon",42),t.qZA(),t.TgZ(4,"h4"),t._uU(5," \u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644\u0627\u062a "),t.qZA(),t.qZA(),t.qZA())}function j(n,a){if(1&n&&(t.TgZ(0,"ion-grid",33),t.TgZ(1,"ion-row",3),t.TgZ(2,"ion-col",34),t.TgZ(3,"ion-grid"),t.TgZ(4,"ion-row"),t.TgZ(5,"ion-col",4),t.TgZ(6,"ion-card"),t.TgZ(7,"table",35),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10,"\u0627\u0644\u062a\u0633\u0644\u0633\u0644"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"\u0646\u0648\u0639 \u0627\u0644\u0642\u064a\u062f"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"\u0627\u0644\u0628\u064a\u0627\u0646"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"\u0645\u062f\u064a\u0646 (\u0639\u0644\u064a\u0647)"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"\u062f\u0627\u0626\u0646 (\u0644\u0647)"),t.qZA(),t.TgZ(21,"th"),t.TgZ(22,"strong"),t._uU(23,"\u062d\u0630\u0641"),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,M,16,6,"tr",36),t.YNc(25,D,13,0,"tr",1),t.YNc(26,S,13,0,"tr",1),t.YNc(27,v,13,0,"tr",1),t.qZA(),t.YNc(28,I,6,0,"ion-row",37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(24),t.Q6J("ngForOf",e.payArray),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.loading),t.xp6(1),t.Q6J("ngIf",1==e.showEmpty)}}function N(n,a){if(1&n&&(t.TgZ(0,"ion-footer"),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row",43),t.TgZ(3,"ion-col",44),t.TgZ(4,"ion-label"),t.TgZ(5,"ion-text"),t._uU(6,"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062c\u0627\u0646\u0628 \u0627\u0644\u0645\u062f\u064a\u0646 : "),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"strong"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-col",44),t.TgZ(11,"ion-label"),t.TgZ(12,"ion-text"),t._uU(13,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062c\u0627\u0646\u0628 \u0627\u0644\u062f\u0627\u0626\u0646 : "),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"strong"),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(9),t.Oqu(e.sums.debitTot.toFixed(2)),t.xp6(7),t.Oqu(e.sums.creditTot.toFixed(2))}}const w=[{path:"",component:(()=>{class n{constructor(e,i,o,s,u,Q,k,E){this.alertController=e,this.rout=i,this.storage=o,this.modalController=s,this.loadingController=u,this.datePipe=Q,this.api=k,this.toast=E,this.sub_account=[],this.payArray=[],this.purchase=[],this.jdetailsFrom=[],this.jdetailsTo=[],this.sales=[],this.printArr=[],this.showEmpty=!1,this.printMode=!1,this.itemList=[],this.radioVal=0,this.loading=!1,this.selectedAccount={id:"",ac_id:"",sub_name:"",sub_type:"",sub_code:"",sub_balance:"",store_id:"",debit:"",credit:""},this.sums={debitTot:0,creditTot:0},this.getAppInfo();let Z=new Date;this.startingDate=this.datePipe.transform(Z,"yyyy-MM-dd"),this.endDate=this.datePipe.transform(Z,"yyyy-MM-dd")}getAppInfo(){this.storage.get("USER_INFO").then(e=>{e&&(this.user_info=e)}),this.storage.get("year").then(e=>{e&&(this.year=e)}),this.storage.get("STORE_INFO").then(e=>{e&&(this.store_info=e,this.getAllAccount())})}ionViewDidEnter(){this.getAppInfo()}ngOnInit(){}pickAccount(e){let i=this.sub_account.filter(o=>o.sub_name==e.target.value);i.length>0?(this.selectedAccount={id:i[0].id,ac_id:i[0].ac_id,sub_name:i[0].sub_name,sub_type:i[0].sub_type,sub_code:i[0].sub_code,store_id:i[0].store_id,sub_balance:i[0].sub_balance,debit:i[0].debit,credit:i[0].credit},this.payArray=[]):this.presentToast(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u0645 \u0627\u0644\u062d\u0633\u0627\u0628 ","danger")}getAllAccount(){this.api.getAllAccounts(this.store_info.id,this.year.id).subscribe(e=>{this.sub_account=e.data,this.prepareCurrentBalnces()},e=>{})}prepareCurrentBalnces(){for(let e=0;e<this.sub_account.length;e++){const i=this.sub_account[e];let o=+i.fromDebitTot+ +i.toDebitTot,s=+i.fromCreditTot+ +i.toCreditTot;if("debit"==i.sub_type){let u=+i.sub_balance+ +o-+s;u>0?(i.debit=u,i.credit=0):u<0?(u*=-1,i.debit=0,i.credit=u):0==u&&(i.debit=u,i.credit=0)}else if("credit"==i.sub_type){let u=+i.sub_balance+ +s-+o;u>0?(i.debit=0,i.credit=u):u<0?(u*=-1,i.debit=u,i.credit=0):0==u&&(i.debit=0,i.credit=u)}}}printInvo(e,i){this.paInvo=i,this.api.getPayInvoDetail(this.store_info.id,i.pay_ref,this.year.id).subscribe(o=>{this.itemList=o.data,this.printArr=[],this.printArr.push({payInvo:this.paInvo,itemList:this.itemList,selectedAccount:this.paInvo.sub_name,sub_nameNew:""}),this.presentModal(this.printArr,"sales_record")},o=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{})}presentModal(e,i){return(0,c.mG)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:p.n,componentProps:{printArr:this.printArr,page:i}});return o.onDidDismiss().then(s=>{}),yield o.present()})}preparedPrin(e,i,o){e&&i&&o&&(this.printMode=!0,this.Print(e,this.paInvo,this.itemList))}Print(e,i,o){if(e&&i&&o){var s=window.open("","PRINT","height=400,width=600");return s.document.write("<html><head>"),s.document.write('<style type="text/css">'),s.document.write(".flr{ display: block; float: right; } .show{ } .hide{width:0px;height:0px} .w45 {width:45%} .w50 {width:50%} .w100 {width:100%} td, th {border: 1px solid #dddddd;text-align: center;padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} .table{text-align: center;width: 100%; margin: 12px;}.ion-margin{ margin: 10px; } .ion-margin-top{ margin-top: 10px; } .rtl {  direction: rtl; } .ion-text-center{ text-align: center; } .ion-text-end{ text-align: left; } .ion-text-start{ text-align: right; }"),s.document.write("</style></head><body>"),s.document.write(document.getElementById(e).innerHTML),s.document.write("</body></html>"),s.document.close(),s.focus(),s.print(),s.close(),this.printMode=!1,!0}}getTopJto(){this.jdetailsTo=[],this.loading=!0,this.api.getTopJTo(this.store_info.id,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsTo=e.data,this.jdetailsTo=this.jdetailsTo.filter(o=>o.ac_id==this.selectedAccount.id)),this.getTopJfrom()},e=>{this.loading=!1})}getTopJfrom(){this.jdetailsFrom=[],this.api.getTopJfrom(this.store_info.id,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsFrom=e.data,this.jdetailsFrom=this.jdetailsFrom.filter(o=>o.ac_id==this.selectedAccount.id)),this.prepareArray()},e=>{this.loading=!1})}getJFromByDate(){this.jdetailsFrom=[],this.loading=!0,this.api.getJFromByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsFrom=e.data,this.jdetailsFrom=this.jdetailsFrom.filter(o=>o.ac_id==this.selectedAccount.id)),this.getJToByDate()},e=>{this.loading=!1})}getJToByDate(){this.jdetailsTo=[],this.api.getJToByDate(this.store_info.id,this.startingDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsTo=e.data,this.jdetailsTo=this.jdetailsTo.filter(o=>o.ac_id==this.selectedAccount.id)),this.prepareArray()},e=>{this.loading=!1},()=>{})}getJTo2Date(){this.jdetailsTo=[],this.api.getJTo2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsTo=e.data,this.jdetailsTo=this.jdetailsTo.filter(o=>o.ac_id==this.selectedAccount.id)),this.getJFrom2Date()},e=>{this.loading=!1})}getJFrom2Date(){this.jdetailsFrom=[],this.loading=!0,this.api.getJFrom2Date(this.store_info.id,this.startingDate,this.endDate,this.year.id).subscribe(e=>{"No record Found"!=e.message&&(this.jdetailsFrom=e.data,this.jdetailsFrom=this.jdetailsFrom.filter(o=>o.ac_id==this.selectedAccount.id)),this.prepareArray()},e=>{this.loading=!1},()=>{})}prepareArray(){if(this.jdetailsFrom.length>0)for(let e=0;e<this.jdetailsFrom.length;e++)this.payArray.push(this.jdetailsFrom[e]);if(this.jdetailsTo.length>0)for(let e=0;e<this.jdetailsTo.length;e++)this.payArray.push(this.jdetailsTo[e]);this.payArray=this.payArray.sort((e,i)=>e.j_date>i.j_date?-1:1),this.getTotal(),this.showEmpty=0==this.payArray.length,this.loading=!1}getTotal(){this.sums.debitTot=this.payArray.reduce((e,i)=>e+ +i.debit,0),this.sums.creditTot=this.payArray.reduce((e,i)=>e+ +i.credit,0)}radioChange(e){this.payArray=[],this.jdetailsTo=[],this.jdetailsFrom=[],this.showEmpty=!1,this.loading=!1}search(){this.payArray=[],this.jdetailsTo=[],this.jdetailsFrom=[],0==this.radioVal?this.getTopJto():1==this.radioVal?this.getJFromByDate():2==this.radioVal&&this.getJTo2Date()}getPayInvoDetail(e){this.api.getPayInvoDetail(this.store_info.id,e,this.year.id).subscribe(i=>{let o=i,s={queryParams:{payArray:JSON.stringify(this.payArray),user_info:JSON.stringify(this.user_info),store_info:JSON.stringify(this.store_info),itemList:JSON.stringify(o.data)}};this.rout.navigate(["folder/edit-sales"],s)},i=>{this.presentToast("\u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}presentToast(e,i){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:i,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}presentLoadingWithOptions(e){return(0,c.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:3e3,message:e,translucent:!0,backdropDismiss:!1});yield i.present(),yield i.onDidDismiss()})}presentAlertConfirm(e){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\u062a\u0623\u0643\u064a\u062f!",mode:"ios",message:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0633\u062c\u0644 \u061f ",buttons:[{text:"\u0625\u0644\u063a\u0627\u0621",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:o=>{}},{text:"\u0645\u0648\u0627\u0641\u0642",id:"confirm-button",handler:()=>{this.deleteSalesInvo(e)}}]})).present()})}delete(e){this.presentAlertConfirm(e)}deleteSalesInvo(e){this.presentLoadingWithOptions("\u062c\u0627\u0631\u064a \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ..."),this.api.deleteJournal(e).subscribe(i=>{"Post Not Deleted"!=i.message?this.deleteJfrom(e):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},i=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")})}deleteJfrom(e){this.api.deleteJFrom(e).subscribe(i=>{"Post Not Deleted"!=i.message?this.deleteJto(e):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},i=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}deleteJto(e){this.api.deleteJto(e).subscribe(i=>{"Post Not Deleted"!=i.message?(this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d","success"),this.search()):this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},i=>{this.presentToast("\u0644\u0645 \u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a , \u062e\u0637\u0627 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a","danger")},()=>{this.loadingController.dismiss()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.Br),t.Y36(_.F0),t.Y36(A.K),t.Y36(r.IN),t.Y36(r.HT),t.Y36(g.uU),t.Y36(T.r),t.Y36(r.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-statement"]],decls:11,vars:4,consts:[["slot","start"],[4,"ngIf"],["class","ion-margin-top",4,"ngIf"],["dir","rtl"],["size","12"],[1,"ion-no-padding","ion-no-margin"],[3,"ngModel","ngModelChange","ionChange"],["lines","none"],[1,"ion-margin-end",3,"value"],["size","4"],[1,"custInput"],["class","bnone","placeholder","\u0627\u062e\u062a\u0631  \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","list","accountsSales3","id","accountSales3",3,"ngModel","ngModelChange","change",4,"ngIf"],["style","border: none;","id","accountsSales3","style","height: auto;max-height: 20px;",4,"ngIf"],["fill","clear","size","small","slot","end",4,"ngIf"],["size","3"],["class","custInput",4,"ngIf"],["size","3",4,"ngIf"],["size","2",1,"ion-text-end"],["slot","end"],["fill","outline","color","success",3,"click"],["name","search-outline","color","success"],["color","dark"],["placeholder","\u0627\u062e\u062a\u0631  \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644","list","accountsSales3","id","accountSales3",1,"bnone",3,"ngModel","ngModelChange","change"],["id","accountsSales3",2,"height","auto","max-height","20px"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","danger"],["fill","clear","size","small","slot","end"],["name","refresh","color","success"],["type","date","id","startingDate","name","startingDate",2,"width","100%",3,"ngModel","ngModelChange"],["type","date","id","endDate","name","endDate",2,"width","100%",3,"ngModel","ngModelChange"],["size","4",1,"ion-text-center"],["color","dark",4,"ngIf"],[1,"ion-margin-top"],["size","12",1,"ion-no-padding"],[1,"table"],[4,"ngFor","ngForOf"],["class","ion-justify-content-center ion-margin-top",4,"ngIf"],["fill","clear","size","small",3,"click"],["name","trash","color","danger"],["animated","",2,"width","100%"],[1,"ion-justify-content-center","ion-margin-top"],["name","archive-outline",2,"font-size","30px"],[1,"ion-justify-content-end"],["size","3",1,"ion-text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"\u0643\u0634\u0641 \u062d\u0633\u0627\u0628 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content"),t.YNc(7,J,45,10,"ion-grid",1),t.YNc(8,P,24,4,"ion-grid",1),t.YNc(9,j,29,5,"ion-grid",2),t.qZA(),t.YNc(10,N,17,2,"ion-footer",1)),2&e&&(t.xp6(7),t.Q6J("ngIf",i.user_info&&i.store_info),t.xp6(1),t.Q6J("ngIf",i.payArray),t.xp6(1),t.Q6J("ngIf",i.user_info&&i.store_info),t.xp6(1),t.Q6J("ngIf",i.payArray))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.wd,r.W2,g.O5,r.jY,r.Nd,r.wI,r.PM,r.se,r.QI,d.JJ,d.On,r.Ie,r.B7,r.U5,r.Q$,r.YG,r.gu,r.yW,d.Fj,g.sg,d.YN,d.Kr,r.CK,r.fr],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden}.cust-card[_ngcontent-%COMP%]{border-radius:5px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.table[_ngcontent-%COMP%]{text-align:center;width:100%;margin:12px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:center;padding:8px;font-size:16px;font-weight:700;color:#000}"]}),n})()}];let O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.Bz.forChild(w)],_.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,d.u5,r.Pc,O]]}),n})()}}]);
{"version":3,"file":"src_app_purchase-mob_purchase-mob_module_ts.js","mappings":"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","sources":["./src/app/purchase-mob/purchase-mob-routing.module.ts","./src/app/purchase-mob/purchase-mob.module.ts","./src/app/purchase-mob/purchase-mob.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PurchaseMobPage } from './purchase-mob.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PurchaseMobPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PurchaseMobPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PurchaseMobPageRoutingModule } from './purchase-mob-routing.module';\n\nimport { PurchaseMobPage } from './purchase-mob.page';\nimport { ShareModule } from '../shareModule/share-module/share-module.module';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ShareModule,\n    IonicModule,\n    PurchaseMobPageRoutingModule\n  ],\n  declarations: [PurchaseMobPage]\n})\nexport class PurchaseMobPageModule {}\n","\nimport { Component, OnInit, ViewChild, ElementRef ,Renderer2,Input} from '@angular/core';\nimport { ServicesService } from \"../stockService/services.service\";\nimport { Observable, Subscription } from 'rxjs';\nimport { AlertController, IonInput, LoadingController, ModalController, ToastController } from '@ionic/angular';\nimport { DatePipe } from '@angular/common';\nimport { Storage } from '@ionic/storage';\nimport { AuthServiceService } from '../auth/auth-service.service';\nimport { PrintModalPage } from '../print-modal/print-modal.page';\nimport { ItemModalPage } from '../item-modal/item-modal.page';\nimport { FilterPipe } from '../sales/pipe';\nimport { FilterPipe2 } from '../sales/pipe2';\nimport { FilterPipe3 } from '../sales/pipe3';\nimport { ActivatedRoute } from '@angular/router';\nimport { StockServiceService } from '../syncService/stock-service.service';\nimport * as momentObj from 'moment';\n@Component({\n  selector: 'app-purchase-mob',\n  templateUrl: './purchase-mob.page.html',\n  styleUrls: ['./purchase-mob.page.scss'],\n})\nexport class PurchaseMobPage implements OnInit {\n  @ViewChild(\"dstP\") nameField: ElementRef;\n  @ViewChild('qtyIdP') qtyIdP; \n  @ViewChild('dstPop2') dstPop2; \n  @ViewChild('popInput2') popInput2; \n  @ViewChild('popover2') popover2;\n  @ViewChild('popoverNotif3') popoverNotif3;\n  isOpenNotif = false ;\n  newNotif = false ; \nsub_account:Array<any> =[]\nsub_accountLocalPurch:Array<any> =[]\nitems:Array<any> =[]\nisOpen = false; \nnotifArr:Array<any> =[]\nLogHistoryLocalArr:Array<any> =[]\nlogHistoryArr:Array<any>=[]; \n  subiscribtionNotif:Subscription\n  showNotif = false\nsub_accountPurch:Array<any> =[]\nloadingItems :boolean = false\ncolor :any ='dark'\nitemsLocal:Array<any> =[]\nitemList:Array<any> =[]\npurchLocal:Array<any> =[] \npurchase:Array<any> =[]\nrandomsNumber:Array<any> =[]\nstore_info : {id:any , location :any ,store_name:any , store_ref:any }\nuser_info : {id:any ,user_name:any ,store_id :any,full_name:any,password:any}\nsub_nameNew :any = \"\"\nselectedItem : {id:any ,pay_ref:any,item_name:any,pay_price:any,perch_price:any,item_unit:any,item_desc:any,parcode:any,qty:any,tot:any ,dateCreated:any,aliasEn:any};\nselectedAccount : {id:any ,ac_id:any,sub_name:any,sub_type:any,sub_code:any,sub_balance:any,store_id:any,cat_id:any,cat_name:any,phone:any,address:any};\npayInvo : {pay_id:any ,pay_ref:any ,store_id:any,tot_pr:any,pay:any,pay_date:any,pay_time:any,user_id:any,cust_id:any,pay_method:any,discount:any ,changee:any,sub_name:any,payComment:any,nextPay:any, yearId:any};\ndiscountPerc :any = 0\nradioVal : any = 0\nprintMode :boolean = false\noffline: boolean = false;\nprintArr:Array<any> =[]\nfirstq : {id:any ,item_id:any , store_id:any , quantity :any ,\tfq_year:any ,\tpay_price:any ,\tperch_price:any ,item_name:any }\nshowMe :any =null\ngetItemLoader:boolean = false\nsearchLang :any = 0\nsearchTerm : any = \"\"\naliasTerm :any =\"\"\nsearchResult :Array<any> =[]\naliasResult :Array<any> =[]\nstatus:any = 'new'\nyear : {id:any ,yearDesc:any ,yearStart :any,yearEnd:any}\nsegmentVal = 'first'\n// اي طريقة دفع ح يكون في حساب مقابل ليها مثلا الكاش ح يتورد في حساب الخزينة وبنكك في حساب بنك الخرطوم اما الشيك فحيكون بالاجل و ح ينزل في  سجل الشيكات ويتحول الي حساب المعين سواء كان اتورد في حساب بنكي او اتسحب كاش واتورد فيحساب الخزينة \nconstructor( private behavApi:StockServiceService ,private route: ActivatedRoute,private renderer : Renderer2,private modalController: ModalController,private alertController: AlertController, private authenticationService: AuthServiceService,private storage: Storage,private loadingController:LoadingController, private datePipe:DatePipe,private api:ServicesService,private toast :ToastController) {\n \n  this.selectedAccount = {id:\"\" ,ac_id:\"\",sub_name:\"\",sub_type:\"\",sub_code:\"\",sub_balance:\"\",store_id:\"\",cat_name:\"\",cat_id:\"\",phone:\"\",address:\"\"};\n\n  this.selectedItem = {\n    id:undefined,\n    dateCreated:\"\",\n    pay_ref:\"\",\n    item_desc:\"\",\n    item_name:\"\",\n    item_unit:\"\",\n    parcode:0,\n    pay_price:0,\n    perch_price:0,\n    qty:0,\n    tot:0,\n    aliasEn:\"\"\n  }\n  this.route.queryParams.subscribe(params => {\n    //console.log(params.payInvo,'jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj')\n    if (params && params.payInvo) {\n      this.status = 'initial'\n      this.payInvo = JSON.parse(params.payInvo);  \n      this.user_info = JSON.parse(params.user_info);\n      this.store_info = JSON.parse(params.store_info);\n      this.itemList = JSON.parse(params.itemList);\n      //console.log('lksjda',this.payInvo, this.store_info,  this.user_info ,this.itemList ,this.selectedAccount.sub_name)\n     // this.selectedAccount.sub_name = this.payInvo.sub_name;  \n      this.prepareOffline()\n      this.getAppInfoCase2()\n    }\n  });\n\n\n     this.printArr.push({\n    'payInvo': \"\",\n    'itemList':\"\",\n     'selectedAccount' :\"\",\n      'sub_nameNew' : \"\"\n  }) \n  }\n  refresh(para){\n    if (para=='account') {\n      this.getSalesAccount()\n    } else {\n     // this.getItems()\n      this.getStockItems()\n    }\n    \n  }\n\n  \n  segmentChange(ev){\n    //console.log(ev)\n    //console.log(this.segmentVal)\n    \n  }\nasync presentAlertConfirm() {\n  const alert = await this.alertController.create({\n    cssClass: 'my-custom-class',\n    header: 'تأكيد!',\n    mode:'ios' ,\n    message: 'هل تريد طباعة فاتورة ؟ ',\n    buttons: [\n      {\n        text: 'إلغاء',\n        role: 'cancel',\n        cssClass: 'secondary',\n        id: 'cancel-button',\n        handler: (blah) => {\n          //console.log('Confirm Cancel: blah'); \n          this.prepareInvo()\n        }\n      }, {\n        text: 'موافق',\n        id: 'confirm-button',\n        handler: () => {\n          this.presentModal(this.printArr , 'perch')\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\n\nasync priceChangeAlertConfirm() {\n  const alert = await this.alertController.create({\n    cssClass: 'my-custom-class',\n    header: 'تأكيد!',\n    mode:'ios' ,\n    message: 'هل تريد تعديل اسعار البيع والشراء',\n    buttons: [\n      {\n        text: 'إلغاء',\n        role: 'cancel',\n        cssClass: 'secondary',\n        id: 'cancel-button',\n        handler: (blah) => {\n          //console.log('Confirm Cancel: blah'); \n          this.addTolist() \n        }\n      }, {\n        text: 'موافق',\n        id: 'confirm-button',\n        handler: () => {\n           this.updateItemDetail()\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\n\n\nupdateItemDetail(){\n  this.presentLoadingWithOptions('جاري تعديل البيانات ...') \n  this.logHistoryArr.push(\n    {\n      \"id\":null,\n      \"logRef\":this.generateRandom2('update item'),\n      \"userId\":this.user_info.id,\n      \"typee\":'update item',\n      \"datee\": momentObj(new Date()).locale('en').format('YYYY-MM-DD HH:mm:ss'),\n      \"logStatus\":0,\n      \"logToken\":JSON.stringify(this.selectedItem)  ,\n      \"yearId\":this.year.id,\n      \"store_id\":this.store_info.id\n    }\n  )\n\n  this.api.updateItem(this.selectedItem).subscribe(data => {\n  //console.log(data)\n  if (data['message'] != 'Post Not Updated') {\n   this.presentToast('تم التعديل بنجاح' , 'success')\n   this.performSync2()\n  }else{\n  this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger') \n  }\n \n}, (err) => {\n  //console.log(err);\n  this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n},() => {\n this.loadingController.dismiss()\n}) \n}\n\n\n\nPrint(elem){ \n    this.printMode = true \n    var mywindow = window.open('', 'PRINT', 'height=400,width=600'); \n    mywindow.document.write('<html><head>'); \n    mywindow.document.write('<style type=\"text/css\">')\n    mywindow.document.write('.flr{ display: block; float: right; } .show{ } .hide{width:0px;height:0px} .w45 {width:45%} .w50 {width:50%} .w100 {width:100%} td, th {border: 1px solid #dddddd;text-align: center;padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} .table{text-align: center;width: 100%; margin: 12px;}.ion-margin{ margin: 10px; } .ion-margin-top{ margin-top: 10px; } .rtl {  direction: rtl; } .ion-text-center{ text-align: center; } .ion-text-end{ text-align: left; } .ion-text-start{ text-align: right; }')\n    mywindow.document.write('</style></head><body>');\n    mywindow.document.write(document.getElementById(elem).innerHTML);\n    mywindow.document.write('</body></html>');\n    mywindow.document.close(); // necessary for IE >= 10\n    mywindow.focus(); // necessary for IE >= 10*/ \n    mywindow.print();\n    mywindow.close();\n    this.printMode = false  \n    return true;  \n}\n\nngOnInit() { \n  this.prepareOffline()\n  if(this.status == 'new'){\n    this.getAppInfo()  \n   }else if(this.status == 'initial'){\n    this.getAppInfoCase2() \n   }  \n   this.getItemLocalOff()\n  // this.getStockItems()  \n}\n\n\n getItemLocalOff(){\n  this.storage.get('itemsLocal').then((response) => {\n    if (response) {\n      this.itemsLocal = response \n       //console.log(this.itemsLocal)  \n       this.items = this.itemsLocal\n       this.items.forEach(element => {\n        if(+element.tswiaQuantity > 0){\n          element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n\n        }else if(+element.tswiaQuantity < 0){\n          element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n        }\n\n        element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n      });\n      this.searchResult = this.items  \n    }\n  }); \n }\n\n\ngetOffliemode(){\n  this.storage.get('offline').then((response) => {\n      this.offline = response\n      //console.log('mooooode',this.offline)\n      if (this.offline == true) {\n        this.color= 'dark'\n      }else{\n        this.color = 'primary'\n      }\n   \n  });\n}\n \n\nchangeMode(){\n  if(this.offline == true){\n    this.offline = false\n    this.color = 'primary' \n  }else if(this.offline == false){\n    this.offline = true\n    this.color = 'dark'\n  }\n  this.storage.set('offline',this.offline).then((response) => { \n    //console.log('mooooode',this.offline)  \n});\n}\n\ngetAppInfo(){ \n  this.getOffliemode()\n   this.storage.get('USER_INFO').then((response) => {\n    if (response) {\n      this.user_info = response\n      //console.log(this.user_info) \n    }\n  });\n  this.storage.get('year').then((response) => {\n    if (response) {\n      this.year = response \n    } \n  });\n  this.storage.get('STORE_INFO').then((response) => {\n    if (response) {\n      this.store_info = response\n       //console.log(response)\n       //console.log(this.store_info) \n       this.getSalesAccount()    \n       this.prepareInvo()\n    }\n  });\n  this.storage.get('LogHistoryLocal').then((response) => {\n    //console.log('LogHistoryLocal',this.LogHistoryLocalArr)  \n    if (response) {\n      this.LogHistoryLocalArr = response\n    }   \n  });\n  this.storage.get('searchLang').then((response) => {\n    if (response) {\n      this.searchLang = response\n      //console.log('searchLang' ,this.searchLang) \n    }\n  });   \n}\n\n\ngetAppInfoCase2(){  \n  this.getOffliemode()\n   this.storage.get('USER_INFO').then((response) => {\n    if (response) {\n      this.user_info = response\n      //console.log(this.user_info) \n    }\n  });\n  this.storage.get('year').then((response) => {\n    if (response) {\n      this.year = response \n      this.payInvo.yearId = this.year.id\n      this.itemList.forEach(element => {\n        element.yearId =this.year.id\n      });\n    } \n  });\n\n  this.storage.get('LogHistoryLocal').then((response) => {\n    //console.log('LogHistoryLocal',this.LogHistoryLocalArr)  \n    if (response) {\n      this.LogHistoryLocalArr = response\n    }   \n  });\n  this.storage.get('STORE_INFO').then((response) => {\n    if (response) {\n      this.store_info = response\n       //console.log(response)\n       //console.log(this.store_info) \n       this.getSalesAccount()   \n    }   \n  });  \n  this.storage.get('searchLang').then((response) => {\n    if (response) { \n      this.searchLang = response\n      //console.log('searchLang' ,this.searchLang) \n    }\n  }); \n}\n\nprepareOffline(){\n  this.storage.get('itemsLocal').then((response) => {\n    if (response) {\n      this.itemsLocal = response \n       //console.log(this.itemsLocal)\n       this.items = this.itemsLocal  \n    }\n  });  \n  this.storage.get('purchLocal').then((response) => {\n   if (response) {\n     this.purchLocal = response\n     //console.log('purchLocal',this.purchLocal) \n   }\n });\n this.storage.get('purchase').then((response) => {\n  if (response) {\n    this.purchase = response \n     //console.log(this.purchase)  \n  }\n });  \n this.storage.get('sub_accountLocalPurch').then((response) => {\n   if (response) {\n     this.sub_accountLocalPurch = response \n      //console.log(this.sub_accountLocalPurch)  \n   }\n });\n //Yaw\n this.storage.get('sub_accountPurch').then((response) => {\n  if (response) {\n    this.sub_accountPurch = response  \n     //console.log(this.sub_accountPurch)  \n  }\n});\n \n}\n\n\nradioChange(ev){\n  //console.log(ev.target.value) \n }\n\n presentPopover(e?: Event) {\n  //console.log('preent me', e)\n   this.popover2.event = e;\n   this.isOpen = true;\n   this.clear()\n   this.searchResult = this.items\n   setTimeout(() => {\n   this.setFocusOnInput('popInput2')\n   }, 2000);\n }\n\n presentPopoverNotif(e?: Event) {\n  //console.log('preent me', e)\n   this.notifArr = []\n   this.showNotif = false\n   this.popoverNotif3.event = e;\n   this.isOpenNotif = true;  \n }\n didDissmisNotif(){\n  this.isOpenNotif = false\n  //console.log('dismissOver') \n}\n didDissmis(){\n  this.isOpen = false\n  //console.log('dismissOver')\n  this.setFocusOnInput('qtyIdP')\n}\n\n\nsearchItem(ev){\n  this.searchResult = []\n  this.aliasTerm = ev.target.value\n \n  const filterPipe = new FilterPipe; \n  const filterPipe2 = new FilterPipe2;\n  const filterPipe3 = new FilterPipe3 ;\n\n  let  fiteredArr :any\n  if(this.searchLang == 0){\n         fiteredArr = filterPipe.transform(this.items,ev.target.value); \n  }else{\n         fiteredArr = filterPipe3.transform(this.items,ev.target.value);  \n  }\n \n  const fiteredArr2 = filterPipe2.transform(this.items,this.aliasTerm);  \n  //console.log('filte',fiteredArr)\n  //console.log('fiteredArr2',fiteredArr2)\n\n  if(fiteredArr.length>0){\n    fiteredArr.forEach(element => {\n      this.searchResult.push( element)\n    });\n  }\n\n  if(fiteredArr2.length>0){\n     fiteredArr2.forEach(element => {\n    this.searchResult.push( element)\n  });\n  } \n  \n  //console.log('search',this.searchResult)\n}\n\nclear(item_name?){\n if(item_name){\n  this.selectedItem = {\n    id: undefined,\n    dateCreated: \"\", \n    pay_ref:this.payInvo.pay_ref,\n    item_desc: \"\",\n    item_name: \"\",\n    item_unit: \"\",\n    parcode: 0,\n    pay_price: 0,\n    perch_price: 0,\n    qty: 0,\n    tot: 0, \n    aliasEn:\"\"\n  }\n }else{\n  this.searchTerm = \"\" \n }\n}\n\n\nprepareInvo(){ \n  this.selectedAccount = {id:\"\" ,ac_id:\"\",sub_name:\"\",sub_type:\"\",sub_code:\"\",sub_balance:\"\",store_id:\"\",cat_name:\"\",cat_id:\"\",phone:\"\",address:\"\"};\n  this.sub_nameNew = \"\"\n  this.radioVal = 0\n  this.payInvo ={pay_id:undefined ,pay_ref:0 ,store_id:\"\",tot_pr:0,pay:0,pay_date:\"\",pay_time:\"\",user_id:\"\",cust_id:null,pay_method:\"\",discount:0 ,changee:0,sub_name:\"\",payComment:\"\",nextPay:null,yearId:\"\"};\n  this.discountPerc = 0\n  let d = new Date\n// this.payInvo.pay_date  = d.getMonth().toString() + \"/\"+ d.getDay().toString()+ \"/\"+ d.getFullYear().toString() \n this.payInvo.pay_date = this.datePipe.transform(d, 'yyyy-MM-dd')\n \n this.payInvo.pay_time = this.datePipe.transform(d, 'HH:mm:ss') \n this.generateRandom()  \n this.payInvo.store_id =this.store_info.id\n this.payInvo.yearId =this.year.id\n this.payInvo.user_id = this.user_info.id\n //console.log( this.payInvo) \n this.itemList = []\n this.getSalesAccount()  \n this.setFocusOnInput('dstP')\n}\n  \nsetFocusOnInput(Input) {\n  //console.log('setFocusOnInput')\n  if (Input == 'dstP') { \n    this.nameField.nativeElement.focus(); \n   } else if(Input == 'dstPop2') {\n    this.dstPop2.setFocus();\n    this.isOpen = true;\n    this.clear()\n    this.searchResult = this.items\n    setTimeout(() => {\n        this.popInput2.setFocus(); \n    }, 1500);\n  \n   }else if(Input == 'qtyIdP') {\n    this.qtyIdP.setFocus();  \n   }else if(Input == 'popInput2'){\n    this.popInput2.setFocus();  \n   }\n}\n\ngetStockItems(pickName?) {\n  this.storage.get('year').then((response) => {\n    if (response) {\n      this.year = response \n\n      if (this.offline == false) {\n        this.loadingItems = true\n        this.api.stockItems(1,this.year.id).subscribe(data => {\n          //console.log(data)\n          let res = data\n          this.items = res['data']\n    \n          this.items.forEach(element => {\n            if(+element.tswiaQuantity > 0){\n              element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n    \n            }else if(+element.tswiaQuantity < 0){\n              element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n            }\n    \n            element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n          });\n          \n          this.searchResult = this.items\n          if(pickName){\n            this.pickDetail(pickName , 'afterSave') \n          }\n          this.storage.set('itemsLocal' , this.items).then((response) => {\n             \n          }); \n         \n        }, (err) => {\n          //console.log(err);\n        },\n          () => {\n            this.loadingItems = false\n          }\n        )\n      } else {\n        this.items = this.itemsLocal\n        this.items.forEach(element => {\n          element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n        });\n        this.searchResult = this.items\n      }\n    } \n  }); \n}\n\nsumStockItems(pickName?) {\n  if (this.offline == false) {\n    this.api.stockItems(1,this.year.id).subscribe(data => {\n      //console.log(data)\n      let res = data\n      let arr = res['data']\n      for (let index = 0; index < this.items.length; index++) {\n        const element = this.items[index];\n        let flt = arr.filter(x=>x.id == element.id)\n        if(flt.length>0){\n          element.perchQuantity =  +element.perchQuantity + +flt[0].perchQuantity\n        //  element.firstQuantity =  +element.firstQuantity + +flt[0].firstQuantity\n          element.salesQuantity =  +element.salesQuantity + +flt[0].salesQuantity\n        }\n      } \n      this.items.forEach(element => {\n        if(+element.tswiaQuantity > 0){\n          element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n\n        }else if(+element.tswiaQuantity < 0){\n          element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n        }\n\n        element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n      });\n      this.searchResult = this.items\n      if(pickName){\n        this.pickDetail(pickName , 'afterSave') \n      }\n    }, (err) => {\n      //console.log(err);\n    },\n      () => {\n      }\n    )\n  } else {\n    this.items = this.itemsLocal\n    this.items.forEach(element => {\n      element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n    });\n    this.searchResult = this.items\n  }\n\n}\n\ngetStockItemsAfterUpdate() {\n  let fl : Array<any>=[]\n      if(this.searchLang == 1){\n        fl= this.items.filter(x=>x.item_desc == this.selectedItem.item_desc)\n       //console.log('hyrr',fl);\n     }else{\n        fl= this.items.filter(x=>x.item_name == this.selectedItem.item_name)\n       //console.log(fl);\n     }\n        \n    let qt = +this.selectedItem.qty\n    let perch = +this.selectedItem.perch_price\n    let pay = +this.selectedItem.pay_price\n\n    //console.log(fl);\n    this.selectedItem = {\n      id:fl[0]['id'],\n      dateCreated:fl[0]['dateCreated'],\n      pay_ref:this.payInvo.pay_ref,\n      item_desc:fl[0]['item_desc'],\n      item_name:fl[0]['item_name'],\n      item_unit:fl[0]['item_unit'],\n      parcode:fl[0]['parcode'],\n      pay_price:pay,\n      perch_price:perch,\n      qty:qt,\n      tot:fl[0]['perch_price'],\n      aliasEn:fl[0]['aliasEn']\n    }\n    \n    this.addTolist()\n  \n  if (this.offline == false) {\n    this.getItemLoader =true\n    this.api.stockItems(1,this.year.id).subscribe(data => {\n      //console.log(data)\n      let res = data\n      this.items = res['data']\n      this.items.forEach(element => {\n        if(+element.tswiaQuantity > 0){\n          element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n\n        }else if(+element.tswiaQuantity < 0){\n          element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n        }\n\n        element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n      });\n      this.searchResult = this.items\n      //console.log('searchResult after Update',this.searchResult)\n      this.getItemLoader =false\n      this.storage.set('itemsLocal', this.items).then((response) => {\n      //console.log('resoponse set', response)\n      this.storage.get('itemsLocal').then((response2) => {\n        if (response) {\n          this.itemsLocal = response2 \n          this.searchResult = [] \n           this.items = this.itemsLocal  \n           this.searchResult = this.items\n        //   this.loadingController.dismiss() \n        }\n      }); \n    });  \n\n\n      \n      // this.sumStockItemsAfterUpdate()\n    }, (err) => {\n      //console.log(err);\n      this.getItemLoader =false\n    },\n      () => {\n      }\n    )\n  } else {\n    this.items = this.itemsLocal\n    this.items.forEach(element => {\n      element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n    });\n    this.searchResult = this.items\n  } \n}\n\nsumStockItemsAfterUpdate() { \n  if (this.offline == false) {\n    this.getItemLoader =true\n    this.api.stockItems(1,this.year.id).subscribe(data => {\n      //console.log(data)\n      let res = data\n      let arr = res['data']\n      for (let index = 0; index < this.items.length; index++) {\n        const element = this.items[index];\n        let flt = arr.filter(x=>x.id == element.id)\n        if(flt.length>0){\n          element.perchQuantity =  +element.perchQuantity + +flt[0].perchQuantity\n         // element.firstQuantity =  +element.firstQuantity + +flt[0].firstQuantity\n          element.salesQuantity =  +element.salesQuantity + +flt[0].salesQuantity\n        }\n      }   \n      this.items.forEach(element => {\n        if(+element.tswiaQuantity > 0){\n          element.salesQuantity = +element.salesQuantity + +element.tswiaQuantity \n\n        }else if(+element.tswiaQuantity < 0){\n          element.perchQuantity = +element.perchQuantity + Math.abs(+element.tswiaQuantity) \n        }\n\n        element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n      });\n      this.searchResult = this.items\n      //console.log('searchResult after Update',this.searchResult)\n      this.getItemLoader =false\n      this.storage.set('itemsLocal', this.items).then((response) => {\n      //console.log('resoponse set', response)\n      this.storage.get('itemsLocal').then((response2) => {\n        if (response) {\n          this.itemsLocal = response2 \n          this.searchResult = [] \n           this.items = this.itemsLocal  \n           this.searchResult = this.items\n        //   this.loadingController.dismiss() \n        }\n      }); \n    });  \n    }, (err) => {\n      //console.log(err);\n      this.getItemLoader =false\n    },\n      () => {\n      }\n    )\n  } else {\n    this.items = this.itemsLocal\n    this.items.forEach(element => {\n      element.quantity = (+element.perchQuantity + +element.firstQuantity) - +element.salesQuantity\n    });\n    this.searchResult = this.items\n  } \n}\n\nafterSync(flt){\n  //push flt to local after chanch the logStatus to 1\n  flt.forEach(element => {\n   if(this.LogHistoryLocalArr.some(e => e.logRef === element.logRef) == false) {\n     this.LogHistoryLocalArr.push(element)\n   }else{\n    //get index of it and replace it with value from flt\n    let index = this.LogHistoryLocalArr.findIndex(x => x.logRef === element.logRef);\n    if(index != -1){\n      this.LogHistoryLocalArr[index] = element\n    }\n   }\n    \n  });\n\n   //set loghistory locally  \n //console.log ('finish ' ,  this.LogHistoryLocalArr)\n this.storage.set('LogHistoryLocal',this.LogHistoryLocalArr).then((response) => {\n        \n }) \n}\n\nqtyClick(i){\n  //console.log(i)\n  this.showMe = i\n}\n\nhideMe(i){\n  this.showMe = null \n}\n\neditCell(i){\n  if(+this.itemList[i].quantity > 0 && +this.itemList[i].perch_price > 0){\n    this.itemList[i].tot = +this.itemList[i].quantity * +this.itemList[i].perch_price\n    this.discountPerc = 0\n    this.payInvo.discount = 0\n    this.hideMe(i)\n    this.getTotal() \n  }else{\n    this.presentToast(\"خطأ في الإدخال \", \"danger\")\n  }\n}\n \n\nionViewDidEnter(){\n  setTimeout(() => {\n    //check all changes in case notif arr >0 \n     this.subiscribtionNotif = this.behavApi.currentNotif.subscribe(notif=>{\n      //console.log('notif page currentNotif behavApiRespnse',notif) \n       if(notif.length == 0){\n        this.notifArr = []\n       }else{\n        this.notifArr =  notif[0]  \n       }\n\n      if(this.notifArr.length> 0){ \n        this.showNotif = true\n        this.itemsLocal = notif[1] \n        this.items =  this.itemsLocal\n        this.searchResult = this.items\n        // this.sub_accountSales = notif[2] \n        // //console.log(this.sub_accountLocalSales)  \n        this.storage.get('LogHistoryLocal').then((response) => { \n          if (response) {\n            this.LogHistoryLocalArr = response  \n          } \n        });\n       // this.getSubBalance()\n      } else {\n        //console.log('no updates')\n        this.showNotif = false  \n      } \n      })\n    }, 10000); \n} \n\n\n\nasync presentModal2(id?, status?) {\n  // if (id !='null' && status == 'edit') {\n  //    let fl= this.items.filter(x=>x.id == id)\n  // //console.log(fl);\n\n  // this.selectedItem = {\n  //   id:fl[0]['id'],\n  //   item_desc:fl[0]['item_desc'],\n  //   model:fl[0]['model'],\n  //   item_name:fl[0]['item_name'],\n  //   min_qty:fl[0]['min_qty'],\n  //   part_no:fl[0]['part_no'],\n  //   brand:fl[0]['brand'],\n  //   item_unit:fl[0]['item_unit'],\n  //   item_parcode:fl[0]['item_parcode'],\n  //   pay_price:fl[0]['pay_price'],\n  //   perch_price:fl[0]['perch_price']\n  // }\n\n   \n  // }\n \n\n  const modal = await this.modalController.create({\n    component: ItemModalPage ,\n    componentProps: {\n      \"item\": this.selectedItem,\n      \"status\": status\n    }\n  });\n  \n  modal.onDidDismiss().then((dataReturned) => {\n    if (dataReturned !== null) {\n      //console.log(dataReturned )\n      this.doAfterDissmiss(dataReturned)\n    }\n  });\n\n  return await modal.present(); \n}\n\ngetItems(pickName?) {\n  if (this.offline == false) {\n    this.api.getItems().subscribe(data => {\n      //console.log(data)\n      let res = data\n      this.items = res['data']\n      this.searchResult = this.items\n      if(pickName){\n        this.pickDetail(pickName , 'afterSave') \n      }\n    }, (err) => {\n      //console.log(err);\n    })\n  } else {\n    this.items = this.itemsLocal \n    this.searchResult = this.items\n  }\n}\n\ngetSalesAccount(){\n  if (this.offline == false) {\n    this.api.getPerchAccounts(this.store_info.id ,this.year.id).subscribe(data =>{\n       let res = data\n       this.sub_account = res ['data']\n       //console.log(this.sub_account)\n        this.addSubaccountLocal()\n     }, (err) => {\n     //console.log(err);\n   }) \n  }else{\n    this.MixSubaccountSalesOffline()\n   } \n } \n\naddSubaccountLocal(){\n  if (this.sub_account) {\n    if (this.sub_accountLocalPurch) {\n      for (let i = 0; i < this.sub_accountLocalPurch.length; i++) {\n        const element = this.sub_accountLocalPurch[i];\n        this.sub_account.push(element)\n      }\n    }\n  } else{\n    if (this.sub_accountLocalPurch) {\n      this.sub_account = this.sub_accountLocalPurch \n    }\n  } \n}\n\nMixSubaccountSalesOffline(){\n  this.sub_account=[] \n    if (this.sub_accountLocalPurch) {\n      for (let i = 0; i < this.sub_accountLocalPurch.length; i++) {\n        const element = this.sub_accountLocalPurch[i];\n        this.sub_account.push(element)\n      }\n    }\n    if (this.sub_accountPurch) {\n      for (let i = 0; i < this.sub_accountPurch.length; i++) {\n        const element = this.sub_accountPurch[i];\n        this.sub_account.push(element)\n      }\n    } \n  }\n\ngenerateRandom():any{\nlet da = new Date \n//console.log(da)\nlet randomsNumber = da.getMonth().toString() + da.getDay().toString() + da.getHours().toString()+ da.getMinutes().toString()+da.getSeconds().toString()+da.getMilliseconds().toString()\nthis.payInvo.pay_ref = this.store_info.store_ref + randomsNumber\n//console.log(randomsNumber)\n//console.log(this.payInvo.pay_ref)  \n}\n\n\nselectFromPop(item){\n  //console.log(item)\n  this.selectedItem = {\n    id:item.id,\n    dateCreated:item.dateCreated,\n    pay_ref:this.payInvo.pay_ref,\n    item_desc:item.item_desc,\n    item_name:item.item_name,\n    item_unit:item.item_unit,\n    parcode:item.parcode,\n    pay_price:item.pay_price,\n    perch_price:item.perch_price,\n    qty:\"\",\n    tot:item.perch_price, \n    aliasEn:item.aliasEn\n  } \n    this.searchTerm = item.item_name\n    //console.log( this.selectedItem); \n    this.didDissmis()\n    \n  }\n\npickDetail(ev , notev?){\n  let evVal \n  if(notev){\n   evVal = ev\n   this.searchLang = 0\n  }else{\n  evVal = ev.target.value\n  }\n  //console.log('evVal',evVal);\n  let fl : Array<any>=[]\n  if(this.searchLang == 1){\n    fl= this.items.filter(x=>x.item_desc == evVal)\n   //console.log('hyrr',fl);\n }else{\n    fl= this.items.filter(x=>x.item_name == evVal)\n   //console.log(fl);\n }\n\n  \n//console.log(fl);\nthis.selectedItem = {\n  id:fl[0]['id'],\n  dateCreated:fl[0]['dateCreated'],\n  pay_ref:this.payInvo.pay_ref,\n  item_desc:fl[0]['item_desc'],\n  item_name:fl[0]['item_name'],\n  item_unit:fl[0]['item_unit'],\n  parcode:fl[0]['parcode'],\n  pay_price:fl[0]['pay_price'],\n  perch_price:fl[0]['perch_price'],\n  qty:0,\n  tot:fl[0]['perch_price'],\n   aliasEn:fl[0]['aliasEn']\n}\n//console.log( this.selectedItem);\nthis.setFocusOnInput('qtyIdP')\n\n}\n\nqtyhange(ev){\n//console.log(ev);\nthis.selectedItem.tot = (this.selectedItem.qty * +this.selectedItem.perch_price).toFixed(2)\n}\n\n\npayPricehange(ev){\n  if((+this.selectedItem.perch_price >= +this.selectedItem.pay_price) && (+this.selectedItem.perch_price > 0 && +this.selectedItem.pay_price >0)){\n    this.presentToast('سعر الشراء اعلي من سعر البيع ' , 'warning')\n  }\n//console.log(ev);\nthis.selectedItem.tot = (this.selectedItem.qty * +this.selectedItem.perch_price).toFixed(2)\n}\n\nperchPricehange(ev){\n  if((this.selectedItem.perch_price >= this.selectedItem.pay_price) &&  this.selectedItem.perch_price > 0 && this.selectedItem.pay_price >0){\n    this.presentToast('سعر الشراء اعلي من سعر البيع ' , 'warning')\n  }\n//console.log(ev);\nthis.selectedItem.tot = (this.selectedItem.qty * +this.selectedItem.perch_price).toFixed(2)\n}\n\npayChange(ev){\n//console.log(ev); \nthis.payInvo.changee = +( this.payInvo.tot_pr - +this.payInvo.discount) - ev.target.value \n}\n\ndiscountChange(ev){\n  //console.log('discountChange' ,ev); \n  this.discountPerc = ((+this.payInvo.discount /+this.payInvo.tot_pr) * 100 )\n  this.payInvo.changee = +( this.payInvo.tot_pr - ev.target.value) - this.payInvo.pay\n}\n\ndiscountPerChange(ev){\n  //console.log('discountPerChange',ev);\n  this.payInvo.discount = (+this.payInvo.tot_pr * +this.discountPerc/100).toFixed(2)\n  this.payInvo.changee = +( this.payInvo.tot_pr -  this.payInvo.discount ) - this.payInvo.pay\n}\ndeleteItem(index){\n//console.log( index); \nthis.itemList.splice(index,1)\n//console.log( this.itemList);\nthis.payInvo.pay =0\nthis.payInvo.discount=0\nthis.getTotal()\n}\n\n\nasync presentToast(msg,color?) {\nconst toast = await this.toast.create({\n  message: msg,\n  duration: 2000,\n  color:color,\n  cssClass:'cust_Toast',\n  mode:'ios',\n  position:'top' \n});\ntoast.present();\n}\n\ngetTotal(){\nlet sum = this.itemList.reduce( (acc, obj)=> { return acc + +obj.tot; }, 0);\n//console.log('sum', sum)\nthis.payInvo.tot_pr = sum - +this.payInvo.discount\nthis.payInvo.changee = +(sum - +this.payInvo.discount) - this.payInvo.pay\nthis.payInvo.tot_pr = this.payInvo.tot_pr.toFixed(2)\nthis.payInvo.changee = this.payInvo.changee.toFixed(2)\n} \n\nchechPrice(cases?){\n  if (this.selectedItem.item_name == \"\" || this.selectedItem.id == \"\" || +this.selectedItem.qty == 0) {\n    this.presentToast('الرجاء اختيار الصنف وتحديد الكمية', 'danger')\n  } else {\n    if (cases == 'check'){\n        if(+this.selectedItem.perch_price >= +this.selectedItem.pay_price){\n          this.priceChangeAlertConfirm()\n        }else{\n          this.addTolist()\n        }\n      }else if(cases == 'uncheck'){\n      ///update item => getiTEmstock and sysnc=> reselectItem => addtolist\\\n      this.updateItemDetail()\n      }  \n  }\n \n}\n\n// 1386.00  =>  1490.00\n\n\naddTolist() { \n  if (this.selectedItem.item_name == \"\" || this.selectedItem.id == \"\" || +this.selectedItem.qty == 0) {\n    this.presentToast('الرجاء ادختيار الصنف وتحديد الكمية', 'danger')\n  } else {\n    let fl: any = []\n    if (this.itemList.length > 0) {\n      fl = this.itemList.filter(x => x.item_name == this.selectedItem.item_name &&  x.perch_price == this.selectedItem.perch_price)\n    }\n    if (fl.length == 0) {\n      let d =   new Date\n      let r= this.datePipe.transform(d, 'dd-MM-YYYY')\n\n      this.itemList.push({\n      \"id\" : 'NULL',\n      \"pay_ref\" :this.selectedItem.pay_ref,\n      \"item_name\" :this.selectedItem.item_name,\n      \"pay_price\" :this.selectedItem.pay_price,\n      \"quantity\" : +this.selectedItem.qty,\n      \"tot\" :this.selectedItem.tot, \n      \"store_id\" :+this.store_info.id, \n      \"yearId\" :+this.year.id, \n      \"item_id\" : +this.selectedItem.id,\n      \"dateCreated\" : r,\n      \"perch_price\":this.selectedItem.perch_price\n      })\n    } else {\n      //console.log(this.itemList);\n      //console.log(fl[0].quantity);\n      //console.log(+this.selectedItem.qty);\n\n      this.selectedItem.qty = +fl[0].quantity + +this.selectedItem.qty\n      let index = this.itemList.map(e => e.item_name).indexOf(this.selectedItem.item_name);\n      this.itemList[index].quantity = +this.selectedItem.qty\n      this.itemList[index].tot = (+this.selectedItem.qty * +this.selectedItem.perch_price).toFixed(2)\n     // this.itemList[index].tot.toFixed(2)\n    }\n\n    this.selectedItem = {\n      id: undefined,\n      dateCreated: \"\", \n      pay_ref:this.payInvo.pay_ref,\n      item_desc: \"\",\n      item_name: \"\",\n      item_unit: \"\",\n      parcode: 0,\n      pay_price: 0,\n      perch_price: 0,\n      qty: 0,\n      tot: 0,\n      aliasEn:\"\"\n    }\n    this.getTotal()\n\n  }\n\n}\n\nvalidate():boolean{\n  let fl :any = []\n  if (this.sub_account) {\n     fl = this.sub_account.filter(x=>x.sub_name == this.sub_nameNew )\n  //console.log(fl)\n  }\n  \nif (this.itemList.length == 0  || this.payInvo.pay_ref == \"\" ) {\n  this.presentToast('الرجاء ادخال اصناف الي القائمة','danger')\n  return false\n}else if( this.radioVal == 1 && this.sub_nameNew ==\"\") {\n  this.presentToast('sالرجاء إختيار حساب العميل','danger')\n  return false\n}else if( this.radioVal == 0 && this.selectedAccount.sub_name ==\"\") {\n  this.presentToast('wالرجاء إختيار حساب العميل','danger')\n  return false\n}\nelse if(this.payInvo.cust_id == null && this.radioVal == 0 && this.selectedAccount.sub_name ==\"\") {\n  this.presentToast('الرجاء إختيار حساب العميل','danger')\n  return false\n}else if(+this.payInvo.cust_id == 0 && this.radioVal == 0) {\n  this.presentToast('الرجاء إختيار حساب العميل','danger')\n  return false\n}\nelse if(this.payInvo.pay_date == \"\" || this.payInvo.pay_date == undefined) {\n  this.presentToast('الرجاء تحديد التاريخ ','danger')\n  return false\n}else if(this.payInvo.changee < 0 ) {\n  this.presentToast('الرجاء مراجعة المبلغ المستلم والخصم  ','danger')\n  return false\n}else if(this.radioVal == 1 && fl.length > 0) {\n  this.presentToast('العميل موجود مسبقا , الرجاء اختيارة من قائمة العملاء','danger')\n  return false\n}\n else {\n  return true\n}\n}\n\nsave() { \n  let d : Date = this.payInvo.pay_date \n  this.payInvo.sub_name = this.selectedAccount.sub_name \n  this.payInvo.pay_date = this.datePipe.transform(d, 'yyyy-MM-dd')\n  //console.log('save testing',this.payInvo ,  this.payInvo.sub_name)\n    if (this.validate() == true) {\n       this.presentLoadingWithOptions('جاري حفظ البيانات ...')\n        // حساب محفوظ اوننلاين وموجود في قائمة العملاء\n       if(this.radioVal == 0 && this.selectedAccount.id != null){\n        if (this.offline == true) {\n        this.saveInvoLocal()\n        }else{\n         this.saveInvo() \n        }\n       } \n       // حساب محفوظ محلي وموجود في قائمة العملاء\n       else if(this.radioVal == 0 && this.selectedAccount.id == null && this.selectedAccount.sub_name!=\"\") {\n        if (this.offline == true) {\n          this.saveInvoLocal()\n        }else{\n          this.saveSubAccount()\n        }\n      }\n      //حساب جديد\n       else if(this.radioVal == 1) {\n        //console.log(this.radioVal,'saveSubAccountlocal()')\n        if (this.offline == true) {\n          //console.log('saveSubAccountlocal()')\n        this.saveSubAccountlocal()\n        }else{\n          this.saveSubAccount()\n        }\n        \n      } \n    }  \n}\n\n\n\npickAccount(ev){\n  let fl= this.sub_account.filter(x=>x.sub_name == ev.target.value)\n  //console.log(fl);\n  if (fl.length > 0) {\n  this.selectedAccount = {\n    id:fl[0]['id'],\n    ac_id:fl[0]['ac_id'],\n    sub_name:fl[0]['sub_name'],\n    sub_type:fl[0]['sub_type'],\n    sub_code:fl[0]['sub_code'], \n    store_id:fl[0]['store_id'],\n    sub_balance:fl[0]['sub_balance'],\n    cat_id:fl[0]['cat_id'],\n    cat_name:fl[0]['cat_name'],\n    phone:fl[0]['phone'],\n    address:fl[0]['address'] \n  }\n  //console.log( this.selectedAccount);\n  this.payInvo.cust_id = this.selectedAccount.id\n  this.payInvo.sub_name = this.selectedAccount.sub_name\n  //  this.setFocusOnInput()\n}else{\n    this.presentToast('خطأ في اسم الحساب ', 'danger') \n    this.selectedItem.item_name =\"\"\n  }\n  }\n\npreparenewaccount(){ \n  if (this.selectedAccount.sub_name.length>0 && this.selectedAccount.id == null) {\n    // this.selectedAccount.sub_name = this.payInvo.sub_name  \n  } else {\n     //console.log('slwcted from drop' ) \n      this.selectedAccount.sub_name = this.sub_nameNew\n      this.payInvo.sub_name  =this.selectedAccount.sub_name  \n}\n  this.selectedAccount.id=null  \n  this.selectedAccount.ac_id = 2\n  this.selectedAccount.sub_type=\"credit\"\n  this.selectedAccount.sub_code=null\n  this.selectedAccount.sub_balance=\"0\"\n  this.selectedAccount.cat_id = 2\n  this.selectedAccount.cat_name = 'الموردين'\n  this.selectedAccount.store_id=this.store_info.id  \n  //console.log('preparenewaccount' , this.selectedAccount)\n}\n\n\nsaveSubAccount(){\n//console.log('crea accoun')      \nthis.preparenewaccount()\nthis.api.saveSubAccount(this.selectedAccount).subscribe(data => {\n//console.log(data)\nif (data['message'] != 'Post Not Created') {\n  this.payInvo.cust_id =  data['message'] \n   //حالة الحساب موجود محلي والحفظ انلاين يسحب من المحلي ويضاف سsalesaccount   \n   if(this.radioVal == 0 && this.selectedAccount.id == null && this.offline == false) {\n    this.sub_accountLocalPurch = this.sub_accountLocalPurch.filter(x=>x.sub_name != this.selectedAccount.sub_name)\n    //console.log('imhereeeeeeeeeeeeeeeeee')\n    this.storage.set('sub_accountLocalPurch', this.sub_accountLocalPurch).then((response) => {\n    //console.log('resoponse set', this.sub_accountLocalPurch)\n    this.selectedAccount.id = this.payInvo.cust_id\n    this.sub_accountPurch.push(this.selectedAccount)\n    this.storage.set('sub_accountPurch', this.sub_accountPurch).then((response) => {\n\n    })\n   });\n  }\n\n\n  this.logHistoryArr.push(\n    {\n      \"id\":null,\n      \"logRef\":this.generateRandom2('insert supplier'),\n      \"userId\":this.user_info.id,\n      \"typee\":'insert supplier',\n      \"datee\": momentObj(new Date()).locale('en').format('YYYY-MM-DD HH:mm:ss'),\n      \"logStatus\":0,\n      \"logToken\":JSON.stringify(this.selectedAccount)  ,\n      \"yearId\":this.year.id,\n      \"store_id\":this.store_info.id\n    }\n  )\n  this.saveInvo()\n}else {\n   this.presentToast('لم يتم انشاء حساب للمورد , خطا في الإتصال حاول مرة اخري' , 'danger')\n} \n  }, (err) => {\n//console.log(err);\nthis.presentToast('لم يتم انشاء حساب للمورد , خطا في الإتصال حاول مرة اخري' , 'danger')\n },()=>{\n this.loadingController.dismiss()\n })\n}\n\n\nsaveSubAccountlocal(){\n  //console.log('crea accoun')\n  this.preparenewaccount()\n// add new account to acount list tobe available in next load\nif (!this.sub_account) {\n  this.sub_account = [] \n }  \n\n this.sub_account.push(\n  this.selectedAccount\n )\n  this.sub_accountLocalPurch.push(\n    this.selectedAccount\n  )\n  this.storage.set('sub_accountLocalPurch', this.sub_accountLocalPurch).then((response) => {\n    //console.log('resoponse set', this.sub_accountLocalPurch)\n   // this.payInvo.cust_id =  data['message']\n    this.saveInvoLocal()\n  });\n }\n\n saveInvoLocal() {\n  //console.log('resoponse set', this.payInvo.sub_name)\n // this.payInvo.sub_name = this.selectedAccount.sub_name\n  this.purchLocal.push({\n    \"payInvo\": this.payInvo,\n    \"itemList\": this.itemList \n  })\n  this.storage.set('purchLocal', this.purchLocal).then((response) => {\n    //console.log('resoponse set', response)\n    this.printArr = []\n  this.printArr.push({\n    'payInvo': this.payInvo,\n    'itemList':this.itemList,\n    'selectedAccount' : this.selectedAccount,\n    'sub_nameNew' : this.sub_nameNew\n  }) \n  //console.log(this.printArr)\n    this.presentAlertConfirm()\n    this.presentToast('تم الحفظ بنجاح', 'success')\n  });\n}\n\nsaveInvo(){\n  this.api.savePerchInvo(this.payInvo).subscribe(data => {\n  //console.log(data)\n  this.saveitemList()\n    }, (err) => {\n  //console.log(err);\n  this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n  })\n}\n\nsaveitemList(){  \nthis.api.savePerchitemList(this.itemList).subscribe(data=>{ \n  //console.log(data) \n  this.printArr = []\n  this.printArr.push({\n    'payInvo': this.payInvo,\n    'itemList':this.itemList,\n    'selectedAccount' : this.selectedAccount,\n    'sub_nameNew' : this.sub_nameNew\n  }) \n  //console.log(this.printArr)\n  this.purchase = this.purchase.filter(item => item.payInvo.pay_ref != this.payInvo.pay_ref);\n       //console.log(' case ffff ' ,this.purchase)\n       this.purchase.push({\n        \"payInvo\": this.payInvo,\n        \"itemList\": this.itemList \n      }) \n      this.storage.set('purchase', this.purchase).then((response) => {\n      //console.log('purchase', response) \n      })\n\n\n      let arr:Array<any> = []\n      arr.push({\n        \"payInvo\": this.payInvo,\n        \"itemList\": this.itemList \n      })\n      this.logHistoryArr.push(\n        {\n          \"id\":null,\n          \"logRef\":this.generateRandom2('insert purchase'),\n          \"userId\":this.user_info.id,\n          \"typee\":'insert purchase',\n          \"datee\": momentObj(new Date()).locale('en').format('YYYY-MM-DD HH:mm:ss'),\n          \"logStatus\":0,\n          \"logToken\":JSON.stringify(arr[0]),\n          \"yearId\":this.year.id,\n          \"store_id\":this.store_info.id\n        }\n        )\n        this.performSync()\n}, (err) => {\n  //console.log(err);\n  this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n}, () => {\n  this.loadingController.dismiss()\n}\n)      \n}\n\n\ngenerateRandom2(role):any{\n  let da = new Date \n  //console.log(da)\n  let randomsNumber = da.getMonth().toString() + da.getDay().toString() + da.getHours().toString()+ da.getMinutes().toString()+da.getSeconds().toString()+da.getMilliseconds().toString() + role\n  return this.store_info.store_ref + randomsNumber \n}\n\n \n\n\n  saveLogHistory(){  \n    //let mdata =  this.prepareLogHistory(itemData , firstq , role) \n    //console.log('this.logHistoryArr[0]',this.logHistoryArr[0])\n     let role\n     let cust\n     let invo \n     if (this.logHistoryArr.length > 1) {\n      invo = this.logHistoryArr[1]\n      cust = this.logHistoryArr[0]\n      role = 'new account'\n     } else {\n      invo = this.logHistoryArr[0]\n      role = undefined\n     }\n    this.api.saveLogHistoryMultiSales(invo ,cust,role).subscribe(data => {\n     //console.log(data)\n     if (data['message'] != 'Post Not Created') { \n      this.logHistoryArr = []\n      this.presentAlertConfirm() \n      this.presentToast('تم الحفظ بنجاح' , 'success') \n     }else{\n       this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger') \n     }\n   }, (err) => {\n     //console.log(err);\n     this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n   }) \n  }\n\n\n  saveLogHistoryForInsertItem(){  \n    //let mdata =  this.prepareLogHistory(itemData , firstq , role) \n    //console.log('this.logHistoryArr[0]',this.logHistoryArr[0])\n    \n     let firstq\n     let item \n     if (this.logHistoryArr.length > 1) {\n      item = this.logHistoryArr[1]\n      firstq = this.logHistoryArr[0] \n     }  \n    this.api.saveLogHistoryMulti(item ,firstq,'insert').subscribe(data => {\n     //console.log(data)\n     if (data['message'] != 'Post Not Created') { \n     this.logHistoryArr = []\n     \n     }else{\n       this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger') \n     }\n   }, (err) => {\n     //console.log(err);\n     this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n   }) \n  }\n\n  saveLogHistoryForUpdateItem(){  \n    //let mdata =  this.prepareLogHistory(itemData , firstq , role) \n    //console.log('this.logHistoryArr[0]',this.logHistoryArr[0])\n     let role\n     let cust\n     let invo \n     \n    this.api.saveLogHistoryMulti(this.logHistoryArr[0] ,undefined,'update').subscribe(data => {\n     //console.log(data)\n     if (data['message'] != 'Post Not Created') { \n     this.logHistoryArr = []\n     }else{\n       this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger') \n     }\n   }, (err) => {\n     //console.log(err);\n     this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n   }) \n  }\n\n\nasync presentModal(printArr , page) { \nconst modal = await this.modalController.create({\n  component: PrintModalPage ,\n  componentProps: {\n    \"printArr\": this.printArr,\n    \"page\": page\n  }\n});\n\nmodal.onDidDismiss().then((dataReturned) => {\n  if (dataReturned !== null) {\n    //console.log(dataReturned )\n   this.prepareInvo()\n  }\n});\n\nreturn await modal.present(); \n}\n\nasync presentLoadingWithOptions(msg?) {\nconst loading = await this.loadingController.create({\n  spinner: 'bubbles',\n  mode:'ios',\n  duration: 5000,\n  message: msg,\n  translucent: true,\n // cssClass: 'custom-class custom-loading',\n  backdropDismiss: false\n});\nawait loading.present();\n\nconst { role, data } = await loading.onDidDismiss();\n//console.log('Loading dismissed with role:', role);\n}\n//\ndoAfterDissmiss(data){\n  if (data.role == 'save' ) {\n    //console.log('edit' ,data.data)\n    this.saveItem(data.data )  \n  } \n}\n\nsaveItem(mdata){ \n  //prepare log history\n  this.logHistoryArr.push(\n    {\n      \"id\":null,\n      \"logRef\":this.generateRandom2('insert item'),\n      \"userId\":this.user_info.id,\n      \"typee\":'insert item',\n      \"datee\": momentObj(new Date()).locale('en').format('YYYY-MM-DD HH:mm:ss'),\n      \"logStatus\":0,\n      \"logToken\":JSON.stringify(mdata[0]),\n      \"yearId\":this.year.id,\n      \"store_id\":this.store_info.id\n    }\n    )\n\n  this.presentLoadingWithOptions('جاري حفظ البيانات ...')\n this.api.saveitemMulti(mdata[0]).subscribe(data => {\n   //console.log(data)\n   if (data['message'] != 'Post Not Created') { \n     this.firstq = {id:null ,item_id:data['message'] , store_id:this.store_info.id , quantity :mdata[1].quantity ,pay_price:mdata[0].pay_price,perch_price:mdata[0].perch_price ,fq_year:'2022' ,item_name:mdata[0].item_name}\n     this.saveFierstQty(mdata[0].item_name) \n   }else{\n     this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger') \n   }\n  \n }, (err) => {\n   //console.log(err);\n   this.presentToast('لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n }) \n}\n\nasync saveFierstQty(item_name){  \nthis.api.saveFirstQty(this.firstq).subscribe(data=>{ \n //console.log(data)  \n  //this.getItems(item_name\n  this.logHistoryArr.push(\n    {\n      \"id\":null,\n      \"logRef\":this.generateRandom2('insert firstq'),\n      \"userId\":this.user_info.id,\n      \"typee\":'insert firstq',\n      \"datee\": momentObj(new Date()).locale('en').format('YYYY-MM-DD HH:mm:ss'),\n      \"logStatus\":0,\n      \"logToken\":JSON.stringify(this.firstq),\n      \"yearId\":this.year.id,\n      \"store_id\":this.store_info.id\n    }\n    )\n\n    //performSync()\n    this.performSyncItem()\n    //this.getStockItems(item_name)\n  //  this.presentToast('تم الحفظ بنجاح' , 'success')\n}, (err) => {\n //console.log(err);\n this.presentToast('1لم يتم حفظ البيانات , خطا في الإتصال حاول مرة اخري' , 'danger')\n\n this.loadingController.dismiss()\n\n}, () => {\n this.loadingController.dismiss()\n}\n)      \n}\n\nasync  performSync(){\n  await this.saveLogHistory() \n    await this.getStockItems( ) \n  }\n\n  ionViewDidLeave(){\n    //console.log('ionViewWillLeave') \n    this.subiscribtionNotif.unsubscribe()\n  } \n  \nasync  performSyncItem(item_name?){\n  await this.saveLogHistoryForInsertItem()\n  if(item_name){\n    await this.getStockItems(item_name)\n  }else{\n    await this.getStockItems() \n  }\n \n  }\n\n  async  performSync2(){\n    await this.saveLogHistoryForUpdateItem() \n    await this.getStockItemsAfterUpdate()   \n  }\n   \n     \n \n\n\n\n}\n\n"],"names":[],"sourceRoot":"webpack:///"}